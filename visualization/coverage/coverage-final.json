{"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/codeMap.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/codeMap.ts","statementMap":{"0":{"start":{"line":6,"column":0},"end":{"line":8,"column":54}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"codeMap.js","sourceRoot":"","sources":["codeMap.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,2BAA2B,CAAC;AACnC,OAAO,qBAAqB,CAAC;AAE7B,OAAO,EAAC,cAAc,EAAC,MAAM,kBAAkB,CAAC;AAChD,OAAO,EAAC,gBAAgB,EAAC,MAAM,oBAAoB,CAAC;AAEpD,OAAO,CAAC,MAAM,CAAC,wBAAwB,EAAC,CAAC,oCAAoC,EAAE,qBAAqB,CAAC,CAAC;KAErG,SAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,gBAAgB,CAAC;KAEtD,OAAO,CACJ,cAAc,CAAC,QAAQ,EACvB,cAAc,CACjB,CAAC","sourcesContent":["import angular from \"angular\";\n\nimport \"./threeViewer/threeViewer\";\nimport \"../core/core.module\";\n\nimport {CodeMapService} from \"./codeMapService\";\nimport {codeMapComponent} from \"./codeMapComponent\";\n\nangular.module(\"app.codeCharta.codeMap\",[\"app.codeCharta.codeMap.threeViewer\", \"app.codeCharta.core\"])\n\n.component(codeMapComponent.selector, codeMapComponent)\n\n.service(\n    CodeMapService.SELECTOR,\n    CodeMapService\n);"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"40a1ed47196e7ddd0745ea98555b24ff8b379283"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/codeMapComponent.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/codeMapComponent.ts","statementMap":{"0":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"1":{"start":{"line":8,"column":8},"end":{"line":8,"column":53}},"2":{"start":{"line":9,"column":8},"end":{"line":9,"column":57}},"3":{"start":{"line":10,"column":8},"end":{"line":10,"column":51}},"4":{"start":{"line":11,"column":8},"end":{"line":11,"column":63}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":53}},"6":{"start":{"line":13,"column":8},"end":{"line":13,"column":33}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":45}},"8":{"start":{"line":19,"column":8},"end":{"line":19,"column":28}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":29}},"10":{"start":{"line":29,"column":8},"end":{"line":29,"column":36}},"11":{"start":{"line":30,"column":8},"end":{"line":30,"column":91}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":87}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":65}},"14":{"start":{"line":35,"column":8},"end":{"line":35,"column":55}},"15":{"start":{"line":36,"column":8},"end":{"line":36,"column":42}},"16":{"start":{"line":39,"column":8},"end":{"line":41,"column":11}},"17":{"start":{"line":40,"column":12},"end":{"line":40,"column":50}},"18":{"start":{"line":42,"column":8},"end":{"line":44,"column":11}},"19":{"start":{"line":43,"column":12},"end":{"line":43,"column":51}},"20":{"start":{"line":50,"column":8},"end":{"line":50,"column":64}},"21":{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},"22":{"start":{"line":52,"column":37},"end":{"line":52,"column":146}},"23":{"start":{"line":53,"column":23},"end":{"line":53,"column":35}},"24":{"start":{"line":54,"column":21},"end":{"line":54,"column":25}},"25":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"26":{"start":{"line":56,"column":16},"end":{"line":56,"column":49}},"27":{"start":{"line":59,"column":16},"end":{"line":59,"column":26}},"28":{"start":{"line":61,"column":12},"end":{"line":64,"column":13}},"29":{"start":{"line":62,"column":16},"end":{"line":62,"column":49}},"30":{"start":{"line":63,"column":16},"end":{"line":63,"column":34}},"31":{"start":{"line":72,"column":8},"end":{"line":72,"column":101}},"32":{"start":{"line":73,"column":8},"end":{"line":73,"column":103}},"33":{"start":{"line":79,"column":19},"end":{"line":79,"column":32}},"34":{"start":{"line":80,"column":8},"end":{"line":83,"column":9}},"35":{"start":{"line":81,"column":12},"end":{"line":81,"column":41}},"36":{"start":{"line":82,"column":12},"end":{"line":82,"column":57}},"37":{"start":{"line":84,"column":8},"end":{"line":87,"column":9}},"38":{"start":{"line":85,"column":12},"end":{"line":85,"column":33}},"39":{"start":{"line":86,"column":12},"end":{"line":86,"column":48}},"40":{"start":{"line":102,"column":8},"end":{"line":106,"column":9}},"41":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"42":{"start":{"line":104,"column":16},"end":{"line":104,"column":41}},"43":{"start":{"line":107,"column":8},"end":{"line":107,"column":79}},"44":{"start":{"line":108,"column":8},"end":{"line":113,"column":9}},"45":{"start":{"line":109,"column":12},"end":{"line":109,"column":69}},"46":{"start":{"line":112,"column":12},"end":{"line":112,"column":65}},"47":{"start":{"line":122,"column":8},"end":{"line":122,"column":80}},"48":{"start":{"line":123,"column":8},"end":{"line":128,"column":9}},"49":{"start":{"line":124,"column":12},"end":{"line":124,"column":66}},"50":{"start":{"line":127,"column":12},"end":{"line":127,"column":64}},"51":{"start":{"line":132,"column":32},"end":{"line":136,"column":1}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":160},"end":{"line":33,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":16},"end":{"line":37,"column":5}},"line":34},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":45},"end":{"line":45,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":39,"column":43},"end":{"line":39,"column":44}},"loc":{"start":{"line":39,"column":56},"end":{"line":41,"column":9}},"line":39},"4":{"name":"(anonymous_4)","decl":{"start":{"line":42,"column":44},"end":{"line":42,"column":45}},"loc":{"start":{"line":42,"column":57},"end":{"line":44,"column":9}},"line":42},"5":{"name":"(anonymous_5)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":13},"end":{"line":66,"column":5}},"line":49},"6":{"name":"(anonymous_6)","decl":{"start":{"line":71,"column":4},"end":{"line":71,"column":5}},"loc":{"start":{"line":71,"column":31},"end":{"line":74,"column":5}},"line":71},"7":{"name":"(anonymous_7)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":26},"end":{"line":88,"column":5}},"line":78},"8":{"name":"(anonymous_8)","decl":{"start":{"line":95,"column":4},"end":{"line":95,"column":5}},"loc":{"start":{"line":95,"column":32},"end":{"line":114,"column":5}},"line":95},"9":{"name":"(anonymous_9)","decl":{"start":{"line":121,"column":4},"end":{"line":121,"column":5}},"loc":{"start":{"line":121,"column":33},"end":{"line":129,"column":5}},"line":121}},"branchMap":{"0":{"loc":{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},{"start":{"line":51,"column":8},"end":{"line":65,"column":9}}],"line":51},"1":{"loc":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},{"start":{"line":55,"column":12},"end":{"line":60,"column":13}}],"line":55},"2":{"loc":{"start":{"line":61,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":64,"column":13}},{"start":{"line":61,"column":12},"end":{"line":64,"column":13}}],"line":61},"3":{"loc":{"start":{"line":80,"column":8},"end":{"line":83,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":83,"column":9}},{"start":{"line":80,"column":8},"end":{"line":83,"column":9}}],"line":80},"4":{"loc":{"start":{"line":84,"column":8},"end":{"line":87,"column":9}},"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":87,"column":9}},{"start":{"line":84,"column":8},"end":{"line":87,"column":9}}],"line":84},"5":{"loc":{"start":{"line":84,"column":12},"end":{"line":84,"column":42}},"type":"binary-expr","locations":[{"start":{"line":84,"column":12},"end":{"line":84,"column":25}},{"start":{"line":84,"column":29},"end":{"line":84,"column":42}}],"line":84},"6":{"loc":{"start":{"line":102,"column":8},"end":{"line":106,"column":9}},"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":106,"column":9}},{"start":{"line":102,"column":8},"end":{"line":106,"column":9}}],"line":102},"7":{"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":26}},"type":"binary-expr","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":14}},{"start":{"line":102,"column":18},"end":{"line":102,"column":26}}],"line":102},"8":{"loc":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"type":"if","locations":[{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},{"start":{"line":103,"column":12},"end":{"line":105,"column":13}}],"line":103},"9":{"loc":{"start":{"line":103,"column":16},"end":{"line":103,"column":43}},"type":"binary-expr","locations":[{"start":{"line":103,"column":16},"end":{"line":103,"column":25}},{"start":{"line":103,"column":29},"end":{"line":103,"column":43}}],"line":103},"10":{"loc":{"start":{"line":108,"column":8},"end":{"line":113,"column":9}},"type":"if","locations":[{"start":{"line":108,"column":8},"end":{"line":113,"column":9}},{"start":{"line":108,"column":8},"end":{"line":113,"column":9}}],"line":108},"11":{"loc":{"start":{"line":123,"column":8},"end":{"line":128,"column":9}},"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":128,"column":9}},{"start":{"line":123,"column":8},"end":{"line":128,"column":9}}],"line":123}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"file":"codeMapComponent.js","sourceRoot":"","sources":["codeMapComponent.ts"],"names":[],"mappings":"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","sourcesContent":["import {codeMapBuilding} from \"./rendering/codeMapBuilding\"\nimport {ThreeCameraService} from \"./threeViewer/threeCameraService\";\nimport {IAngularEvent, IRootScopeService} from \"angular\";\nimport {ThreeViewerService} from \"./threeViewer/threeViewerService\";\nimport {CodeMapService} from \"./codeMapService\";\n\ninterface Coordinates {\n    x: number,\n    y: number\n}\n\nexport interface CodeMapBuildingTransition {\n    from: codeMapBuilding,\n    to: codeMapBuilding\n}\n\nexport interface CodeMapControllerSubscriber {\n    onBuildingHovered(data: CodeMapBuildingTransition, event: IAngularEvent),\n    onBuildingSelected(data: CodeMapBuildingTransition, event: IAngularEvent)\n}\n\n/**\n * Controls the codeMapDirective\n */\nexport class CodeMapController {\n\n    private hovered;\n    private selected;\n    private mouse: Coordinates;\n\n    /* @ngInject */\n    constructor(\n        private $rootScope,\n        private threeCameraService: ThreeCameraService,\n        private threeRendererService,\n        private threeSceneService,\n        private threeUpdateCycleService,\n        private threeViewerService: ThreeViewerService,\n        private $element: Element,\n        private codeMapService: CodeMapService, //we need to call this service somewhere.\n    ){\n\n        /**\n         * hovered mesh\n         * @type {object}\n         */\n        this.hovered = null;\n\n        /**\n         * selected mesh\n         * @type {object}\n         */\n        this.selected = null;\n\n        /**\n         * current mouse position\n         * @type {{x: number, y: number}}\n         */\n        this.mouse = {x: 0, y: 0};\n\n        document.addEventListener(\"mousemove\", this.onDocumentMouseMove.bind(this), false);\n        document.addEventListener(\"click\", this.onDocumentMouseDown.bind(this), false);\n\n        threeUpdateCycleService.register(this.update.bind(this));\n    }\n\n    $postLink() {\n        this.threeViewerService.init(this.$element[0]);\n        this.threeViewerService.animate();\n    }\n\n    static subscribe($rootScope: IRootScopeService, subscriber: CodeMapControllerSubscriber) {\n\n        $rootScope.$on(\"building-hovered\", (e, data:CodeMapBuildingTransition) => {\n            subscriber.onBuildingHovered(data, e);\n        });\n\n        $rootScope.$on(\"building-selected\", (e, data:CodeMapBuildingTransition) => {\n            subscriber.onBuildingSelected(data, e);\n        });\n\n    }\n\n    /**\n     * Update method which is bound to the {@link UpdateCycleService}\n     */\n    update() {\n        this.threeCameraService.camera.updateMatrixWorld(false);\n\n        if (this.threeSceneService.getMapMesh() != null)\n        {\n            let intersectionResult = this.threeSceneService.getMapMesh().checkMouseRayMeshIntersection(this.mouse, this.threeCameraService.camera);\n\n            let from = this.hovered;\n            let to = null;\n\n            if (intersectionResult.intersectionFound == true)\n            {\n                to = intersectionResult.building;\n            }\n            else\n            {\n                to = null;\n            }\n\n            if (from != to)\n            {\n                this.onBuildingHovered(from, to);\n                this.hovered = to;\n            }\n        }\n    }\n\n    /**\n     * updates {CodeMapController.mouse} on mouse movement\n     * @param {MouseEvent} event\n     */\n    onDocumentMouseMove (event) {\n        this.mouse.x = ( event.clientX / this.threeRendererService.renderer.domElement.width ) * 2 - 1;\n        this.mouse.y = -( event.clientY / this.threeRendererService.renderer.domElement.height ) * 2 + 1;\n    }\n\n    /**\n     * updates {CodeMapController} on mouse down\n     */\n    onDocumentMouseDown() {\n        var from = this.selected;\n\n        if (this.hovered) {\n            this.selected = this.hovered;\n            this.onBuildingSelected(from, this.selected);\n        }\n\n        if(!this.hovered && this.selected) {\n            this.selected = null;\n            this.onBuildingSelected(from, null);\n        }\n\n    }\n\n    /**\n     * Called when a building is hovered.\n     * @param from old building\n     * @param to new building\n     * @emits {building-hovered} on hover\n     */\n    onBuildingHovered(from: codeMapBuilding, to: codeMapBuilding){\n        /*\n         if the hovered node does not have useful data, then we should look at its parent. If the parent has useful data\n         then this parent is a delta node which is made of two seperate, data-free nodes. This quick fix helps us to\n         handle delta objects, until there is a method for mergng their meshes and materials correctly.\n         See codeMapService.js\n         */\n        if(to && !to.node){\n            if(to.parent && to.parent.node){\n                to.node = to.parent.node;\n            }\n        }\n\n        this.$rootScope.$broadcast(\"building-hovered\", {to: to, from: from});\n\n        if (to !== null)\n        {\n            this.threeSceneService.getMapMesh().setHighlighted([to]);\n        }\n        else\n        {\n            this.threeSceneService.getMapMesh().clearHighlight();\n        }\n    }\n\n    /**\n     * called when a building is selected.\n     * @param from previously selected building\n     * @param to currently selected building\n     * @emits {building-selected} when building is selected\n     */\n    onBuildingSelected(from: codeMapBuilding, to: codeMapBuilding){\n        this.$rootScope.$broadcast(\"building-selected\", {to: to, from:from});\n\n        if (to !== null)\n        {\n            this.threeSceneService.getMapMesh().setSelected([to]);\n        }\n        else\n        {\n            this.threeSceneService.getMapMesh().clearSelected();\n        }\n    }\n\n};\n\nexport const codeMapComponent = {\n    selector: \"codeMapComponent\",\n    template: \"<div id='#codeMap'></div>\",\n    controller: CodeMapController\n};\n\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"e3da0b553a2009bbe2140f8f6bd6a6b39c3df51f"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/codeMapService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/codeMapService.ts","statementMap":{"0":{"start":{"line":4,"column":16},"end":{"line":4,"column":21}},"1":{"start":{"line":11,"column":8},"end":{"line":11,"column":51}},"2":{"start":{"line":12,"column":8},"end":{"line":12,"column":45}},"3":{"start":{"line":13,"column":8},"end":{"line":13,"column":47}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":28}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":33}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":45}},"7":{"start":{"line":19,"column":8},"end":{"line":19,"column":37}},"8":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"9":{"start":{"line":28,"column":12},"end":{"line":28,"column":38}},"10":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"11":{"start":{"line":31,"column":12},"end":{"line":31,"column":65}},"12":{"start":{"line":35,"column":20},"end":{"line":35,"column":128}},"13":{"start":{"line":36,"column":21},"end":{"line":36,"column":74}},"14":{"start":{"line":36,"column":44},"end":{"line":36,"column":71}},"15":{"start":{"line":37,"column":29},"end":{"line":44,"column":9}},"16":{"start":{"line":45,"column":8},"end":{"line":45,"column":45}},"17":{"start":{"line":46,"column":8},"end":{"line":46,"column":76}},"18":{"start":{"line":47,"column":8},"end":{"line":52,"column":9}},"19":{"start":{"line":48,"column":12},"end":{"line":51,"column":13}},"20":{"start":{"line":49,"column":16},"end":{"line":49,"column":70}},"21":{"start":{"line":50,"column":16},"end":{"line":50,"column":27}},"22":{"start":{"line":53,"column":8},"end":{"line":53,"column":63}},"23":{"start":{"line":54,"column":8},"end":{"line":54,"column":65}},"24":{"start":{"line":63,"column":8},"end":{"line":63,"column":55}},"25":{"start":{"line":64,"column":8},"end":{"line":64,"column":55}},"26":{"start":{"line":65,"column":8},"end":{"line":65,"column":55}},"27":{"start":{"line":66,"column":8},"end":{"line":66,"column":75}},"28":{"start":{"line":67,"column":8},"end":{"line":67,"column":60}},"29":{"start":{"line":68,"column":8},"end":{"line":68,"column":75}},"30":{"start":{"line":69,"column":8},"end":{"line":70,"column":66}},"31":{"start":{"line":70,"column":12},"end":{"line":70,"column":66}},"32":{"start":{"line":71,"column":8},"end":{"line":72,"column":45}},"33":{"start":{"line":72,"column":12},"end":{"line":72,"column":45}},"34":{"start":{"line":75,"column":0},"end":{"line":75,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":68},"end":{"line":17,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":39},"end":{"line":20,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":21},"end":{"line":33,"column":5}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":25},"end":{"line":55,"column":5}},"line":34},"4":{"name":"(anonymous_4)","decl":{"start":{"line":36,"column":32},"end":{"line":36,"column":33}},"loc":{"start":{"line":36,"column":42},"end":{"line":36,"column":73}},"line":36},"5":{"name":"(anonymous_5)","decl":{"start":{"line":62,"column":4},"end":{"line":62,"column":5}},"loc":{"start":{"line":62,"column":22},"end":{"line":73,"column":5}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},{"start":{"line":27,"column":8},"end":{"line":29,"column":9}}],"line":27},"1":{"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":141}},"type":"binary-expr","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":24}},{"start":{"line":27,"column":28},"end":{"line":27,"column":42}},{"start":{"line":27,"column":46},"end":{"line":27,"column":59}},{"start":{"line":27,"column":63},"end":{"line":27,"column":68}},{"start":{"line":27,"column":72},"end":{"line":27,"column":82}},{"start":{"line":27,"column":86},"end":{"line":27,"column":105}},{"start":{"line":27,"column":109},"end":{"line":27,"column":141}}],"line":27},"2":{"loc":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},{"start":{"line":30,"column":8},"end":{"line":32,"column":9}}],"line":30},"3":{"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":66}},"type":"binary-expr","locations":[{"start":{"line":30,"column":12},"end":{"line":30,"column":21}},{"start":{"line":30,"column":25},"end":{"line":30,"column":36}},{"start":{"line":30,"column":40},"end":{"line":30,"column":51}},{"start":{"line":30,"column":55},"end":{"line":30,"column":66}}],"line":30},"4":{"loc":{"start":{"line":47,"column":38},"end":{"line":47,"column":89}},"type":"binary-expr","locations":[{"start":{"line":47,"column":38},"end":{"line":47,"column":55}},{"start":{"line":47,"column":59},"end":{"line":47,"column":89}}],"line":47},"5":{"loc":{"start":{"line":48,"column":12},"end":{"line":51,"column":13}},"type":"if","locations":[{"start":{"line":48,"column":12},"end":{"line":51,"column":13}},{"start":{"line":48,"column":12},"end":{"line":51,"column":13}}],"line":48},"6":{"loc":{"start":{"line":69,"column":8},"end":{"line":70,"column":66}},"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":70,"column":66}},{"start":{"line":69,"column":8},"end":{"line":70,"column":66}}],"line":69},"7":{"loc":{"start":{"line":71,"column":8},"end":{"line":72,"column":45}},"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":72,"column":45}},{"start":{"line":71,"column":8},"end":{"line":72,"column":45}}],"line":71}},"s":{"0":1,"1":4,"2":4,"3":4,"4":4,"5":4,"6":4,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1},"f":{"0":4,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,0],"1":[0,0,0,0,0,0,0],"2":[0,0],"3":[0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"file":"codeMapService.js","sourceRoot":"","sources":["codeMapService.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport {CodeMapMesh} from \"./rendering/codeMapMesh\";\nimport {renderSettings} from \"./rendering/renderSettings\"\nimport {LabelManager} from \"./rendering/labelManager\"\nimport {SettingsServiceSubscriber, Settings, SettingsService} from \"../core/settings/settings.service\";\nimport {node} from \"./rendering/node\";\n\nconst mapSize = 500.0;\n\n/**\n * Main service to manage the state of the rendered code map\n */\nexport class CodeMapService implements SettingsServiceSubscriber{\n\n    public static SELECTOR = \"codeMapService\";\n\n    private mapMesh: CodeMapMesh = null;\n    private labelManager: LabelManager = null;\n\n    /* @ngInject */\n    constructor(\n        private threeSceneService,\n        private treeMapService,\n        private settingsService: SettingsService) {\n        this.settingsService.subscribe(this);\n    }\n\n    onSettingsChanged(settings: Settings, event: Event) {\n        this.applySettings(settings);\n    }\n\n    /**\n     * Applies the given settings and redraws the scene\n     * @param {Settings} s\n     * @listens {settings-changed}\n     */\n    applySettings(s: Settings) {\n\n        if (s.areaMetric && s.heightMetric && s.colorMetric && s.map && s.map.root && s.neutralColorRange && s.deltaColorFlipped != undefined) {\n            this.updateMapGeometry(s);\n        }\n\n        if(s.scaling && s.scaling.x && s.scaling.y &&s.scaling.z) {\n            this.scaleMap(s.scaling.x, s.scaling.y, s.scaling.z);\n        }\n    }\n\n    updateMapGeometry(s) {\n        let nodes = this.treeMapService.createTreemapNodes(s.map.root, mapSize, mapSize, s.margin, s.areaMetric, s.heightMetric);\n        let sorted: node[] = nodes.sort((a,b)=>{return b.height - a.height;});\n        let renderSettings: renderSettings  =  {\n            heightKey : s.heightMetric,\n            colorKey : s.colorMetric,\n            renderDeltas : s.deltas,\n            colorRange : s.neutralColorRange,\n            mapSize : mapSize,\n            deltaColorFlipped: s.deltaColorFlipped\n        };\n\n        this.threeSceneService.clearLabels();\n        this.labelManager = new LabelManager(this.threeSceneService.labels);\n        \n        for (let i=0, numAdded = 0; i < sorted.length && numAdded < s.amountOfTopLabels; ++i)\n        {\n            if (sorted[i].isLeaf)\n            {\n                this.labelManager.addLabel(sorted[i], renderSettings);\n                ++numAdded;\n            }\n        }\n\n        this.mapMesh = new CodeMapMesh(sorted, renderSettings);\n\n        this.threeSceneService.setMapMesh(this.mapMesh, mapSize);\n    }\n\n     /**\n     * scales the scene by the given values\n     * @param {number} x\n     * @param {number} y\n     * @param {number} z\n     */\n    scaleMap(x, y, z) {\n        this.threeSceneService.mapGeometry.scale.x = x;\n        this.threeSceneService.mapGeometry.scale.y = y;\n        this.threeSceneService.mapGeometry.scale.z = z;\n\n        this.threeSceneService.mapGeometry.position.x = -mapSize / 2.0 * x;\n        this.threeSceneService.mapGeometry.position.y = 0.0;\n        this.threeSceneService.mapGeometry.position.z = -mapSize / 2.0 * z;\n\n        if (this.threeSceneService.getMapMesh())\n            this.threeSceneService.getMapMesh().setScale(x, y, z);\n\n        if (this.labelManager)\n            this.labelManager.scale(x, y, z);\n    }\n};"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f2b3b2da0cd420344b0dcbc490f45746dcae6b63"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/boxGeometryGenerationHelper.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/boxGeometryGenerationHelper.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":10,"column":26}},"1":{"start":{"line":4,"column":4},"end":{"line":4,"column":38}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":40}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":42}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":36}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":38}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":40}},"7":{"start":{"line":13,"column":0},"end":{"line":18,"column":44}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":68}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":62}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":64}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":70}},"12":{"start":{"line":20,"column":16},"end":{"line":27,"column":1}},"13":{"start":{"line":28,"column":17},"end":{"line":28,"column":18}},"14":{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},"15":{"start":{"line":33,"column":8},"end":{"line":33,"column":126}},"16":{"start":{"line":34,"column":8},"end":{"line":34,"column":123}},"17":{"start":{"line":35,"column":8},"end":{"line":35,"column":124}},"18":{"start":{"line":36,"column":8},"end":{"line":36,"column":127}},"19":{"start":{"line":37,"column":8},"end":{"line":37,"column":100}},"20":{"start":{"line":38,"column":8},"end":{"line":38,"column":97}},"21":{"start":{"line":39,"column":8},"end":{"line":39,"column":98}},"22":{"start":{"line":40,"column":8},"end":{"line":40,"column":101}},"23":{"start":{"line":42,"column":8},"end":{"line":42,"column":128}},"24":{"start":{"line":43,"column":8},"end":{"line":43,"column":125}},"25":{"start":{"line":44,"column":8},"end":{"line":44,"column":126}},"26":{"start":{"line":45,"column":8},"end":{"line":45,"column":129}},"27":{"start":{"line":46,"column":8},"end":{"line":46,"column":102}},"28":{"start":{"line":47,"column":8},"end":{"line":47,"column":99}},"29":{"start":{"line":48,"column":8},"end":{"line":48,"column":100}},"30":{"start":{"line":49,"column":8},"end":{"line":49,"column":103}},"31":{"start":{"line":51,"column":8},"end":{"line":51,"column":126}},"32":{"start":{"line":52,"column":8},"end":{"line":52,"column":123}},"33":{"start":{"line":53,"column":8},"end":{"line":53,"column":124}},"34":{"start":{"line":54,"column":8},"end":{"line":54,"column":127}},"35":{"start":{"line":55,"column":8},"end":{"line":55,"column":100}},"36":{"start":{"line":56,"column":8},"end":{"line":56,"column":97}},"37":{"start":{"line":57,"column":8},"end":{"line":57,"column":98}},"38":{"start":{"line":58,"column":8},"end":{"line":58,"column":101}},"39":{"start":{"line":59,"column":8},"end":{"line":59,"column":116}},"40":{"start":{"line":62,"column":8},"end":{"line":70,"column":9}},"41":{"start":{"line":63,"column":12},"end":{"line":63,"column":181}},"42":{"start":{"line":64,"column":12},"end":{"line":64,"column":183}},"43":{"start":{"line":65,"column":12},"end":{"line":65,"column":181}},"44":{"start":{"line":66,"column":28},"end":{"line":66,"column":32}},"45":{"start":{"line":67,"column":12},"end":{"line":67,"column":175}},"46":{"start":{"line":68,"column":12},"end":{"line":68,"column":155}},"47":{"start":{"line":69,"column":12},"end":{"line":69,"column":175}},"48":{"start":{"line":73,"column":36},"end":{"line":73,"column":65}},"49":{"start":{"line":74,"column":8},"end":{"line":93,"column":9}},"50":{"start":{"line":75,"column":36},"end":{"line":75,"column":86}},"51":{"start":{"line":76,"column":36},"end":{"line":76,"column":83}},"52":{"start":{"line":77,"column":36},"end":{"line":77,"column":84}},"53":{"start":{"line":78,"column":36},"end":{"line":78,"column":87}},"54":{"start":{"line":79,"column":34},"end":{"line":79,"column":159}},"55":{"start":{"line":80,"column":31},"end":{"line":80,"column":156}},"56":{"start":{"line":81,"column":32},"end":{"line":81,"column":157}},"57":{"start":{"line":82,"column":35},"end":{"line":82,"column":160}},"58":{"start":{"line":83,"column":28},"end":{"line":83,"column":48}},"59":{"start":{"line":84,"column":33},"end":{"line":84,"column":76}},"60":{"start":{"line":85,"column":12},"end":{"line":92,"column":13}},"61":{"start":{"line":86,"column":16},"end":{"line":86,"column":75}},"62":{"start":{"line":87,"column":16},"end":{"line":87,"column":79}},"63":{"start":{"line":90,"column":16},"end":{"line":90,"column":75}},"64":{"start":{"line":91,"column":16},"end":{"line":91,"column":79}},"65":{"start":{"line":96,"column":21},"end":{"line":96,"column":74}},"66":{"start":{"line":97,"column":21},"end":{"line":97,"column":126}},"67":{"start":{"line":98,"column":18},"end":{"line":98,"column":29}},"68":{"start":{"line":99,"column":24},"end":{"line":99,"column":35}},"69":{"start":{"line":100,"column":8},"end":{"line":100,"column":87}},"70":{"start":{"line":101,"column":8},"end":{"line":101,"column":123}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":1},"end":{"line":3,"column":2}},"loc":{"start":{"line":3,"column":18},"end":{"line":10,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":1},"end":{"line":13,"column":2}},"loc":{"start":{"line":13,"column":27},"end":{"line":18,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":62},"end":{"line":60,"column":5}},"line":31},"3":{"name":"(anonymous_3)","decl":{"start":{"line":61,"column":4},"end":{"line":61,"column":5}},"loc":{"start":{"line":61,"column":91},"end":{"line":71,"column":5}},"line":61},"4":{"name":"(anonymous_4)","decl":{"start":{"line":72,"column":4},"end":{"line":72,"column":5}},"loc":{"start":{"line":72,"column":98},"end":{"line":94,"column":5}},"line":72},"5":{"name":"(anonymous_5)","decl":{"start":{"line":95,"column":4},"end":{"line":95,"column":5}},"loc":{"start":{"line":95,"column":72},"end":{"line":102,"column":5}},"line":95}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":3},"end":{"line":10,"column":24}},"type":"binary-expr","locations":[{"start":{"line":10,"column":3},"end":{"line":10,"column":8}},{"start":{"line":10,"column":13},"end":{"line":10,"column":23}}],"line":10},"1":{"loc":{"start":{"line":18,"column":3},"end":{"line":18,"column":42}},"type":"binary-expr","locations":[{"start":{"line":18,"column":3},"end":{"line":18,"column":17}},{"start":{"line":18,"column":22},"end":{"line":18,"column":41}}],"line":18},"2":{"loc":{"start":{"line":67,"column":71},"end":{"line":67,"column":132}},"type":"cond-expr","locations":[{"start":{"line":67,"column":123},"end":{"line":67,"column":126}},{"start":{"line":67,"column":129},"end":{"line":67,"column":132}}],"line":67},"3":{"loc":{"start":{"line":69,"column":71},"end":{"line":69,"column":132}},"type":"cond-expr","locations":[{"start":{"line":69,"column":123},"end":{"line":69,"column":126}},{"start":{"line":69,"column":129},"end":{"line":69,"column":132}}],"line":69},"4":{"loc":{"start":{"line":85,"column":12},"end":{"line":92,"column":13}},"type":"if","locations":[{"start":{"line":85,"column":12},"end":{"line":92,"column":13}},{"start":{"line":85,"column":12},"end":{"line":92,"column":13}}],"line":85}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1,1],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"boxGeometryGenerationHelper.js","sourceRoot":"","sources":["boxGeometryGenerationHelper.ts"],"names":[],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport {intermediateVertexData} from \"./intermediateVertexData\"\nimport {boxMeasures} from \"./geometryGenerator\"\n\nenum sides {\n    left = 0,\n    right = 1,\n    bottom = 2,\n    top = 3,\n    back = 4,\n    front = 5\n};\n\nenum vertexLocation {\n    bottomLeft = 0,\n    topLeft = 1,\n    topRight = 2,\n    bottomRight = 3\n};\n\nconst normals : THREE.Vector3[] = [\n    new THREE.Vector3(-1.0, 0.0, 0.0),\n    new THREE.Vector3(1.0, 0.0, 0.0),\n    new THREE.Vector3(0.0, -1.0, 0.0),\n    new THREE.Vector3(0.0, 1.0, 0.0),\n    new THREE.Vector3(0.0, 0.0, -1.0),\n    new THREE.Vector3(0.0, 0.0, 1.0),\n];\n\nconst numSides : number = 6;\nconst verticesPerSide : number = 4;\n\nexport class boxGeometryGenerationHelper {\n    private static createPositionsUVs(minPos : THREE.Vector3, maxPos : THREE.Vector3, positions : THREE.Vector3[], uvs : THREE.Vector2[]) : void\n    {\n        //Left Vertices\n        positions[sides.left * verticesPerSide + vertexLocation.bottomLeft] = new THREE.Vector3(minPos.x, minPos.y, minPos.z);\n        positions[sides.left * verticesPerSide + vertexLocation.topLeft] = new THREE.Vector3(minPos.x, maxPos.y, minPos.z);\n        positions[sides.left * verticesPerSide + vertexLocation.topRight] = new THREE.Vector3(minPos.x, maxPos.y, maxPos.z);\n        positions[sides.left * verticesPerSide + vertexLocation.bottomRight] = new THREE.Vector3(minPos.x, minPos.y, maxPos.z);\n        uvs[sides.left * verticesPerSide + vertexLocation.bottomLeft] = new THREE.Vector2(1.0, 0.0);\n        uvs[sides.left * verticesPerSide + vertexLocation.topLeft] = new THREE.Vector2(1.0, 1.0);\n        uvs[sides.left * verticesPerSide + vertexLocation.topRight] = new THREE.Vector2(0.0, 1.0);\n        uvs[sides.left * verticesPerSide + vertexLocation.bottomRight] = new THREE.Vector2(0.0, 0.0);\n\n        //Bottom Vertices\n        positions[sides.bottom * verticesPerSide + vertexLocation.bottomLeft] = new THREE.Vector3(minPos.x, minPos.y, minPos.z);\n        positions[sides.bottom * verticesPerSide + vertexLocation.topLeft] = new THREE.Vector3(minPos.x, minPos.y, maxPos.z);\n        positions[sides.bottom * verticesPerSide + vertexLocation.topRight] = new THREE.Vector3(maxPos.x, minPos.y, maxPos.z);\n        positions[sides.bottom * verticesPerSide + vertexLocation.bottomRight] = new THREE.Vector3(maxPos.x, minPos.y, minPos.z);\n        uvs[sides.bottom * verticesPerSide + vertexLocation.bottomLeft] = new THREE.Vector2(0.0, 1.0);\n        uvs[sides.bottom * verticesPerSide + vertexLocation.topLeft] = new THREE.Vector2(1.0, 1.0);\n        uvs[sides.bottom * verticesPerSide + vertexLocation.topRight] = new THREE.Vector2(1.0, 0.0);\n        uvs[sides.bottom * verticesPerSide + vertexLocation.bottomRight] = new THREE.Vector2(0.0, 0.0);\n\n        //Back Vertices\n        positions[sides.back * verticesPerSide + vertexLocation.bottomLeft] = new THREE.Vector3(maxPos.x, minPos.y, maxPos.z);\n        positions[sides.back * verticesPerSide + vertexLocation.topLeft] = new THREE.Vector3(minPos.x, minPos.y, maxPos.z);\n        positions[sides.back * verticesPerSide + vertexLocation.topRight] = new THREE.Vector3(minPos.x, maxPos.y, maxPos.z);\n        positions[sides.back * verticesPerSide + vertexLocation.bottomRight] = new THREE.Vector3(maxPos.x, maxPos.y, maxPos.z);\n        uvs[sides.back * verticesPerSide + vertexLocation.bottomLeft] = new THREE.Vector2(0.0, 0.0);\n        uvs[sides.back * verticesPerSide + vertexLocation.topLeft] = new THREE.Vector2(1.0, 0.0);\n        uvs[sides.back * verticesPerSide + vertexLocation.topRight] = new THREE.Vector2(1.0, 1.0);\n        uvs[sides.back * verticesPerSide + vertexLocation.bottomRight] = new THREE.Vector2(0.0, 1.0);\n\n        boxGeometryGenerationHelper.createFrontFacingPositionsUVsFromBackFacingData(minPos, maxPos, positions, uvs);\n    }\n\n    private static createFrontFacingPositionsUVsFromBackFacingData(minPos : THREE.Vector3, maxPos : THREE.Vector3, positions : THREE.Vector3[], uvs : THREE.Vector2[]) : void\n    {\n        for (let i : number = 0; i < verticesPerSide; ++i)\n        {\n            positions[sides.right * verticesPerSide + i] = new THREE.Vector3(\n                maxPos.x,\n                positions[sides.left * verticesPerSide + i].y,\n                positions[sides.left * verticesPerSide + i].z\n            );\n\n            positions[sides.top * verticesPerSide + i] = new THREE.Vector3(\n                positions[sides.bottom * verticesPerSide + i].x,\n                maxPos.y,\n                positions[sides.bottom * verticesPerSide + i].z\n            );\n\n            positions[sides.front * verticesPerSide + i] = new THREE.Vector3(\n                positions[sides.back * verticesPerSide + i].x,\n                positions[sides.back * verticesPerSide + i].y,\n                minPos.z\n            );\n\n            const epsilon : number = 0.01;\n\n            uvs[sides.right * verticesPerSide + i] = new THREE.Vector2(\n                uvs[sides.left * verticesPerSide + i].x > epsilon ? 0.0 : 1.0,\n                uvs[sides.left * verticesPerSide + i].y\n            );\n\n            uvs[sides.top * verticesPerSide + i] = new THREE.Vector2(\n                uvs[sides.bottom * verticesPerSide + i].x,\n                uvs[sides.bottom * verticesPerSide + i].y\n            );\n\n            uvs[sides.front * verticesPerSide + i] = new THREE.Vector2(\n                uvs[sides.back * verticesPerSide + i].x > epsilon ? 0.0 : 1.0,\n                uvs[sides.back * verticesPerSide + i].y\n            );\n\n        }\n    }\n\n    private static createVerticesAndFaces(\n        minPos : THREE.Vector3,\n        maxPos : THREE.Vector3,\n        color : number,\n        delta : number,\n        subGeomIdx : number,\n        positions : THREE.Vector3[],\n        uvs : THREE.Vector2[],\n        data : intermediateVertexData\n    ) : void\n    {\n        let deltaRelativeToHeight : number = delta / (maxPos.y - minPos.y);\n        \n        for (let side : number = 0; side < numSides; ++side)\n        {\n            let intermediateIdxBL : number = side * verticesPerSide + vertexLocation.bottomLeft;\n            let intermediateIdxTL : number = side * verticesPerSide + vertexLocation.topLeft;\n            let intermediateIdxTR : number = side * verticesPerSide + vertexLocation.topRight;\n            let intermediateIdxBR : number = side * verticesPerSide + vertexLocation.bottomRight;\n             let indexBottomLeft : number = data.addVertex(\n                positions[intermediateIdxBL], normals[side], uvs[intermediateIdxBL], color, subGeomIdx, deltaRelativeToHeight\n            );\n             let indexTopLeft : number = data.addVertex(\n                positions[intermediateIdxTL], normals[side], uvs[intermediateIdxTL], color, subGeomIdx, deltaRelativeToHeight\n            );\n             let indexTopRight : number = data.addVertex(\n                positions[intermediateIdxTR], normals[side], uvs[intermediateIdxTR], color, subGeomIdx, deltaRelativeToHeight\n            );\n             let indexBottomRight : number = data.addVertex(\n                positions[intermediateIdxBR], normals[side], uvs[intermediateIdxBR], color, subGeomIdx, deltaRelativeToHeight\n            );\n             let dimension : number = Math.floor(side / 2);\n            let positiveFacing : boolean = normals[side].getComponent(dimension) > 0.0;\n             if (!positiveFacing)\n            {\n                data.addFace(indexBottomLeft, indexTopRight, indexTopLeft);\n                data.addFace(indexBottomLeft, indexBottomRight, indexTopRight);\n            }\n            else\n            {\n                data.addFace(indexBottomLeft, indexTopLeft, indexTopRight);\n                data.addFace(indexBottomLeft, indexTopRight, indexBottomRight);\n            }\n        }\n    }\n\n    public static addBoxToVertexData(data : intermediateVertexData, measures : boxMeasures, color : number, subGeomIdx : number, delta : number) : void\n    {\n        let minPos : THREE.Vector3 = new THREE.Vector3(measures.x, measures.y, measures.z);\n        let maxPos : THREE.Vector3 = new THREE.Vector3(measures.x + measures.width, measures.y + measures.height, measures.z + measures.depth);\n\n        let uvs : THREE.Vector2[] = new Array<THREE.Vector2>();\n        let positions : THREE.Vector3[] = new Array<THREE.Vector3>();\n\n        boxGeometryGenerationHelper.createPositionsUVs(minPos, maxPos, positions, uvs);\n        boxGeometryGenerationHelper.createVerticesAndFaces(minPos, maxPos, color, delta, subGeomIdx, positions, uvs, data);\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"75fe2a10c971293dcd6769e5c4369b804975176b"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapBuilding.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapBuilding.ts","statementMap":{"0":{"start":{"line":4,"column":8},"end":{"line":4,"column":21}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":56}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":4},"end":{"line":3,"column":5}},"loc":{"start":{"line":3,"column":38},"end":{"line":8,"column":5}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":21},"end":{"line":6,"column":55}},"type":"cond-expr","locations":[{"start":{"line":6,"column":29},"end":{"line":6,"column":34}},{"start":{"line":6,"column":37},"end":{"line":6,"column":55}}],"line":6}},"s":{"0":0,"1":0,"2":0,"3":0},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"codeMapBuilding.js","sourceRoot":"","sources":["codeMapBuilding.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,SAAS,EAAC,MAAM,kBAAkB,CAAC;AAG3C,MAAM;IAOF,YAAY,EAAW,EAAE,GAAgB,EAAE,IAAW,EAAE,KAAe;QAEnE,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC;QAChD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;CACJ","sourcesContent":["import * as THREE from \"three\";\nimport {MapColors} from \"./renderSettings\";\nimport {node} from \"./node\"\n\nexport class codeMapBuilding {\n    public id : number;\n    public boundingBox : THREE.Box3;\n    public color : number;\n    public node : node;\n    public parent?: codeMapBuilding;\n\n    constructor(id : number, box : THREE.Box3, node : node, color? : number)\n    {\n        this.id = id;\n        this.boundingBox = box;\n        this.color = color ? color : MapColors.defaultC;\n        this.node = node;\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"b4e536c59f1afaee963193e2f57f36c989e8ca71"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapGeometricDescription.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapGeometricDescription.ts","statementMap":{"0":{"start":{"line":4,"column":8},"end":{"line":4,"column":37}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":49}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":38}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":29}},"5":{"start":{"line":15,"column":34},"end":{"line":15,"column":38}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":47}},"7":{"start":{"line":17,"column":29},"end":{"line":17,"column":125}},"8":{"start":{"line":18,"column":8},"end":{"line":35,"column":9}},"9":{"start":{"line":19,"column":22},"end":{"line":19,"column":50}},"10":{"start":{"line":20,"column":12},"end":{"line":20,"column":39}},"11":{"start":{"line":21,"column":12},"end":{"line":21,"column":39}},"12":{"start":{"line":22,"column":12},"end":{"line":22,"column":39}},"13":{"start":{"line":23,"column":12},"end":{"line":23,"column":39}},"14":{"start":{"line":24,"column":12},"end":{"line":24,"column":39}},"15":{"start":{"line":25,"column":12},"end":{"line":25,"column":39}},"16":{"start":{"line":26,"column":12},"end":{"line":26,"column":42}},"17":{"start":{"line":27,"column":36},"end":{"line":27,"column":57}},"18":{"start":{"line":28,"column":12},"end":{"line":34,"column":13}},"19":{"start":{"line":29,"column":43},"end":{"line":29,"column":83}},"20":{"start":{"line":30,"column":16},"end":{"line":33,"column":17}},"21":{"start":{"line":31,"column":20},"end":{"line":31,"column":68}},"22":{"start":{"line":32,"column":20},"end":{"line":32,"column":51}},"23":{"start":{"line":36,"column":8},"end":{"line":46,"column":9}},"24":{"start":{"line":37,"column":12},"end":{"line":40,"column":14}},"25":{"start":{"line":43,"column":12},"end":{"line":45,"column":14}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":4},"end":{"line":3,"column":5}},"loc":{"start":{"line":3,"column":25},"end":{"line":7,"column":5}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":19},"end":{"line":47,"column":5}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":28,"column":12},"end":{"line":34,"column":13}},{"start":{"line":28,"column":12},"end":{"line":34,"column":13}}],"line":28},"1":{"loc":{"start":{"line":30,"column":16},"end":{"line":33,"column":17}},"type":"if","locations":[{"start":{"line":30,"column":16},"end":{"line":33,"column":17}},{"start":{"line":30,"column":16},"end":{"line":33,"column":17}}],"line":30},"2":{"loc":{"start":{"line":36,"column":8},"end":{"line":46,"column":9}},"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":46,"column":9}},{"start":{"line":36,"column":8},"end":{"line":46,"column":9}}],"line":36}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"f":{"0":0,"1":0,"2":0,"3":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"codeMapGeometricDescription.js","sourceRoot":"","sources":["codeMapGeometricDescription.ts"],"names":[],"mappings":"AACA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAA;AAO9B,MAAM;IAIF,YAAY,OAAgB;QAExB,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,EAAmB,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7C,CAAC;IAED,GAAG,CAAC,QAA0B;QAE1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IAED,SAAS,CAAC,MAAsB;QAE5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;IAED,SAAS,CAAC,GAAe;QAErB,IAAI,mBAAmB,GAA4B,IAAI,CAAC;QACxD,IAAI,wBAAwB,GAAY,QAAQ,CAAC;QAEjD,IAAI,cAAc,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAEtH,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,CACpC,CAAC;YACG,IAAI,GAAG,GAAgB,QAAQ,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YAEpD,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAE3B,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAC3B,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAE3B,GAAG,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;YAE9B,IAAI,iBAAiB,GAAmB,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAE9D,EAAE,CAAC,CAAC,iBAAiB,CAAC,CACtB,CAAC;gBACG,IAAI,oBAAoB,GAAY,iBAAiB,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAE7E,EAAE,CAAC,CAAC,oBAAoB,GAAG,wBAAwB,CAAC,CACpD,CAAC;oBACG,wBAAwB,GAAG,oBAAoB,CAAC;oBAChD,mBAAmB,GAAG,QAAQ,CAAC;gBACnC,CAAC;YACL,CAAC;QACL,CAAC;QAED,EAAE,CAAC,CAAC,mBAAmB,CAAC,CACxB,CAAC;YACG,MAAM,CAAC;gBACH,iBAAiB,EAAG,IAAI;gBACxB,QAAQ,EAAG,mBAAmB;aACjC,CAAA;QACL,CAAC;QACD,IAAI,CACJ,CAAC;YACG,MAAM,CAAC;gBACH,iBAAiB,EAAG,KAAK;aAC5B,CAAA;QACL,CAAC;IACL,CAAC;CACJ","sourcesContent":["import {codeMapBuilding} from \"./codeMapBuilding\";\nimport * as THREE from \"three\"\n\nexport interface intersectionResult {\n    intersectionFound : boolean;\n    building? : codeMapBuilding\n}\n\nexport class codeMapGeometricDescription {\n    private buildings : codeMapBuilding[];\n    private mapSize : number;\n    private scales : THREE.Vector3;\n    constructor(mapSize : number)\n    {\n        this.buildings = new Array<codeMapBuilding>();\n        this.mapSize = mapSize;\n        this.scales = new THREE.Vector3(1, 1, 1);\n    }\n\n    add(building : codeMapBuilding) : void\n    {\n        this.buildings.push(building);\n    }\n\n    setScales(scales : THREE.Vector3)\n    {\n        this.scales = scales;\n    }\n\n    intersect(ray : THREE.Ray) : intersectionResult\n    {\n        let intersectedBuilding : codeMapBuilding | null = null;\n        let leastIntersectedDistance : number = Infinity;\n\n        let boxTranslation = new THREE.Vector3(-this.mapSize * this.scales.x * 0.5, 0.0, -this.mapSize * this.scales.z * 0.5);\n\n        for (let building of this.buildings)\n        {\n            let box : THREE.Box3 = building.boundingBox.clone();\n\n            box.min.x *= this.scales.x;\n            box.min.y *= this.scales.y;\n            box.min.z *= this.scales.z;\n\n            box.max.x *= this.scales.x;\n            box.max.y *= this.scales.y;\n            box.max.z *= this.scales.z;\n\n            box.translate(boxTranslation);\n\n            let intersectionPoint : THREE.Vector3 = ray.intersectBox(box);\n\n            if (intersectionPoint)\n            {\n                let intersectionDistance : number = intersectionPoint.distanceTo(ray.origin);\n\n                if (intersectionDistance < leastIntersectedDistance)\n                {\n                    leastIntersectedDistance = intersectionDistance;\n                    intersectedBuilding = building;\n                }\n            }\n        }\n\n        if (intersectedBuilding)\n        {\n            return {\n                intersectionFound : true,\n                building : intersectedBuilding\n            }\n        }\n        else\n        {\n            return {\n                intersectionFound : false\n            }\n        }\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"561d4bf3b836d51445fec9f8d70b9197ae38e194"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapMesh.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapMesh.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":18,"column":10}},"1":{"start":{"line":19,"column":8},"end":{"line":19,"column":27}},"2":{"start":{"line":20,"column":8},"end":{"line":20,"column":36}},"3":{"start":{"line":21,"column":8},"end":{"line":21,"column":47}},"4":{"start":{"line":22,"column":23},"end":{"line":22,"column":78}},"5":{"start":{"line":23,"column":8},"end":{"line":23,"column":39}},"6":{"start":{"line":24,"column":8},"end":{"line":24,"column":41}},"7":{"start":{"line":25,"column":8},"end":{"line":25,"column":33}},"8":{"start":{"line":29,"column":8},"end":{"line":34,"column":9}},"9":{"start":{"line":30,"column":12},"end":{"line":30,"column":41}},"10":{"start":{"line":33,"column":12},"end":{"line":33,"column":43}},"11":{"start":{"line":35,"column":23},"end":{"line":35,"column":100}},"12":{"start":{"line":36,"column":25},"end":{"line":36,"column":51}},"13":{"start":{"line":37,"column":8},"end":{"line":42,"column":11}},"14":{"start":{"line":45,"column":8},"end":{"line":45,"column":123}},"15":{"start":{"line":46,"column":8},"end":{"line":46,"column":123}},"16":{"start":{"line":49,"column":8},"end":{"line":49,"column":123}},"17":{"start":{"line":50,"column":8},"end":{"line":50,"column":123}},"18":{"start":{"line":53,"column":8},"end":{"line":53,"column":30}},"19":{"start":{"line":57,"column":8},"end":{"line":57,"column":97}},"20":{"start":{"line":57,"column":81},"end":{"line":57,"column":93}},"21":{"start":{"line":59,"column":8},"end":{"line":59,"column":70}},"22":{"start":{"line":60,"column":8},"end":{"line":61,"column":88}},"23":{"start":{"line":61,"column":12},"end":{"line":61,"column":88}},"24":{"start":{"line":62,"column":8},"end":{"line":62,"column":46}},"25":{"start":{"line":66,"column":8},"end":{"line":66,"column":94}},"26":{"start":{"line":66,"column":78},"end":{"line":66,"column":90}},"27":{"start":{"line":68,"column":8},"end":{"line":68,"column":70}},"28":{"start":{"line":69,"column":8},"end":{"line":70,"column":87}},"29":{"start":{"line":70,"column":12},"end":{"line":70,"column":87}},"30":{"start":{"line":71,"column":8},"end":{"line":71,"column":43}},"31":{"start":{"line":74,"column":8},"end":{"line":74,"column":41}},"32":{"start":{"line":77,"column":8},"end":{"line":77,"column":38}},"33":{"start":{"line":81,"column":8},"end":{"line":81,"column":57}},"34":{"start":{"line":82,"column":8},"end":{"line":82,"column":41}},"35":{"start":{"line":86,"column":8},"end":{"line":86,"column":57}},"36":{"start":{"line":87,"column":8},"end":{"line":87,"column":38}},"37":{"start":{"line":90,"column":8},"end":{"line":90,"column":32}},"38":{"start":{"line":93,"column":18},"end":{"line":93,"column":33}},"39":{"start":{"line":94,"column":8},"end":{"line":94,"column":61}},"40":{"start":{"line":95,"column":8},"end":{"line":95,"column":95}},"41":{"start":{"line":96,"column":8},"end":{"line":96,"column":19}},"42":{"start":{"line":99,"column":18},"end":{"line":99,"column":57}},"43":{"start":{"line":100,"column":8},"end":{"line":100,"column":56}},"44":{"start":{"line":103,"column":8},"end":{"line":103,"column":63}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":33},"end":{"line":26,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":27},"end":{"line":43,"column":5}},"line":27},"2":{"name":"(anonymous_2)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":28},"end":{"line":47,"column":5}},"line":44},"3":{"name":"(anonymous_3)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":30},"end":{"line":51,"column":5}},"line":48},"4":{"name":"(anonymous_4)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":19},"end":{"line":54,"column":5}},"line":52},"5":{"name":"(anonymous_5)","decl":{"start":{"line":55,"column":4},"end":{"line":55,"column":5}},"loc":{"start":{"line":55,"column":37},"end":{"line":63,"column":5}},"line":55},"6":{"name":"(anonymous_6)","decl":{"start":{"line":57,"column":72},"end":{"line":57,"column":73}},"loc":{"start":{"line":57,"column":79},"end":{"line":57,"column":95}},"line":57},"7":{"name":"(anonymous_7)","decl":{"start":{"line":64,"column":4},"end":{"line":64,"column":5}},"loc":{"start":{"line":64,"column":34},"end":{"line":72,"column":5}},"line":64},"8":{"name":"(anonymous_8)","decl":{"start":{"line":66,"column":69},"end":{"line":66,"column":70}},"loc":{"start":{"line":66,"column":76},"end":{"line":66,"column":92}},"line":66},"9":{"name":"(anonymous_9)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":30},"end":{"line":75,"column":5}},"line":73},"10":{"name":"(anonymous_10)","decl":{"start":{"line":76,"column":4},"end":{"line":76,"column":5}},"loc":{"start":{"line":76,"column":27},"end":{"line":78,"column":5}},"line":76},"11":{"name":"(anonymous_11)","decl":{"start":{"line":79,"column":4},"end":{"line":79,"column":5}},"loc":{"start":{"line":79,"column":21},"end":{"line":83,"column":5}},"line":79},"12":{"name":"(anonymous_12)","decl":{"start":{"line":84,"column":4},"end":{"line":84,"column":5}},"loc":{"start":{"line":84,"column":20},"end":{"line":88,"column":5}},"line":84},"13":{"name":"(anonymous_13)","decl":{"start":{"line":89,"column":4},"end":{"line":89,"column":5}},"loc":{"start":{"line":89,"column":25},"end":{"line":91,"column":5}},"line":89},"14":{"name":"(anonymous_14)","decl":{"start":{"line":92,"column":4},"end":{"line":92,"column":5}},"loc":{"start":{"line":92,"column":39},"end":{"line":97,"column":5}},"line":92},"15":{"name":"(anonymous_15)","decl":{"start":{"line":98,"column":4},"end":{"line":98,"column":5}},"loc":{"start":{"line":98,"column":49},"end":{"line":101,"column":5}},"line":98},"16":{"name":"(anonymous_16)","decl":{"start":{"line":102,"column":4},"end":{"line":102,"column":5}},"loc":{"start":{"line":102,"column":22},"end":{"line":104,"column":5}},"line":102}},"branchMap":{"0":{"loc":{"start":{"line":29,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":34,"column":9}},{"start":{"line":29,"column":8},"end":{"line":34,"column":9}}],"line":29},"1":{"loc":{"start":{"line":60,"column":8},"end":{"line":61,"column":88}},"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":61,"column":88}},{"start":{"line":60,"column":8},"end":{"line":61,"column":88}}],"line":60},"2":{"loc":{"start":{"line":69,"column":8},"end":{"line":70,"column":87}},"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":70,"column":87}},{"start":{"line":69,"column":8},"end":{"line":70,"column":87}}],"line":69}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"codeMapMesh.js","sourceRoot":"","sources":["codeMapMesh.ts"],"names":[],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\n\nimport {codeMapShaderStrings} from \"./codeMapShaderStrings\";\nimport {geometryGenerator, buildResult} from \"./geometryGenerator\";\nimport {codeMapGeometricDescription} from \"./codeMapGeometricDescription\";\nimport {intersectionResult} from \"./codeMapGeometricDescription\";\nimport {codeMapBuilding} from \"./codeMapBuilding\";\nimport {renderingUtil} from \"./renderingUtil\";\nimport {node} from \"./node\";\n\nimport {MapColors} from \"./renderSettings\"\nimport {renderSettings} from \"./renderSettings\"\n\ninterface threeUniform {\n    type : string;\n    value : any;\n}\n\ninterface codeMapLightingParams {\n    numHighlights : threeUniform,\n    numSelections : threeUniform,\n    highlightColor : threeUniform;\n    highlightedIndices : threeUniform;\n    selectedColor : threeUniform;\n    selectedIndices : threeUniform;\n    emissive : threeUniform;\n    deltaColorPositive : threeUniform;\n    deltaColorNegative : threeUniform;\n}\n\ninterface mousePos {\n    x : number,\n    y : number\n}\n\nexport class CodeMapMesh {\n    private threeMesh : THREE.Mesh;\n    private material : THREE.ShaderMaterial;\n    private geomGen : geometryGenerator;\n    private mapGeomDesc : codeMapGeometricDescription;\n\n    private nodes : node[];\n\n    private currentlyHighlighted : codeMapBuilding[] | null;\n    private currentlySelected : codeMapBuilding[] | null;\n\n    public settings : renderSettings;\n\n    private lightingParams : codeMapLightingParams = {\n        numHighlights : {type : 'f', value : 0.0},\n        highlightColor : {type : 'v3', value : renderingUtil.colorToVec3(0x666666)},\n        highlightedIndices : {type : 'fv1', value : []},\n\n        numSelections : {type : 'f', value : 0.0},\n        selectedColor : {type : 'f', value : renderingUtil.colorToVec3(MapColors.selected)},\n        selectedIndices : {type : 'fv1', value : []},\n\n        deltaColorPositive : {type : 'v3', value : renderingUtil.colorToVec3(MapColors.positiveDelta)},\n        deltaColorNegative : {type : 'v3', value : renderingUtil.colorToVec3(MapColors.negativeDelta)},\n\n        emissive : {type : 'v3', value : new THREE.Vector3(0.0, 0.0, 0.0)}\n    };\n\n    constructor(nodes : node[], settings : renderSettings)\n    {\n        this.nodes = nodes;\n\n        this.initMaterial(settings);\n\n        this.geomGen = new geometryGenerator();\n        let buildRes : buildResult = this.geomGen.build(this.nodes, this.material, settings);\n\n        this.threeMesh = buildRes.mesh;\n        this.mapGeomDesc = buildRes.desc;\n\n        this.settings = settings;\n    }\n\n    private initMaterial(settings : renderSettings) : void\n    {\n\n        //TODO\n        if(settings.deltaColorFlipped) {\n            this.setDeltaColorsFlipped();\n        } else {\n            this.setDeltaColorsUnflipped();\n        }\n\n        let uniforms = THREE.UniformsUtils.merge([THREE.UniformsLib['lights'], this.lightingParams]);\n\n        let shaderCode : codeMapShaderStrings = new codeMapShaderStrings();\n\n        this.material =  new THREE.ShaderMaterial({\n            vertexShader: shaderCode.vertexShaderCode,\n            fragmentShader: shaderCode.fragmentShaderCode,\n            lights : true,\n            uniforms : uniforms\n        });\n    }\n\n    private setDeltaColorsFlipped() {\n        this.lightingParams.deltaColorPositive = {type : 'v3', value : renderingUtil.colorToVec3(MapColors.negativeDelta)};\n        this.lightingParams.deltaColorNegative = {type : 'v3', value : renderingUtil.colorToVec3(MapColors.positiveDelta)};\n    }\n\n\n    private setDeltaColorsUnflipped() {\n        this.lightingParams.deltaColorPositive = {type : 'v3', value : renderingUtil.colorToVec3(MapColors.positiveDelta)};\n        this.lightingParams.deltaColorNegative = {type : 'v3', value : renderingUtil.colorToVec3(MapColors.negativeDelta)};\n    }\n\n    public getThreeMesh() : THREE.Mesh {\n        return this.threeMesh;\n    }\n\n    public setHighlighted(buildings : codeMapBuilding[], color? : number)\n    {\n        //noinspection TypeScriptUnresolvedVariable\n        this.material.uniforms.highlightedIndices.value = buildings.map((b : codeMapBuilding) => {return b.id});\n        //noinspection TypeScriptUnresolvedVariable\n        this.material.uniforms.numHighlights.value = buildings.length;\n\n        if (color)\n            this.lightingParams.highlightColor.value = renderingUtil.colorToVec3(color);\n\n        this.currentlyHighlighted = buildings;\n    }\n\n    public setSelected(buildings : codeMapBuilding[], color? : number)\n    {\n        //noinspection TypeScriptUnresolvedVariable\n        this.material.uniforms.selectedIndices.value = buildings.map((b : codeMapBuilding) => {return b.id});\n        //noinspection TypeScriptUnresolvedVariable\n        this.material.uniforms.numSelections.value  = buildings.length;\n        \n        if (color)\n            this.lightingParams.selectedColor.value = renderingUtil.colorToVec3(color);\n\n        this.currentlySelected = buildings;\n    }\n\n    public getCurrentlyHighlighted() : codeMapBuilding[] | null\n    {\n        return this.currentlyHighlighted;\n    }\n\n    public getCurrentlySelected() : codeMapBuilding[] | null\n    {\n        return this.currentlySelected;\n    }\n\n    public clearHighlight()\n    {\n        //noinspection TypeScriptUnresolvedVariable\n        this.material.uniforms.numHighlights.value = 0.0;\n        this.currentlyHighlighted = null;\n    }\n\n    public clearSelected()\n    {\n        //noinspection TypeScriptUnresolvedVariable\n        this.material.uniforms.numSelections.value = 0.0;\n        this.currentlySelected = null;\n    }\n\n    public getMeshDescription() : codeMapGeometricDescription\n    {\n        return this.mapGeomDesc;\n    }\n\n    private calculatePickingRay(mouse : mousePos, camera : THREE.Camera) : THREE.Ray\n    {\n\n        let ray : THREE.Ray = new THREE.Ray();\n        ray.origin.setFromMatrixPosition(camera.matrixWorld);\n        ray.direction.set(mouse.x, mouse.y, 0.5).unproject(camera).sub(ray.origin).normalize();\n\n        return ray;\n    }\n\n    public checkMouseRayMeshIntersection(mouse : mousePos, camera : THREE.Camera) : intersectionResult\n    {\n        let ray : THREE.Ray = this.calculatePickingRay(mouse, camera);\n        return this.getMeshDescription().intersect(ray);\n    }\n\n    public setScale(x : number, y : number, z : number)\n    {\n        this.mapGeomDesc.setScales(new THREE.Vector3(x, y, z));\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"ab6aec60dc50b863b4d6fd1e6d36eec8e27d5c51"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapShaderStrings.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/codeMapShaderStrings.ts","statementMap":{"0":{"start":{"line":3,"column":8},"end":{"line":3,"column":70}},"1":{"start":{"line":4,"column":8},"end":{"line":4,"column":74}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":4},"end":{"line":2,"column":5}},"loc":{"start":{"line":2,"column":18},"end":{"line":5,"column":5}},"line":2}},"branchMap":{},"s":{"0":0,"1":0},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"codeMapShaderStrings.js","sourceRoot":"","sources":["codeMapShaderStrings.ts"],"names":[],"mappings":"AAEA,MAAM;IAKF;QACI,IAAI,CAAC,gBAAgB,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAC;QAC9D,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;IACtE,CAAC;CACJ","sourcesContent":["declare function require(name:string): string;\n\nexport class codeMapShaderStrings {\n\n    public vertexShaderCode: string;\n    public fragmentShaderCode: string;\n\n    constructor() {\n        this.vertexShaderCode = require('./codeMapVertexShader.glsl');\n        this.fragmentShaderCode = require('./codeMapFragmentShader.glsl');\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"416495dc50aa294eae65b73971b4a9253f4b0ce7"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/geometryGenerator.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/geometryGenerator.ts","statementMap":{"0":{"start":{"line":12,"column":19},"end":{"line":12,"column":47}},"1":{"start":{"line":13,"column":19},"end":{"line":13,"column":68}},"2":{"start":{"line":14,"column":8},"end":{"line":22,"column":9}},"3":{"start":{"line":15,"column":20},"end":{"line":15,"column":28}},"4":{"start":{"line":16,"column":12},"end":{"line":21,"column":13}},"5":{"start":{"line":17,"column":16},"end":{"line":17,"column":48}},"6":{"start":{"line":20,"column":16},"end":{"line":20,"column":61}},"7":{"start":{"line":23,"column":8},"end":{"line":26,"column":10}},"8":{"start":{"line":29,"column":8},"end":{"line":36,"column":10}},"9":{"start":{"line":39,"column":8},"end":{"line":43,"column":21}},"10":{"start":{"line":40,"column":12},"end":{"line":40,"column":74}},"11":{"start":{"line":43,"column":12},"end":{"line":43,"column":21}},"12":{"start":{"line":46,"column":20},"end":{"line":46,"column":69}},"13":{"start":{"line":47,"column":23},"end":{"line":47,"column":48}},"14":{"start":{"line":48,"column":8},"end":{"line":48,"column":231}},"15":{"start":{"line":49,"column":8},"end":{"line":49,"column":88}},"16":{"start":{"line":52,"column":8},"end":{"line":57,"column":9}},"17":{"start":{"line":53,"column":12},"end":{"line":53,"column":24}},"18":{"start":{"line":56,"column":12},"end":{"line":56,"column":25}},"19":{"start":{"line":60,"column":23},"end":{"line":60,"column":48}},"20":{"start":{"line":61,"column":20},"end":{"line":61,"column":115}},"21":{"start":{"line":62,"column":26},"end":{"line":62,"column":29}},"22":{"start":{"line":63,"column":8},"end":{"line":68,"column":9}},"23":{"start":{"line":64,"column":12},"end":{"line":64,"column":40}},"24":{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},"25":{"start":{"line":66,"column":16},"end":{"line":66,"column":57}},"26":{"start":{"line":69,"column":8},"end":{"line":69,"column":231}},"27":{"start":{"line":70,"column":8},"end":{"line":70,"column":96}},"28":{"start":{"line":73,"column":20},"end":{"line":73,"column":38}},"29":{"start":{"line":74,"column":8},"end":{"line":90,"column":9}},"30":{"start":{"line":75,"column":12},"end":{"line":89,"column":13}},"31":{"start":{"line":76,"column":28},"end":{"line":76,"column":50}},"32":{"start":{"line":77,"column":16},"end":{"line":85,"column":17}},"33":{"start":{"line":78,"column":20},"end":{"line":78,"column":84}},"34":{"start":{"line":80,"column":21},"end":{"line":85,"column":17}},"35":{"start":{"line":81,"column":20},"end":{"line":81,"column":84}},"36":{"start":{"line":84,"column":20},"end":{"line":84,"column":46}},"37":{"start":{"line":88,"column":16},"end":{"line":88,"column":39}},"38":{"start":{"line":91,"column":8},"end":{"line":91,"column":21}},"39":{"start":{"line":94,"column":26},"end":{"line":94,"column":47}},"40":{"start":{"line":95,"column":26},"end":{"line":95,"column":27}},"41":{"start":{"line":96,"column":28},"end":{"line":96,"column":29}},"42":{"start":{"line":97,"column":24},"end":{"line":97,"column":65}},"43":{"start":{"line":98,"column":22},"end":{"line":98,"column":63}},"44":{"start":{"line":99,"column":18},"end":{"line":99,"column":61}},"45":{"start":{"line":100,"column":21},"end":{"line":100,"column":62}},"46":{"start":{"line":101,"column":18},"end":{"line":101,"column":47}},"47":{"start":{"line":102,"column":21},"end":{"line":102,"column":50}},"48":{"start":{"line":103,"column":8},"end":{"line":118,"column":9}},"49":{"start":{"line":104,"column":12},"end":{"line":104,"column":63}},"50":{"start":{"line":105,"column":12},"end":{"line":105,"column":63}},"51":{"start":{"line":106,"column":12},"end":{"line":106,"column":63}},"52":{"start":{"line":107,"column":12},"end":{"line":107,"column":59}},"53":{"start":{"line":108,"column":12},"end":{"line":108,"column":59}},"54":{"start":{"line":109,"column":12},"end":{"line":109,"column":59}},"55":{"start":{"line":110,"column":12},"end":{"line":110,"column":53}},"56":{"start":{"line":111,"column":12},"end":{"line":111,"column":53}},"57":{"start":{"line":112,"column":24},"end":{"line":112,"column":65}},"58":{"start":{"line":113,"column":12},"end":{"line":113,"column":48}},"59":{"start":{"line":114,"column":12},"end":{"line":114,"column":48}},"60":{"start":{"line":115,"column":12},"end":{"line":115,"column":48}},"61":{"start":{"line":116,"column":12},"end":{"line":116,"column":44}},"62":{"start":{"line":117,"column":12},"end":{"line":117,"column":39}},"63":{"start":{"line":119,"column":22},"end":{"line":119,"column":58}},"64":{"start":{"line":120,"column":8},"end":{"line":122,"column":9}},"65":{"start":{"line":121,"column":12},"end":{"line":121,"column":41}},"66":{"start":{"line":123,"column":23},"end":{"line":123,"column":49}},"67":{"start":{"line":124,"column":8},"end":{"line":124,"column":91}},"68":{"start":{"line":125,"column":8},"end":{"line":125,"column":87}},"69":{"start":{"line":126,"column":8},"end":{"line":126,"column":81}},"70":{"start":{"line":127,"column":8},"end":{"line":127,"column":85}},"71":{"start":{"line":128,"column":8},"end":{"line":128,"column":79}},"72":{"start":{"line":129,"column":8},"end":{"line":129,"column":77}},"73":{"start":{"line":130,"column":8},"end":{"line":130,"column":65}},"74":{"start":{"line":131,"column":8},"end":{"line":131,"column":50}},"75":{"start":{"line":134,"column":0},"end":{"line":134,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":21}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":37},"end":{"line":27,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":25},"end":{"line":37,"column":5}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":44},"end":{"line":44,"column":5}},"line":38},"4":{"name":"(anonymous_4)","decl":{"start":{"line":45,"column":4},"end":{"line":45,"column":5}},"loc":{"start":{"line":45,"column":33},"end":{"line":50,"column":5}},"line":45},"5":{"name":"(anonymous_5)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":40},"end":{"line":58,"column":5}},"line":51},"6":{"name":"(anonymous_6)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":46},"end":{"line":71,"column":5}},"line":59},"7":{"name":"(anonymous_7)","decl":{"start":{"line":72,"column":4},"end":{"line":72,"column":5}},"loc":{"start":{"line":72,"column":64},"end":{"line":92,"column":5}},"line":72},"8":{"name":"(anonymous_8)","decl":{"start":{"line":93,"column":4},"end":{"line":93,"column":5}},"loc":{"start":{"line":93,"column":56},"end":{"line":132,"column":5}},"line":93}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":21,"column":13}},{"start":{"line":16,"column":12},"end":{"line":21,"column":13}}],"line":16},"1":{"loc":{"start":{"line":39,"column":8},"end":{"line":43,"column":21}},"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":43,"column":21}},{"start":{"line":39,"column":8},"end":{"line":43,"column":21}}],"line":39},"2":{"loc":{"start":{"line":46,"column":20},"end":{"line":46,"column":69}},"type":"cond-expr","locations":[{"start":{"line":46,"column":39},"end":{"line":46,"column":53}},{"start":{"line":46,"column":56},"end":{"line":46,"column":69}}],"line":46},"3":{"loc":{"start":{"line":52,"column":8},"end":{"line":57,"column":9}},"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":57,"column":9}},{"start":{"line":52,"column":8},"end":{"line":57,"column":9}}],"line":52},"4":{"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":43}},"type":"binary-expr","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":20}},{"start":{"line":52,"column":24},"end":{"line":52,"column":43}}],"line":52},"5":{"loc":{"start":{"line":63,"column":8},"end":{"line":68,"column":9}},"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":68,"column":9}},{"start":{"line":63,"column":8},"end":{"line":68,"column":9}}],"line":63},"6":{"loc":{"start":{"line":63,"column":12},"end":{"line":63,"column":103}},"type":"binary-expr","locations":[{"start":{"line":63,"column":12},"end":{"line":63,"column":33}},{"start":{"line":63,"column":37},"end":{"line":63,"column":86}},{"start":{"line":63,"column":90},"end":{"line":63,"column":103}}],"line":63},"7":{"loc":{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},{"start":{"line":65,"column":12},"end":{"line":67,"column":13}}],"line":65},"8":{"loc":{"start":{"line":74,"column":8},"end":{"line":90,"column":9}},"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":90,"column":9}},{"start":{"line":74,"column":8},"end":{"line":90,"column":9}}],"line":74},"9":{"loc":{"start":{"line":75,"column":12},"end":{"line":89,"column":13}},"type":"if","locations":[{"start":{"line":75,"column":12},"end":{"line":89,"column":13}},{"start":{"line":75,"column":12},"end":{"line":89,"column":13}}],"line":75},"10":{"loc":{"start":{"line":77,"column":16},"end":{"line":85,"column":17}},"type":"if","locations":[{"start":{"line":77,"column":16},"end":{"line":85,"column":17}},{"start":{"line":77,"column":16},"end":{"line":85,"column":17}}],"line":77},"11":{"loc":{"start":{"line":78,"column":28},"end":{"line":78,"column":83}},"type":"cond-expr","locations":[{"start":{"line":78,"column":44},"end":{"line":78,"column":62}},{"start":{"line":78,"column":65},"end":{"line":78,"column":83}}],"line":78},"12":{"loc":{"start":{"line":80,"column":21},"end":{"line":85,"column":17}},"type":"if","locations":[{"start":{"line":80,"column":21},"end":{"line":85,"column":17}},{"start":{"line":80,"column":21},"end":{"line":85,"column":17}}],"line":80},"13":{"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":83}},"type":"cond-expr","locations":[{"start":{"line":81,"column":44},"end":{"line":81,"column":62}},{"start":{"line":81,"column":65},"end":{"line":81,"column":83}}],"line":81}},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"inputSourceMap":{"version":3,"file":"geometryGenerator.js","sourceRoot":"","sources":["geometryGenerator.ts"],"names":[],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport {node} from \"./node\";\nimport {codeMapGeometricDescription} from \"./codeMapGeometricDescription\";\nimport {codeMapBuilding} from \"./codeMapBuilding\";\nimport {MapColors} from \"./renderSettings\";\nimport {colorRange} from \"./renderSettings\";\nimport {renderSettings} from \"./renderSettings\";\nimport {renderingUtil} from \"./renderingUtil\";\nimport {intermediateVertexData} from \"./intermediateVertexData\";\nimport {boxGeometryGenerationHelper} from \"./boxGeometryGenerationHelper\";\n\nexport interface boxMeasures {\n    x : number,\n    y : number,\n    z : number,\n    width : number,\n    height : number,\n    depth : number\n}\n\nexport interface buildResult {\n    mesh : THREE.Mesh,\n    desc : codeMapGeometricDescription\n}\n\nexport class geometryGenerator {\n\n    private static MINIMAL_BUILDING_HEIGHT = 5.0;\n\n    constructor() {};\n\n    public build(nodes : node[], material : THREE.Material, settings : renderSettings) : buildResult\n    {\n        let data : intermediateVertexData = new intermediateVertexData();\n        let desc : codeMapGeometricDescription = new codeMapGeometricDescription(settings.mapSize);\n\n        for (let i:number = 0; i < nodes.length; ++i)\n        {\n            let n : node = nodes[i];\n\n            if (!n.isLeaf)\n            {\n                this.addFloor(data, n, i, desc);\n            }\n            else\n            {\n                this.addBuilding(data, n, i, desc, settings);\n            }\n        }\n\n        return {\n            mesh : this.buildMeshFromIntermediateVertexData(data, material),\n            desc : desc\n        };\n    }\n\n    private mapNodeToLocalBox(n : node) : boxMeasures\n    {\n        return {\n            x : n.x0,\n            y : n.z0,\n            z : n.y0,\n            width : n.width,\n            height : this.ensureMinHeightIfDeltaNotNegative(n.height, n.heightDelta),\n            depth : n.length\n        };\n    }\n\n    private ensureMinHeightIfDeltaNotNegative(x: number, d: number): number {\n        if(d >= 0) {\n            return Math.max(x, geometryGenerator.MINIMAL_BUILDING_HEIGHT);\n        } else return x;\n    }\n\n    private addFloor(data : intermediateVertexData, n : node, idx : number, desc : codeMapGeometricDescription)\n    {\n        let color : number = n.depth % 2 == 0 ? MapColors.even : MapColors.odd;\n        let measures : boxMeasures = this.mapNodeToLocalBox(n);\n\n        desc.add(\n            new codeMapBuilding(\n                idx,\n                new THREE.Box3(\n                    new THREE.Vector3(measures.x, measures.y, measures.z),\n                    new THREE.Vector3(measures.x + measures.width, measures.y + measures.height, measures.z + measures.depth)\n                ),\n                n,\n                color\n            )\n        );\n\n        boxGeometryGenerationHelper.addBoxToVertexData(data, measures, color, idx, 0.0);\n    }\n\n    private nodeHasSuitableDeltas(n : node, heightKey : string) : boolean\n    {\n        if (n.deltas && n.deltas[heightKey])\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n    private addBuilding(data : intermediateVertexData, n : node, idx : number, desc : codeMapGeometricDescription, settings : renderSettings) : void\n    {\n        let measures : boxMeasures = this.mapNodeToLocalBox(n);\n        let color : number = this.estimateColorForBuilding(n, settings.colorKey, settings.colorRange, settings.renderDeltas);\n\n        let renderDelta: number = 0.0;\n\n        if (settings.renderDeltas && this.nodeHasSuitableDeltas(n, settings.heightKey) && n.heightDelta)\n        {\n            renderDelta = n.heightDelta; //set the transformed render delta\n\n            if(renderDelta < 0) {\n                measures.height += Math.abs(renderDelta);\n            }\n\n        }\n\n        desc.add(\n            new codeMapBuilding(\n                idx,\n                    new THREE.Box3(\n                    new THREE.Vector3(measures.x, measures.y, measures.z),\n                    new THREE.Vector3(measures.x + measures.width, measures.y + measures.height, measures.z + measures.depth)\n                ),\n                n,\n                color\n            )\n        );\n\n        boxGeometryGenerationHelper.addBoxToVertexData(data, measures, color, idx, renderDelta);\n    }\n\n    private estimateColorForBuilding(n : node, colorKey : string, range : colorRange, deltasEnabled : boolean) : number\n    {\n        let color : number = MapColors.defaultC;\n        \n        if (!n.isDelta)\n        {\n\n            if (!deltasEnabled)\n            {\n                const val : number = n.attributes[colorKey];\n                \n                if (val < range.from)\n                {\n                    color = range.flipped ? MapColors.negative : MapColors.positive;\n                }\n                else if(val > range.to)\n                {\n                    color = range.flipped ? MapColors.positive : MapColors.negative;\n                }\n                else\n                {\n                    color = MapColors.neutral;\n                }\n            }\n            else{\n                color = MapColors.base;\n            }\n        }\n\n        return color;\n    }\n\n    private buildMeshFromIntermediateVertexData(data : intermediateVertexData, material : THREE.Material) : THREE.Mesh\n    {\n        let numVertices : number = data.positions.length;\n        const dimension : number = 3;\n        const uvDimension : number = 2;\n\n        let positions : Float32Array = new Float32Array(numVertices * dimension);\n        let normals : Float32Array = new Float32Array(numVertices * dimension);\n        let uvs : Float32Array = new Float32Array(numVertices * uvDimension);\n        let colors : Float32Array = new Float32Array(numVertices * dimension);\n        let ids : Float32Array = new Float32Array(numVertices);\n        let deltas : Float32Array = new Float32Array(numVertices);\n\n        for (let i : number = 0; i < numVertices; ++i)\n        {\n            positions[i * dimension + 0] = data.positions[i].x;\n            positions[i * dimension + 1] = data.positions[i].y;\n            positions[i * dimension + 2] = data.positions[i].z;\n\n            normals[i * dimension + 0] = data.normals[i].x; \n            normals[i * dimension + 1] = data.normals[i].y;\n            normals[i * dimension + 2] = data.normals[i].z;\n\n            uvs[i * uvDimension + 0] = data.uvs[i].x;\n            uvs[i * uvDimension + 1] = data.uvs[i].y;\n\n            let color : THREE.Vector3 = renderingUtil.colorToVec3(data.colors[i]);\n\n            colors[i * dimension + 0] = color.x;\n            colors[i * dimension + 1] = color.y;\n            colors[i * dimension + 2] = color.z;\n\n            ids[i] = data.subGeometryIdx[i];\n            deltas[i] = data.deltas[i];\n        }\n\n        let indices : Uint32Array = new Uint32Array(data.indices.length);\n\n        for (let i : number = 0; i < data.indices.length; ++i)\n        {\n            indices[i] = data.indices[i];\n        }\n\n        let geometry : THREE.BufferGeometry = new THREE.BufferGeometry();\n\n        geometry.addAttribute( 'position', new THREE.BufferAttribute( positions, dimension ) );\n        geometry.addAttribute( 'normal', new THREE.BufferAttribute( normals, dimension ) );\n        geometry.addAttribute( 'uv', new THREE.BufferAttribute( uvs, uvDimension ) );\n        geometry.addAttribute( 'color', new THREE.BufferAttribute( colors, dimension ) );\n        geometry.addAttribute( 'subGeomIdx' , new THREE.BufferAttribute(ids, 1));\n        geometry.addAttribute( 'delta' , new THREE.BufferAttribute(deltas, 1));\n\n        geometry.setIndex(new THREE.BufferAttribute(indices, 1));\n\n        return  new THREE.Mesh(geometry, material);\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"80cc376b012d6e195a68fd72d8ed3de3a3416e29"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/intermediateVertexData.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/intermediateVertexData.ts","statementMap":{"0":{"start":{"line":3,"column":8},"end":{"line":3,"column":37}},"1":{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},"2":{"start":{"line":5,"column":8},"end":{"line":5,"column":31}},"3":{"start":{"line":6,"column":8},"end":{"line":6,"column":34}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":42}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":34}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":33}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":34}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":26}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":32}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":45}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":32}},"13":{"start":{"line":18,"column":8},"end":{"line":18,"column":41}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":4},"end":{"line":2,"column":5}},"loc":{"start":{"line":2,"column":18},"end":{"line":10,"column":5}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":57},"end":{"line":19,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":24},"end":{"line":22,"column":5}},"line":20}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"f":{"0":0,"1":0,"2":0},"b":{},"inputSourceMap":{"version":3,"file":"intermediateVertexData.js","sourceRoot":"","sources":["intermediateVertexData.ts"],"names":[],"mappings":"AAEA,MAAM;IAUF;QAEI,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,EAAiB,CAAC;QAC5C,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAiB,CAAC;QAC1C,IAAI,CAAC,GAAG,GAAG,IAAI,KAAK,EAAiB,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,EAAU,CAAC;QAClC,IAAI,CAAC,cAAc,GAAG,IAAI,KAAK,EAAU,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,EAAU,CAAC;QAElC,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAU,CAAC;IACvC,CAAC;IAED,SAAS,CAAC,GAAmB,EAAE,MAAsB,EAAE,EAAkB,EAAE,KAAc,EAAE,UAAmB,EAAE,KAAc;QAC1H,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAExB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;IACrC,CAAC;IAED,OAAO,CAAC,EAAW,EAAE,EAAW,EAAE,EAAW;QAEzC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IAClC,CAAC;CACJ","sourcesContent":["import * as THREE from \"three\"\n\nexport class intermediateVertexData {\n    public positions : THREE.Vector3[];\n    public normals : THREE.Vector3[];\n    public uvs : THREE.Vector2[];\n    public colors : number[];\n    public subGeometryIdx : number[];\n    public deltas : number[];\n\n    public indices : number[];\n\n    constructor()\n    {\n        this.positions = new Array<THREE.Vector3>();\n        this.normals = new Array<THREE.Vector3>();\n        this.uvs = new Array<THREE.Vector2>();\n        this.colors = new Array<number>();\n        this.subGeometryIdx = new Array<number>();\n        this.deltas = new Array<number>();\n\n        this.indices = new Array<number>();\n    }\n\n    addVertex(pos : THREE.Vector3, normal : THREE.Vector3, uv : THREE.Vector2, color : number, subGeomIdx : number, delta : number) : number {\n        this.positions.push(pos);\n        this.normals.push(normal);\n        this.uvs.push(uv);\n        this.colors.push(color);\n        this.subGeometryIdx.push(subGeomIdx);\n        this.deltas.push(delta);\n\n        return this.positions.length - 1;\n    }\n\n    addFace(i0 : number, i1 : number, i2 : number) : void\n    {\n        this.indices.push(i0, i1, i2);\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"7f9ec030f85e211ffacfd7f0330e7acf23a51607"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/labelManager.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/labelManager.ts","statementMap":{"0":{"start":{"line":4,"column":8},"end":{"line":4,"column":58}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":34}},"2":{"start":{"line":8,"column":8},"end":{"line":26,"column":9}},"3":{"start":{"line":9,"column":20},"end":{"line":9,"column":52}},"4":{"start":{"line":10,"column":20},"end":{"line":10,"column":27}},"5":{"start":{"line":11,"column":20},"end":{"line":11,"column":52}},"6":{"start":{"line":12,"column":20},"end":{"line":12,"column":30}},"7":{"start":{"line":13,"column":20},"end":{"line":13,"column":31}},"8":{"start":{"line":14,"column":20},"end":{"line":14,"column":31}},"9":{"start":{"line":15,"column":24},"end":{"line":15,"column":97}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":96}},"11":{"start":{"line":17,"column":29},"end":{"line":19,"column":14}},"12":{"start":{"line":20,"column":29},"end":{"line":20,"column":49}},"13":{"start":{"line":21,"column":12},"end":{"line":21,"column":136}},"14":{"start":{"line":22,"column":12},"end":{"line":22,"column":60}},"15":{"start":{"line":23,"column":12},"end":{"line":23,"column":55}},"16":{"start":{"line":24,"column":12},"end":{"line":24,"column":53}},"17":{"start":{"line":25,"column":12},"end":{"line":25,"column":36}},"18":{"start":{"line":29,"column":8},"end":{"line":41,"column":9}},"19":{"start":{"line":30,"column":12},"end":{"line":30,"column":41}},"20":{"start":{"line":31,"column":12},"end":{"line":31,"column":41}},"21":{"start":{"line":32,"column":12},"end":{"line":32,"column":41}},"22":{"start":{"line":35,"column":12},"end":{"line":35,"column":51}},"23":{"start":{"line":36,"column":12},"end":{"line":36,"column":51}},"24":{"start":{"line":37,"column":12},"end":{"line":37,"column":51}},"25":{"start":{"line":38,"column":12},"end":{"line":38,"column":72}},"26":{"start":{"line":39,"column":12},"end":{"line":39,"column":72}},"27":{"start":{"line":40,"column":12},"end":{"line":40,"column":72}},"28":{"start":{"line":50,"column":23},"end":{"line":50,"column":55}},"29":{"start":{"line":51,"column":20},"end":{"line":51,"column":43}},"30":{"start":{"line":52,"column":8},"end":{"line":52,"column":41}},"31":{"start":{"line":53,"column":23},"end":{"line":53,"column":25}},"32":{"start":{"line":55,"column":18},"end":{"line":55,"column":48}},"33":{"start":{"line":56,"column":18},"end":{"line":56,"column":26}},"34":{"start":{"line":57,"column":8},"end":{"line":57,"column":34}},"35":{"start":{"line":58,"column":8},"end":{"line":58,"column":35}},"36":{"start":{"line":60,"column":8},"end":{"line":60,"column":46}},"37":{"start":{"line":61,"column":8},"end":{"line":61,"column":44}},"38":{"start":{"line":62,"column":8},"end":{"line":62,"column":56}},"39":{"start":{"line":63,"column":8},"end":{"line":63,"column":58}},"40":{"start":{"line":65,"column":8},"end":{"line":65,"column":34}},"41":{"start":{"line":66,"column":8},"end":{"line":66,"column":40}},"42":{"start":{"line":67,"column":8},"end":{"line":67,"column":33}},"43":{"start":{"line":68,"column":8},"end":{"line":68,"column":36}},"44":{"start":{"line":69,"column":8},"end":{"line":69,"column":67}},"45":{"start":{"line":70,"column":24},"end":{"line":70,"column":49}},"46":{"start":{"line":71,"column":8},"end":{"line":71,"column":47}},"47":{"start":{"line":72,"column":8},"end":{"line":72,"column":35}},"48":{"start":{"line":73,"column":31},"end":{"line":73,"column":73}},"49":{"start":{"line":74,"column":23},"end":{"line":74,"column":55}},"50":{"start":{"line":75,"column":8},"end":{"line":75,"column":57}},"51":{"start":{"line":76,"column":8},"end":{"line":80,"column":10}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":4},"end":{"line":3,"column":5}},"loc":{"start":{"line":3,"column":40},"end":{"line":6,"column":5}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":29},"end":{"line":27,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":19},"end":{"line":42,"column":5}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":32},"end":{"line":81,"column":5}},"line":49}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":8},"end":{"line":26,"column":9}},"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":26,"column":9}},{"start":{"line":8,"column":8},"end":{"line":26,"column":9}}],"line":8},"1":{"loc":{"start":{"line":8,"column":12},"end":{"line":8,"column":66}},"type":"binary-expr","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":27}},{"start":{"line":8,"column":31},"end":{"line":8,"column":66}}],"line":8}},"s":{"0":10,"1":10,"2":5,"3":4,"4":4,"5":4,"6":4,"7":4,"8":4,"9":4,"10":4,"11":4,"12":4,"13":4,"14":4,"15":4,"16":4,"17":4,"18":1,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":2,"27":2,"28":4,"29":4,"30":4,"31":4,"32":4,"33":4,"34":4,"35":4,"36":4,"37":4,"38":4,"39":4,"40":4,"41":4,"42":4,"43":4,"44":4,"45":4,"46":4,"47":4,"48":4,"49":4,"50":4,"51":4},"f":{"0":10,"1":5,"2":1,"3":4},"b":{"0":[4,1],"1":[5,5]},"inputSourceMap":{"version":3,"file":"labelManager.js","sourceRoot":"","sources":["labelManager.ts"],"names":[],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport {node} from \"./node\"\nimport {renderSettings} from \"./renderSettings\"\n\ninterface internalLabel {\n    sprite : THREE.Sprite,\n    line : THREE.Line | null,\n    heightValue : number\n}\n\nexport class LabelManager {\n    private parentObjectInScene : THREE.Object3D;\n    private labels : internalLabel[];\n\n    constructor(argParentObjectInScene : THREE.Object3D) {\n        this.parentObjectInScene = argParentObjectInScene;\n        this.labels = new Array<internalLabel>();\n    }\n\n    addLabel(node : node, settings : renderSettings) : void {\n        if(node.attributes && node.attributes[settings.heightKey]){\n\n            let x : number = node.x0 - settings.mapSize * 0.5;\n            let y : number = node.z0;\n            let z : number = node.y0 - settings.mapSize * 0.5;\n\n            let w : number = node.width;\n            let h : number = node.height;\n            let l : number = node.length;\n\n            let label : internalLabel = this.makeText(node.name + \": \" + node.attributes[settings.heightKey], 30);\n            label.sprite.position.set(x+w/2,y+60+h + label.heightValue/2,z+l/2);\n\n            const material = new THREE.LineBasicMaterial({\n                color: 0x0000ff\n            });\n        \n            const geometry = new THREE.Geometry();\n            geometry.vertices.push(\n                new THREE.Vector3(x + w / 2, y + h, z + l / 2),\n                new THREE.Vector3(x + w / 2, y + h + 60, z + l / 2)\n            );\n        \n            label.line = new THREE.Line(geometry, material);\n\n            this.parentObjectInScene.add(label.sprite);\n            this.parentObjectInScene.add(label.line);\n\n            this.labels.push(label);\n        }\n    }\n        \n    scale(x : number, y : number, z : number) {\n        for(let label of this.labels) {\n            label.sprite.position.x *= x;\n            label.sprite.position.y *= y;\n            label.sprite.position.z *= z;\n\n            //cast is a workaround for the compiler. Attribute vertices does exist on geometry\n            //but it is missing in the mapping file for TypeScript.\n            (<any>label.line!.geometry).vertices[0].x *= x;\n            (<any>label.line!.geometry).vertices[0].y *= y;\n            (<any>label.line!.geometry).vertices[0].z *= z;\n\n            (<any>label.line!.geometry).vertices[1].x = label.sprite.position.x;\n            (<any>label.line!.geometry).vertices[1].y = label.sprite.position.y;\n            (<any>label.line!.geometry).vertices[1].z = label.sprite.position.z;\n        }\n    }\n        \n    /**\n    * Returns a text sprite\n    * @param {string} message\n    * @param {number} fontsize\n    * @returns {THREE.Sprite}\n    */\n    makeText(message : string, fontsize : number) : internalLabel {\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        ctx!.font = fontsize + \"px Arial\";\n    \n        const margin = 10;\n    \n        // setting canvas width/height before ctx draw, else canvas is empty\n        const w = ctx!.measureText(message).width;\n        const h = fontsize;\n        canvas.width = w + margin;\n        canvas.height = h + margin; // fontsize * 1.5\n        \n        //bg\n        ctx!.fillStyle = \"rgba(255,255,255,1)\";\n        ctx!.strokeStyle = \"rgba(0,0,255,1)\";\n        ctx!.fillRect(0,0,canvas.width, canvas.height);\n        ctx!.strokeRect(0,0,canvas.width, canvas.height);\n        \n        // after setting the canvas width/height we have to re-set font to apply!?! looks like ctx reset\n        ctx!.font = h + \"px Arial\";\n        ctx!.fillStyle = \"rgba(0,0,0,1)\";\n        ctx!.textAlign = \"center\";\n        ctx!.textBaseline = \"middle\";\n        ctx!.fillText(message, canvas.width / 2, canvas.height / 2);\n        \n        const texture = new THREE.Texture(canvas);\n        texture.minFilter = THREE.LinearFilter; // NearestFilter;\n        texture.needsUpdate = true;\n        \n        const spriteMaterial = new THREE.SpriteMaterial({map : texture});\n        const sprite = new THREE.Sprite(spriteMaterial);\n        sprite.scale.set(canvas.width,canvas.height,1);\n\n        return {\n            \"sprite\" : sprite,\n            \"heightValue\" : canvas.height,\n            \"line\" : null\n        };\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1d84a1db00d815ae32492ee49aacf09eb07435b9"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/renderSettings.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/renderSettings.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":13,"column":34}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":60}},"2":{"start":{"line":4,"column":4},"end":{"line":4,"column":59}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":60}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":50}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":61}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":60}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":70}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":71}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":1},"end":{"line":2,"column":2}},"loc":{"start":{"line":2,"column":22},"end":{"line":13,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":3},"end":{"line":13,"column":32}},"type":"binary-expr","locations":[{"start":{"line":13,"column":3},"end":{"line":13,"column":12}},{"start":{"line":13,"column":17},"end":{"line":13,"column":31}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"renderSettings.js","sourceRoot":"","sources":["renderSettings.ts"],"names":[],"mappings":"AAMA,MAAM,CAAN,IAAY,SAWX;AAXD,WAAY,SAAS;IACjB,uDAAmB,CAAA;IACnB,sDAAkB,CAAA;IAClB,uDAAmB,CAAA;IACnB,6CAAc,CAAA;IACd,gDAAe,CAAA;IACf,wDAAmB,CAAA;IACnB,uDAAmB,CAAA;IACnB,iEAAwB,CAAA;IACxB,kEAAwB,CAAA;IACxB,+CAAe,CAAA;AACnB,CAAC,EAXW,SAAS,KAAT,SAAS,QAWpB","sourcesContent":["export interface colorRange {\n    from : number;\n    to : number;\n    flipped : boolean;\n}\n\nexport enum MapColors {\n    positive = 0x69AE40,\n    neutral = 0xddcc00,\n    negative = 0x820E0E,\n    odd = 0x501A1C,\n    even = 0xD1A9A9,\n    selected = 0xEB8319,\n    defaultC = 0x89ACB4,\n    positiveDelta = 0x69ff40,\n    negativeDelta = 0xff0E0E,\n    base = 0x666666\n}\n\nexport interface renderSettings {\n    heightKey : string,\n    colorKey : string,\n    renderDeltas : boolean,\n    colorRange : colorRange,\n    mapSize : number,\n    deltaColorFlipped: boolean\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"d3ae5e14dd2f940870ea51052b8f1c40d1cdd3be"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/renderingUtil.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/rendering/renderingUtil.ts","statementMap":{"0":{"start":{"line":4,"column":8},"end":{"line":4,"column":120}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":4},"end":{"line":3,"column":5}},"loc":{"start":{"line":3,"column":30},"end":{"line":5,"column":5}},"line":3}},"branchMap":{},"s":{"0":3},"f":{"0":3},"b":{},"inputSourceMap":{"version":3,"file":"renderingUtil.js","sourceRoot":"","sources":["renderingUtil.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAA;AAE9B,MAAM;IACF,MAAM,CAAC,WAAW,CAAC,KAAc;QAE7B,MAAM,CAAC,IAAI,KAAK,CAAC,OAAO,CACpB,CAAC,CAAC,KAAK,IAAK,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,KAAK,EAC/B,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,KAAK,EAC7B,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,KAAK,CACzB,CAAC;IACN,CAAC;CACJ","sourcesContent":["import * as THREE from \"three\"\n\nexport class renderingUtil {\n    static colorToVec3(color : number) : THREE.Vector3\n    {\n        return new THREE.Vector3(\n            ((color  >> 16) & 0xFF) / 255.0,\n            ((color >> 8) & 0xFF) / 255.0,\n            (color & 0xFF) / 255.0\n        );\n    }\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"93bfbcfbeef96605e5f5cc3062fc606922357532"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeCameraService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeCameraService.ts","statementMap":{"0":{"start":{"line":13,"column":8},"end":{"line":13,"column":82}},"1":{"start":{"line":24,"column":23},"end":{"line":24,"column":55}},"2":{"start":{"line":25,"column":8},"end":{"line":25,"column":138}},"3":{"start":{"line":26,"column":8},"end":{"line":26,"column":34}},"4":{"start":{"line":27,"column":8},"end":{"line":27,"column":40}},"5":{"start":{"line":30,"column":8},"end":{"line":30,"column":42}},"6":{"start":{"line":33,"column":0},"end":{"line":33,"column":51}},"7":{"start":{"line":34,"column":0},"end":{"line":34,"column":35}},"8":{"start":{"line":35,"column":0},"end":{"line":35,"column":28}},"9":{"start":{"line":36,"column":0},"end":{"line":36,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":11,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":39},"end":{"line":14,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":68},"end":{"line":28,"column":5}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":25},"end":{"line":31,"column":5}},"line":29}},"branchMap":{},"s":{"0":0,"1":1,"2":1,"3":1,"4":1,"5":1,"6":7,"7":7,"8":7,"9":7},"f":{"0":9,"1":0,"2":1,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"threeCameraService.js","sourceRoot":"","sources":["threeCameraService.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAI/B;;GAEG;AACH;IAUI;;OAEG;IACH;IAEA,CAAC;IAED,iBAAiB,CAAC,QAAkB,EAAE,KAAY;QAC9C,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;IAC7E,CAAC;IAED;;;;;;;OAOG;IACH,IAAI,CAAC,eAAgC,EAAE,cAAsB,EAAE,eAAuB,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;QACnH,MAAM,MAAM,GAAG,cAAc,GAAG,eAAe,CAAC;QAChD,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,UAAU,EAAE,MAAM,EAAE,kBAAkB,CAAC,IAAI,EAAE,kBAAkB,CAAC,GAAG,CAAC,CAAC;QAClI,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1B,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACpC,CAAC;IAED,WAAW,CAAC,CAAS,EAAE,CAAS,EAAE,CAAS;QACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,CAAC;;AApCa,2BAAQ,GAAG,oBAAoB,CAAC;AAEhC,6BAAU,GAAG,EAAE,CAAC;AAChB,uBAAI,GAAG,CAAC,CAAC;AACT,sBAAG,GAAG,KAAK,CAAC;AAoC9B,OAAO,EAAC,kBAAkB,EAAC,CAAC","sourcesContent":["\"use strict\";\n\nimport * as THREE from \"three\";\nimport {SettingsServiceSubscriber, Settings, SettingsService} from \"../../core/settings/settings.service\";\nimport {PerspectiveCamera} from \"three\";\n\n/**\n * Manages the three js camera in an angular way.\n */\nclass ThreeCameraService implements SettingsServiceSubscriber {\n\n    public static SELECTOR = \"threeCameraService\";\n\n    public static VIEW_ANGLE = 45;\n    public static NEAR = 1;\n    public static FAR = 20000;\n\n    public camera: PerspectiveCamera;\n\n    /**\n     * @constructor\n     */\n    constructor() {\n\n    }\n\n    onSettingsChanged(settings: Settings, event: Event) {\n        this.setPosition(settings.camera.x, settings.camera.y, settings.camera.z)\n    }\n\n    /**\n     * Inits the camera with a specific container width and height\n     * @param {number} containerWidth initial width\n     * @param {number} containerHeight initial height\n     * @param {number} x camera position component x\n     * @param {number} y camera position component y\n     * @param {number} z camera position component z\n     */\n    init(settingsService: SettingsService, containerWidth: number, containerHeight: number, x: number, y: number, z: number) {\n        const aspect = containerWidth / containerHeight;\n        this.camera = new THREE.PerspectiveCamera(ThreeCameraService.VIEW_ANGLE, aspect, ThreeCameraService.NEAR, ThreeCameraService.FAR);\n        this.setPosition(x, y, z);\n        settingsService.subscribe(this);\n    }\n\n    setPosition(x: number, y: number, z: number) {\n        this.camera.position.set(x, y, z);\n    }\n\n}\n\nexport {ThreeCameraService};\n\n\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"cbfb34ee357fefe0faee051c136e784f9cf6a397"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeOrbitControlsService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeOrbitControlsService.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":8,"column":53}},"1":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"2":{"start":{"line":12,"column":8},"end":{"line":14,"column":11}},"3":{"start":{"line":13,"column":12},"end":{"line":13,"column":54}},"4":{"start":{"line":21,"column":30},"end":{"line":21,"column":79}},"5":{"start":{"line":22,"column":8},"end":{"line":22,"column":86}},"6":{"start":{"line":23,"column":18},"end":{"line":23,"column":22}},"7":{"start":{"line":24,"column":8},"end":{"line":26,"column":11}},"8":{"start":{"line":25,"column":12},"end":{"line":25,"column":55}},"9":{"start":{"line":33,"column":8},"end":{"line":33,"column":96}},"10":{"start":{"line":36,"column":0},"end":{"line":36,"column":65}},"11":{"start":{"line":37,"column":0},"end":{"line":37,"column":71}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":48},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":26},"end":{"line":15,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":81},"end":{"line":12,"column":82}},"loc":{"start":{"line":12,"column":100},"end":{"line":14,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":21},"end":{"line":27,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":49},"end":{"line":24,"column":50}},"loc":{"start":{"line":24,"column":61},"end":{"line":26,"column":9}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":20},"end":{"line":34,"column":5}},"line":32}},"branchMap":{},"s":{"0":8,"1":8,"2":7,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":7,"11":7},"f":{"0":8,"1":7,"2":0,"3":0,"4":0,"5":0},"b":{},"inputSourceMap":{"version":3,"file":"threeOrbitControlsService.js","sourceRoot":"","sources":["threeOrbitControlsService.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AASb;;GAEG;AACH;IAOI,cAAc;IACd,YACY,kBAAsC,EACtC,UAA6B;QAD7B,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,eAAU,GAAV,UAAU,CAAmB;IACtC,CAAC;IAEJ,SAAS,CAAC,UAAkC;QACxC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,yBAAyB,CAAC,yBAAyB,EAAE,CAAC,KAAoB,EAAE,MAAyB,EAAE,EAAE;YACzH,UAAU,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;OAGG;IACH,IAAI,CAAC,UAAU;QACX,MAAM,aAAa,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAC9E,IAAI,GAAG,GAAE,IAAI,CAAC;QACd,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAE,QAAQ,EAAE;YACtC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;OAGG;IACH,OAAO,CAAC,MAAyB;QAC7B,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,yBAAyB,CAAC,yBAAyB,EAAE,MAAM,CAAC,CAAC;IAC5F,CAAC;;AApCa,kCAAQ,GAAG,2BAA2B,CAAC;AACvC,mDAAyB,GAAG,gBAAgB,CAAC;AAuC/D,OAAO,EAAC,yBAAyB,EAAC,CAAC","sourcesContent":["\"use strict\";\nimport {ThreeCameraService} from \"./threeCameraService\";\nimport {IRootScopeService, IAngularEvent} from \"angular\";\nimport {OrbitControls, PerspectiveCamera} from \"three\";\n\nexport interface CameraChangeSubscriber {\n    onCameraChanged(camera: PerspectiveCamera, event: IAngularEvent)\n}\n\n/**\n * Service to manage the three orbit controls in an angular way.\n */\nclass ThreeOrbitControlsService {\n\n    public static SELECTOR = \"threeOrbitControlsService\";\n    public static CAMERA_CHANGED_EVENT_NAME = \"camera-changed\";\n\n    controls: OrbitControls;\n\n    /* ngInject */\n    constructor(\n        private threeCameraService: ThreeCameraService,\n        private $rootScope: IRootScopeService\n    ) {}\n\n    subscribe(subscriber: CameraChangeSubscriber) {\n        this.$rootScope.$on(ThreeOrbitControlsService.CAMERA_CHANGED_EVENT_NAME, (event: IAngularEvent, camera: PerspectiveCamera) => {\n            subscriber.onCameraChanged(camera, event);\n        });\n    }\n\n    /**\n     * Inits the controls on the given DOM Element\n     * @param domElement Element with the canvas on it\n     */\n    init(domElement){\n        const OrbitControls = require('three-orbit-controls')(require(\"three\"));\n        this.controls = new OrbitControls(this.threeCameraService.camera, domElement);\n        let ctx= this;\n        this.controls.addEventListener( \"change\", function () {\n            ctx.onInput(ctx.threeCameraService.camera);\n        });\n    }\n\n    /**\n     * Called when the orbit controls receive an user input\n     * @param {Camera} camera\n     */\n    onInput(camera: PerspectiveCamera) {\n        this.$rootScope.$broadcast(ThreeOrbitControlsService.CAMERA_CHANGED_EVENT_NAME, camera);\n    }\n\n}\n\nexport {ThreeOrbitControlsService};\n\n\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"24b57d8813798aa9feb535615f91fd3c26617256"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeRendererService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeRendererService.ts","statementMap":{"0":{"start":{"line":12,"column":8},"end":{"line":12,"column":85}},"1":{"start":{"line":13,"column":8},"end":{"line":13,"column":63}},"2":{"start":{"line":14,"column":8},"end":{"line":14,"column":104}},"3":{"start":{"line":17,"column":0},"end":{"line":17,"column":55}},"4":{"start":{"line":18,"column":0},"end":{"line":18,"column":44}},"5":{"start":{"line":19,"column":0},"end":{"line":19,"column":37}},"6":{"start":{"line":20,"column":0},"end":{"line":23,"column":2}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":7,"column":21}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":42},"end":{"line":15,"column":5}},"line":11}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":7,"4":7,"5":7,"6":7},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"threeRendererService.js","sourceRoot":"","sources":["threeRendererService.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAG/B;;GAEG;AACH,MAAM;IAgBF,eAAe;IACf,gBAAe,CAAC;IAEhB;;OAEG;IACH,IAAI,CAAC,cAAsB,EAAE,eAAuB;QAChD,IAAI,CAAC,QAAQ,GAAG,IAAI,KAAK,CAAC,aAAa,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;QAC7E,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC;QACvD,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,WAAW,EAAE,oBAAoB,CAAC,WAAW,CAAC,CAAC;IACpG,CAAC;;AAxBa,6BAAQ,GAAG,sBAAsB,CAAC;AAElC,gCAAW,GAAG,QAAQ,CAAC;AAEvB,gCAAW,GAAG,CAAC,CAAC;AAEhB,mCAAc,GAAG;IAC3B,SAAS,EAAE,IAAI;IACf,qBAAqB,EAAE,IAAI;CAC9B,CAAC","sourcesContent":["import * as THREE from \"three\";\nimport {WebGLRenderer} from \"three\";\n\n/**\n * A service which manages the Three.js renderer in an angular way.\n */\nexport class ThreeRendererService {\n\n    public static SELECTOR = \"threeRendererService\";\n\n    public static CLEAR_COLOR = 0xeeeedd;\n\n    public static CLEAR_ALPHA = 1;\n\n    public static RENDER_OPTIONS = {\n        antialias: true,\n        preserveDrawingBuffer: true\n    };\n\n\n    renderer: WebGLRenderer;\n\n    /* @ngInject */\n    constructor() {}\n\n    /**\n     * Inits the renderer.\n     */\n    init(containerWidth: number, containerHeight: number){\n        this.renderer = new THREE.WebGLRenderer(ThreeRendererService.RENDER_OPTIONS);\n        this.renderer.setSize(containerWidth, containerHeight);\n        this.renderer.setClearColor(ThreeRendererService.CLEAR_COLOR, ThreeRendererService.CLEAR_ALPHA);\n    }\n\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"6582ac30f30da2e1045b559cc601c315283ee279"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeSceneService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeSceneService.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":8,"column":39}},"1":{"start":{"line":9,"column":8},"end":{"line":9,"column":45}},"2":{"start":{"line":10,"column":8},"end":{"line":10,"column":40}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":40}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":58}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":26}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":41}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":36}},"8":{"start":{"line":16,"column":8},"end":{"line":16,"column":36}},"9":{"start":{"line":19,"column":26},"end":{"line":19,"column":58}},"10":{"start":{"line":20,"column":23},"end":{"line":20,"column":62}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":51}},"12":{"start":{"line":22,"column":8},"end":{"line":22,"column":34}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":39}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":39}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":37}},"16":{"start":{"line":26,"column":8},"end":{"line":26,"column":41}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":38}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":39}},"19":{"start":{"line":29,"column":23},"end":{"line":29,"column":62}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":53}},"21":{"start":{"line":31,"column":8},"end":{"line":31,"column":34}},"22":{"start":{"line":32,"column":8},"end":{"line":32,"column":39}},"23":{"start":{"line":33,"column":8},"end":{"line":33,"column":39}},"24":{"start":{"line":34,"column":8},"end":{"line":34,"column":37}},"25":{"start":{"line":35,"column":8},"end":{"line":35,"column":41}},"26":{"start":{"line":36,"column":8},"end":{"line":36,"column":38}},"27":{"start":{"line":37,"column":8},"end":{"line":37,"column":39}},"28":{"start":{"line":38,"column":8},"end":{"line":38,"column":35}},"29":{"start":{"line":39,"column":8},"end":{"line":39,"column":32}},"30":{"start":{"line":40,"column":8},"end":{"line":40,"column":32}},"31":{"start":{"line":43,"column":8},"end":{"line":43,"column":28}},"32":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"33":{"start":{"line":45,"column":12},"end":{"line":45,"column":66}},"34":{"start":{"line":47,"column":8},"end":{"line":47,"column":50}},"35":{"start":{"line":48,"column":8},"end":{"line":48,"column":50}},"36":{"start":{"line":49,"column":8},"end":{"line":49,"column":42}},"37":{"start":{"line":50,"column":8},"end":{"line":50,"column":50}},"38":{"start":{"line":53,"column":8},"end":{"line":54,"column":39}},"39":{"start":{"line":54,"column":12},"end":{"line":54,"column":39}},"40":{"start":{"line":57,"column":8},"end":{"line":57,"column":28}},"41":{"start":{"line":60,"column":0},"end":{"line":60,"column":49}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":17,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":17},"end":{"line":41,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":27},"end":{"line":51,"column":5}},"line":42},"3":{"name":"(anonymous_3)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":18},"end":{"line":55,"column":5}},"line":52},"4":{"name":"(anonymous_4)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":17},"end":{"line":58,"column":5}},"line":56}},"branchMap":{},"s":{"0":5,"1":5,"2":5,"3":5,"4":5,"5":5,"6":5,"7":5,"8":5,"9":5,"10":5,"11":5,"12":5,"13":5,"14":5,"15":5,"16":5,"17":5,"18":5,"19":5,"20":5,"21":5,"22":5,"23":5,"24":5,"25":5,"26":5,"27":5,"28":5,"29":5,"30":5,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":7},"f":{"0":5,"1":5,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"threeSceneService.js","sourceRoot":"","sources":["threeSceneService.ts"],"names":[],"mappings":"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","sourcesContent":["import * as THREE from \"three\";\nimport {LabelManager} from \"./../rendering/labelManager\"\nimport {Scene} from \"three\";\nimport {Group} from \"three\";\nimport {CodeMapMesh} from \"../rendering/codeMapMesh\";\n\n/**\n * A service which manages the Three.js scene in an angular way.\n */\nclass ThreeSceneService {\n\n    public static SELECTOR = \"threeSceneService\";\n\n    scene: Scene;\n    private labelManager: LabelManager;\n    private lights: Group;\n    private labels: Group;\n    private mapGeometry: Group;\n    private mapMesh: CodeMapMesh;\n\n    constructor() {\n\n        this.scene = new THREE.Scene();\n\n        this.mapGeometry = new THREE.Group();\n        this.lights = new THREE.Group();\n        this.labels = new THREE.Group();\n\n        this.labelManager = new LabelManager(this.labels);\n\n        this.initLights();\n\n        this.scene.add(this.mapGeometry);\n        this.scene.add(this.lights);\n        this.scene.add(this.labels);\n\n    }\n\n    initLights() {\n        const ambilight = new THREE.AmbientLight(0x707070); // soft white light\n        const light1 = new THREE.DirectionalLight(0xe0e0e0, 1);\n        light1.position.set(50, 10, 8).normalize();\n        light1.castShadow = false;\n        light1.shadow.camera.right = 5;\n        light1.shadow.camera.left = -5;\n        light1.shadow.camera.top = 5;\n        light1.shadow.camera.bottom = -5;\n        light1.shadow.camera.near = 2;\n        light1.shadow.camera.far = 100;\n\n        const light2 = new THREE.DirectionalLight(0xe0e0e0, 1);\n        light2.position.set(-50, 10, -8).normalize();\n        light2.castShadow = false;\n        light2.shadow.camera.right = 5;\n        light2.shadow.camera.left = -5;\n        light2.shadow.camera.top = 5;\n        light2.shadow.camera.bottom = -5;\n        light2.shadow.camera.near = 2;\n        light2.shadow.camera.far = 100;\n\n        this.lights.add(ambilight);\n        this.lights.add(light1);\n        this.lights.add(light2);\n    }\n\n    setMapMesh(mesh: CodeMapMesh, size: number) {\n        this.mapMesh = mesh;\n\n        while (this.mapGeometry.children.length > 0) {\n            this.mapGeometry.remove(\n                this.mapGeometry.children[0]\n            );\n        }\n\n        this.mapGeometry.add(mesh.getThreeMesh());\n\n        this.mapGeometry.position.x = -size / 2.0;\n        this.mapGeometry.position.y = 0.0;\n        this.mapGeometry.position.z = -size / 2.0;\n    }\n\n    clearLabels() {\n        while (this.labels.children.length > 0)\n            this.labels.children.pop();\n    }\n\n    getMapMesh(): CodeMapMesh {\n        return this.mapMesh;\n    }\n}\n\nexport {ThreeSceneService};\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1953a6960d7720205f7de51a641a9390c4fece36"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeUpdateCycleService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeUpdateCycleService.ts","statementMap":{"0":{"start":{"line":6,"column":8},"end":{"line":6,"column":29}},"1":{"start":{"line":9,"column":8},"end":{"line":9,"column":39}},"2":{"start":{"line":15,"column":8},"end":{"line":17,"column":11}},"3":{"start":{"line":16,"column":12},"end":{"line":16,"column":16}},"4":{"start":{"line":20,"column":0},"end":{"line":20,"column":61}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":23},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":13},"end":{"line":18,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":32},"end":{"line":15,"column":33}},"loc":{"start":{"line":15,"column":39},"end":{"line":17,"column":9}},"line":15}},"branchMap":{},"s":{"0":2,"1":0,"2":1,"3":2,"4":7},"f":{"0":2,"1":0,"2":1,"3":2},"b":{},"inputSourceMap":{"version":3,"file":"threeUpdateCycleService.js","sourceRoot":"","sources":["threeUpdateCycleService.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,MAAM;IAMF;QAFQ,eAAU,GAAe,EAAE,CAAC;IAGpC,CAAC;IAED,QAAQ,CAAC,QAAkB;QACvB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAED;;OAEG;IACH,MAAM;QACF,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAW,EAAC,EAAE;YACnC,CAAC,EAAE,CAAC;QACR,CAAC,CAAC,CAAC;IACP,CAAC;;AAlBa,gCAAQ,GAAG,yBAAyB,CAAC","sourcesContent":["/**\n * This service allows other parts of the application to hook into the update cycle and get called on each cycle.\n */\nexport class ThreeUpdateCycleService {\n\n    public static SELECTOR = \"threeUpdateCycleService\";\n\n    private updatables: Function[] = [];\n\n    constructor() {\n    }\n\n    register(onUpdate: Function) {\n        this.updatables.push(onUpdate);\n    }\n\n    /**\n     * Updates all registered callback functions\n     */\n    update() {\n        this.updatables.forEach((u: Function)=> {\n            u();\n        });\n    }\n\n}\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"55672c41cd78da6d639a7d5ee86190738a0fc79f"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeViewer.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeViewer.ts","statementMap":{"0":{"start":{"line":9,"column":0},"end":{"line":15,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":7},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"threeViewer.js","sourceRoot":"","sources":["threeViewer.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,kBAAkB,EAAC,MAAM,sBAAsB,CAAC;AACxD,OAAO,EAAC,iBAAiB,EAAC,MAAM,qBAAqB,CAAC;AACtD,OAAO,EAAC,kBAAkB,EAAC,MAAM,sBAAsB,CAAC;AACxD,OAAO,EAAC,yBAAyB,EAAC,MAAM,6BAA6B,CAAC;AACtE,OAAO,EAAC,oBAAoB,EAAC,MAAM,wBAAwB,CAAC;AAC5D,OAAO,EAAC,uBAAuB,EAAC,MAAM,2BAA2B,CAAC;AAClE,OAAO,qCAAqC,CAAC;AAE7C,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,CAAC,MAAM,CAAC,oCAAoC,EAAE,CAAC,8BAA8B,CAAC,CAAC;KACjF,OAAO,CACJ,kBAAkB,CAAC,QAAQ,EAC3B,kBAAkB,CACrB;KACA,OAAO,CACJ,uBAAuB,CAAC,QAAQ,EAChC,uBAAuB,CAC1B;KACA,OAAO,CACJ,iBAAiB,CAAC,QAAQ,EAC1B,iBAAiB,CACpB;KACA,OAAO,CACJ,oBAAoB,CAAC,QAAQ,EAC7B,oBAAoB,CACvB;KACA,OAAO,CACJ,yBAAyB,CAAC,QAAQ,EAClC,yBAAyB,CAC5B;KACA,OAAO,CACJ,kBAAkB,CAAC,QAAQ,EAC3B,kBAAkB,CACrB,CAAC","sourcesContent":["import {ThreeViewerService} from \"./threeViewerService\";\nimport {ThreeSceneService} from \"./threeSceneService\";\nimport {ThreeCameraService} from \"./threeCameraService\";\nimport {ThreeOrbitControlsService} from \"./threeOrbitControlsService\";\nimport {ThreeRendererService} from \"./threeRendererService\";\nimport {ThreeUpdateCycleService} from \"./threeUpdateCycleService\";\nimport \"../../core/settings/settings.module\";\n\nimport angular from \"angular\";\n\nangular.module(\"app.codeCharta.codeMap.threeViewer\", [\"app.codeCharta.core.settings\"])\n    .service(\n        ThreeViewerService.SELECTOR,\n        ThreeViewerService\n    )\n    .service(\n        ThreeUpdateCycleService.SELECTOR,\n        ThreeUpdateCycleService\n    )\n    .service(\n        ThreeSceneService.SELECTOR,\n        ThreeSceneService\n    )\n    .service(\n        ThreeRendererService.SELECTOR,\n        ThreeRendererService\n    )\n    .service(\n        ThreeOrbitControlsService.SELECTOR,\n        ThreeOrbitControlsService\n    )\n    .service(\n        ThreeCameraService.SELECTOR,\n        ThreeCameraService\n    );\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"4998feb466cea8cb59269c37104d1a02437424bd"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeViewerService.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/codeMap/threeViewer/threeViewerService.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":8,"column":51}},"1":{"start":{"line":9,"column":8},"end":{"line":9,"column":53}},"2":{"start":{"line":10,"column":8},"end":{"line":10,"column":67}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":57}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":63}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":47}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":218}},"7":{"start":{"line":21,"column":8},"end":{"line":21,"column":85}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":73}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":78}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":91}},"11":{"start":{"line":28,"column":8},"end":{"line":28,"column":75}},"12":{"start":{"line":30,"column":8},"end":{"line":30,"column":81}},"13":{"start":{"line":36,"column":8},"end":{"line":36,"column":62}},"14":{"start":{"line":37,"column":8},"end":{"line":37,"column":90}},"15":{"start":{"line":38,"column":8},"end":{"line":38,"column":87}},"16":{"start":{"line":39,"column":8},"end":{"line":39,"column":64}},"17":{"start":{"line":45,"column":8},"end":{"line":45,"column":55}},"18":{"start":{"line":46,"column":8},"end":{"line":46,"column":112}},"19":{"start":{"line":47,"column":8},"end":{"line":47,"column":57}},"20":{"start":{"line":48,"column":8},"end":{"line":48,"column":46}},"21":{"start":{"line":51,"column":0},"end":{"line":51,"column":51}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":146},"end":{"line":14,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":18},"end":{"line":31,"column":5}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":21},"end":{"line":40,"column":5}},"line":35},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":14},"end":{"line":49,"column":5}},"line":44}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":7},"f":{"0":0,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"threeViewerService.js","sourceRoot":"","sources":["threeViewerService.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAQb;;GAEG;AACH,MAAM;IAIF,cAAc;IACd,YACY,iBAAoC,EACpC,kBAAsC,EACtC,yBAAoD,EACpD,oBAA0C,EAC1C,uBAAgD,EAChD,eAAgC;QALhC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,8BAAyB,GAAzB,yBAAyB,CAA2B;QACpD,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,oBAAe,GAAf,eAAe,CAAiB;IAG5C,CAAC;IAED;;;OAGG;IACH,IAAI,CAAC,OAAgB;QAEjB,IAAI,CAAC,kBAAkB,CAAC,IAAI,CACxB,IAAI,CAAC,eAAe,EACpB,MAAM,CAAC,UAAU,EACjB,MAAM,CAAC,WAAW,EAClB,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EACtC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EACtC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CACzC,CAAC;QAEF,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC7E,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QAEjE,sBAAsB;QACtB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;QAEtE,mDAAmD;QACnD,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAEnF,sBAAsB;QACtB,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAEnE,2DAA2D;QAC3D,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC7E,CAAC;IAED;;OAEG;IACH,cAAc;QACV,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAEtD,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;QAClF,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;QAC/E,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,sBAAsB,EAAE,CAAC;IAC5D,CAAC;IAED;;OAEG;IACH,OAAO;QACH,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QACxG,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QACjD,IAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,CAAC;IAC1C,CAAC;;AAhEa,2BAAQ,GAAG,oBAAoB,CAAC;AAkEjD,CAAC","sourcesContent":["\"use strict\";\nimport {ThreeSceneService} from \"./threeSceneService\";\nimport {ThreeCameraService} from \"./threeCameraService\";\nimport {ThreeOrbitControlsService} from \"./threeOrbitControlsService\";\nimport {ThreeRendererService} from \"./threeRendererService\";\nimport {ThreeUpdateCycleService} from \"./threeUpdateCycleService\";\nimport {SettingsService} from \"../../core/settings/settings.service\";\n\n/**\n * A service to angularize the Three.js canvas.\n */\nexport class ThreeViewerService {\n\n    public static SELECTOR = \"threeViewerService\";\n\n    /* ngInject */\n    constructor(\n        private threeSceneService: ThreeSceneService,\n        private threeCameraService: ThreeCameraService,\n        private threeOrbitControlsService: ThreeOrbitControlsService,\n        private threeRendererService: ThreeRendererService,\n        private threeUpdateCycleService: ThreeUpdateCycleService,\n        private settingsService: SettingsService\n    ) {\n\n    }\n\n    /**\n     * Initializes the canvas and all necessary services.\n     * @param {Object} element DOM Element which should be the canvas\n     */\n    init(element: Element) {\n\n        this.threeCameraService.init(\n            this.settingsService,\n            window.innerWidth,\n            window.innerHeight,\n            this.settingsService.settings.camera.x,\n            this.settingsService.settings.camera.y,\n            this.settingsService.settings.camera.z\n        );\n\n        this.threeCameraService.camera.lookAt(this.threeSceneService.scene.position);\n        this.threeSceneService.scene.add(this.threeCameraService.camera);\n\n        // create the renderer\n        this.threeRendererService.init(window.innerWidth, window.innerHeight);\n\n        // set up the controls with the camera and renderer\n        this.threeOrbitControlsService.init(this.threeRendererService.renderer.domElement);\n\n        // add renderer to DOM\n        element.appendChild(this.threeRendererService.renderer.domElement);\n\n        // handles resizing the renderer when the window is resized\n        window.addEventListener(\"resize\", this.onWindowResize.bind(this), false);\n    }\n\n    /**\n     * Applies transformations on window resize.\n     */\n    onWindowResize() {\n        this.threeSceneService.scene.updateMatrixWorld(false);\n\n        this.threeRendererService.renderer.setSize(window.innerWidth, window.innerHeight);\n        this.threeCameraService.camera.aspect = window.innerWidth / window.innerHeight;\n        this.threeCameraService.camera.updateProjectionMatrix();\n    }\n\n    /**\n     * Calls the animation loop.\n     */\n    animate() {\n        requestAnimationFrame(this.animate.bind(this));\n        this.threeRendererService.renderer.render(this.threeSceneService.scene, this.threeCameraService.camera);\n        this.threeOrbitControlsService.controls.update();\n        this.threeUpdateCycleService.update();\n    }\n\n};\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c79f3053a46b5c1fc1c766606c59ea2a28c021c7"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/core.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/core.module.ts","statementMap":{"0":{"start":{"line":10,"column":0},"end":{"line":18,"column":3}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"core.module.js","sourceRoot":"","sources":["core.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,oBAAoB,CAAC;AAC5B,OAAO,4BAA4B,CAAC;AACpC,OAAO,kBAAkB,CAAC;AAC1B,OAAO,0BAA0B,CAAC;AAClC,OAAO,4BAA4B,CAAC;AACpC,OAAO,0BAA0B,CAAC;AAClC,OAAO,8BAA8B,CAAC;AAEtC,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,CAAC,MAAM,CACV,qBAAqB,EACrB;IACI,0BAA0B;IAC1B,8BAA8B;IAC9B,yBAAyB;IACzB,6BAA6B;IAC7B,8BAA8B;IAC9B,6BAA6B;IAC7B,+BAA+B;CAClC,CACJ,CAAC","sourcesContent":["\"use strict\";\n\nimport \"./data/data.module\";\nimport \"./settings/settings.module\";\nimport \"./url/url.module\";\nimport \"./treemap/treemap.module\";\nimport \"./scenario/scenario.module\";\nimport \"./tooltip/tooltip.module\";\nimport \"./statistic/statistic.module\";\n\nimport angular from \"angular\";\n\nangular.module(\n    \"app.codeCharta.core\",\n    [\n        \"app.codeCharta.core.data\",\n        \"app.codeCharta.core.settings\",\n        \"app.codeCharta.core.url\",\n        \"app.codeCharta.core.treemap\",\n        \"app.codeCharta.core.scenario\",\n        \"app.codeCharta.core.tooltip\",\n        \"app.codeCharta.core.statistic\"\n    ]\n);\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"d8c088fb76a19695768a0c9849a4d07724284a94"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.decorator.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.decorator.service.ts","statementMap":{"0":{"start":{"line":15,"column":8},"end":{"line":21,"column":9}},"1":{"start":{"line":16,"column":23},"end":{"line":16,"column":45}},"2":{"start":{"line":17,"column":25},"end":{"line":17,"column":38}},"3":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"4":{"start":{"line":19,"column":16},"end":{"line":19,"column":71}},"5":{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},"6":{"start":{"line":25,"column":23},"end":{"line":25,"column":45}},"7":{"start":{"line":26,"column":12},"end":{"line":28,"column":15}},"8":{"start":{"line":27,"column":16},"end":{"line":27,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":9,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":36},"end":{"line":22,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":40},"end":{"line":30,"column":5}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":22},"end":{"line":26,"column":23}},"loc":{"start":{"line":26,"column":32},"end":{"line":28,"column":13}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":21,"column":9}},{"start":{"line":15,"column":8},"end":{"line":21,"column":9}}],"line":15},"1":{"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":27}},"type":"binary-expr","locations":[{"start":{"line":15,"column":12},"end":{"line":15,"column":15}},{"start":{"line":15,"column":19},"end":{"line":15,"column":27}}],"line":15},"2":{"loc":{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},{"start":{"line":24,"column":8},"end":{"line":29,"column":9}}],"line":24},"3":{"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":27}},"type":"binary-expr","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":15}},{"start":{"line":24,"column":19},"end":{"line":24,"column":27}}],"line":24}},"s":{"0":14,"1":7,"2":7,"3":7,"4":21,"5":13,"6":13,"7":13,"8":68},"f":{"0":31,"1":14,"2":13,"3":68},"b":{"0":[7,7],"1":[14,7],"2":[13,0],"3":[13,13]},"inputSourceMap":{"version":3,"file":"data.decorator.service.js","sourceRoot":"","sources":["data.decorator.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,KAAK,EAAE,MAAM,IAAI,CAAC;AAIzB;;GAEG;AACH,MAAM;IAEF,eAAe;IACf;IAEA,CAAC;IAED;;;OAGG;IACI,0BAA0B,CAAC,GAAY;QAE1C,EAAE,CAAA,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAEjB,IAAI,IAAI,GAAG,EAAE,CAAC,SAAS,CAAc,GAAG,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAI,MAAM,GAAiC,IAAI,CAAC,MAAM,EAAE,CAAC;YAEzD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACrC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,EAAC,KAAK,EAAE,CAAC,EAAC,CAAC,CAAA;YACxD,CAAC;QAEL,CAAC;IACL,CAAC;IAEM,8BAA8B,CAAC,GAAY;QAE9C,EAAE,CAAA,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAEjB,IAAI,IAAI,GAAG,EAAE,CAAC,SAAS,CAAc,GAAG,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,EAAE;gBACd,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC;YACpC,CAAC,CAAC,CAAC;QAEP,CAAC;IACL,CAAC;CAEJ","sourcesContent":["\"use strict\";\n\nimport * as d3 from \"d3\";\nimport {CodeMap, CodeMapNode} from \"./model/CodeMap\";\nimport {HierarchyNode} from \"d3-hierarchy\";\n\n/**\n * Decorates the data structure with artificial metrics\n */\nexport class DataDecoratorService {\n\n    /* @ngInject */\n    constructor(){\n\n    }\n\n    /**\n     * Decorates the map with the unary metric. This metric is always 1 to allow the same area on all buildings.\n     * @param {CodeMap} map\n     */\n    public decorateMapWithUnaryMetric(map: CodeMap) {\n\n        if(map && map.root) {\n\n            let root = d3.hierarchy<CodeMapNode>(map.root);\n            let leaves: HierarchyNode<CodeMapNode>[] = root.leaves();\n\n            for (var j = 0; j < leaves.length; j++) {\n                Object.assign(leaves[j].data.attributes, {unary: 1})\n            }\n\n        }\n    }\n\n    public decorateMapWithOriginAttribute(map: CodeMap) {\n\n        if(map && map.root) {\n\n            let root = d3.hierarchy<CodeMapNode>(map.root);\n            root.each((node)=>{\n                node.data.origin = map.fileName;\n            });\n\n        }\n    }\n\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"543eed96529be35619b842a307f9ce7a70b4310a"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.deltaCalculator.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.deltaCalculator.service.ts","statementMap":{"0":{"start":{"line":12,"column":8},"end":{"line":30,"column":9}},"1":{"start":{"line":13,"column":28},"end":{"line":13,"column":55}},"2":{"start":{"line":14,"column":30},"end":{"line":14,"column":48}},"3":{"start":{"line":15,"column":29},"end":{"line":15,"column":57}},"4":{"start":{"line":16,"column":31},"end":{"line":16,"column":50}},"5":{"start":{"line":17,"column":12},"end":{"line":29,"column":13}},"6":{"start":{"line":18,"column":16},"end":{"line":28,"column":17}},"7":{"start":{"line":19,"column":29},"end":{"line":19,"column":43}},"8":{"start":{"line":20,"column":29},"end":{"line":20,"column":44}},"9":{"start":{"line":21,"column":20},"end":{"line":27,"column":21}},"10":{"start":{"line":23,"column":42},"end":{"line":23,"column":114}},"11":{"start":{"line":24,"column":43},"end":{"line":24,"column":115}},"12":{"start":{"line":25,"column":24},"end":{"line":25,"column":65}},"13":{"start":{"line":26,"column":24},"end":{"line":26,"column":67}},"14":{"start":{"line":41,"column":8},"end":{"line":52,"column":9}},"15":{"start":{"line":42,"column":30},"end":{"line":42,"column":55}},"16":{"start":{"line":43,"column":31},"end":{"line":43,"column":57}},"17":{"start":{"line":44,"column":27},"end":{"line":44,"column":57}},"18":{"start":{"line":45,"column":28},"end":{"line":45,"column":59}},"19":{"start":{"line":46,"column":12},"end":{"line":46,"column":73}},"20":{"start":{"line":47,"column":12},"end":{"line":47,"column":73}},"21":{"start":{"line":48,"column":12},"end":{"line":48,"column":68}},"22":{"start":{"line":51,"column":12},"end":{"line":51,"column":60}},"23":{"start":{"line":55,"column":8},"end":{"line":67,"column":9}},"24":{"start":{"line":56,"column":26},"end":{"line":56,"column":47}},"25":{"start":{"line":57,"column":26},"end":{"line":57,"column":52}},"26":{"start":{"line":58,"column":12},"end":{"line":62,"column":15}},"27":{"start":{"line":59,"column":16},"end":{"line":61,"column":17}},"28":{"start":{"line":60,"column":20},"end":{"line":60,"column":105}},"29":{"start":{"line":60,"column":73},"end":{"line":60,"column":102}},"30":{"start":{"line":63,"column":12},"end":{"line":63,"column":27}},"31":{"start":{"line":66,"column":12},"end":{"line":66,"column":23}},"32":{"start":{"line":71,"column":8},"end":{"line":93,"column":9}},"33":{"start":{"line":72,"column":12},"end":{"line":92,"column":15}},"34":{"start":{"line":73,"column":45},"end":{"line":73,"column":90}},"35":{"start":{"line":75,"column":16},"end":{"line":91,"column":17}},"36":{"start":{"line":76,"column":31},"end":{"line":76,"column":55}},"37":{"start":{"line":77,"column":20},"end":{"line":77,"column":56}},"38":{"start":{"line":81,"column":20},"end":{"line":90,"column":23}},"39":{"start":{"line":82,"column":24},"end":{"line":89,"column":27}},"40":{"start":{"line":84,"column":28},"end":{"line":88,"column":29}},"41":{"start":{"line":85,"column":32},"end":{"line":87,"column":33}},"42":{"start":{"line":86,"column":36},"end":{"line":86,"column":109}},"43":{"start":{"line":96,"column":18},"end":{"line":96,"column":23}},"44":{"start":{"line":97,"column":8},"end":{"line":101,"column":11}},"45":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"46":{"start":{"line":99,"column":16},"end":{"line":99,"column":27}},"47":{"start":{"line":102,"column":8},"end":{"line":102,"column":19}},"48":{"start":{"line":106,"column":19},"end":{"line":106,"column":49}},"49":{"start":{"line":108,"column":8},"end":{"line":112,"column":9}},"50":{"start":{"line":109,"column":12},"end":{"line":111,"column":13}},"51":{"start":{"line":110,"column":16},"end":{"line":110,"column":51}},"52":{"start":{"line":114,"column":8},"end":{"line":120,"column":11}},"53":{"start":{"line":115,"column":12},"end":{"line":119,"column":13}},"54":{"start":{"line":116,"column":16},"end":{"line":118,"column":17}},"55":{"start":{"line":117,"column":20},"end":{"line":117,"column":55}},"56":{"start":{"line":121,"column":8},"end":{"line":121,"column":20}},"57":{"start":{"line":124,"column":21},"end":{"line":124,"column":23}},"58":{"start":{"line":125,"column":8},"end":{"line":132,"column":9}},"59":{"start":{"line":126,"column":12},"end":{"line":131,"column":13}},"60":{"start":{"line":127,"column":33},"end":{"line":127,"column":60}},"61":{"start":{"line":128,"column":34},"end":{"line":128,"column":45}},"62":{"start":{"line":129,"column":28},"end":{"line":129,"column":52}},"63":{"start":{"line":130,"column":16},"end":{"line":130,"column":36}},"64":{"start":{"line":133,"column":8},"end":{"line":133,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":10,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":48},"end":{"line":31,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":64},"end":{"line":53,"column":5}},"line":40},"3":{"name":"(anonymous_3)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":32},"end":{"line":68,"column":5}},"line":54},"4":{"name":"(anonymous_4)","decl":{"start":{"line":58,"column":25},"end":{"line":58,"column":26}},"loc":{"start":{"line":58,"column":35},"end":{"line":62,"column":13}},"line":58},"5":{"name":"(anonymous_5)","decl":{"start":{"line":60,"column":67},"end":{"line":60,"column":68}},"loc":{"start":{"line":60,"column":73},"end":{"line":60,"column":102}},"line":60},"6":{"name":"(anonymous_6)","decl":{"start":{"line":69,"column":4},"end":{"line":69,"column":5}},"loc":{"start":{"line":69,"column":52},"end":{"line":94,"column":5}},"line":69},"7":{"name":"(anonymous_7)","decl":{"start":{"line":72,"column":34},"end":{"line":72,"column":35}},"loc":{"start":{"line":72,"column":49},"end":{"line":92,"column":13}},"line":72},"8":{"name":"(anonymous_8)","decl":{"start":{"line":81,"column":43},"end":{"line":81,"column":44}},"loc":{"start":{"line":81,"column":64},"end":{"line":90,"column":21}},"line":81},"9":{"name":"(anonymous_9)","decl":{"start":{"line":82,"column":46},"end":{"line":82,"column":47}},"loc":{"start":{"line":82,"column":66},"end":{"line":89,"column":25}},"line":82},"10":{"name":"(anonymous_10)","decl":{"start":{"line":95,"column":4},"end":{"line":95,"column":5}},"loc":{"start":{"line":95,"column":45},"end":{"line":103,"column":5}},"line":95},"11":{"name":"(anonymous_11)","decl":{"start":{"line":97,"column":35},"end":{"line":97,"column":36}},"loc":{"start":{"line":97,"column":51},"end":{"line":101,"column":9}},"line":97},"12":{"name":"(anonymous_12)","decl":{"start":{"line":104,"column":4},"end":{"line":104,"column":5}},"loc":{"start":{"line":104,"column":20},"end":{"line":122,"column":5}},"line":104},"13":{"name":"(anonymous_13)","decl":{"start":{"line":114,"column":18},"end":{"line":114,"column":19}},"loc":{"start":{"line":114,"column":28},"end":{"line":120,"column":9}},"line":114},"14":{"name":"(anonymous_14)","decl":{"start":{"line":123,"column":4},"end":{"line":123,"column":5}},"loc":{"start":{"line":123,"column":47},"end":{"line":134,"column":5}},"line":123}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":30,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":30,"column":9}},{"start":{"line":12,"column":8},"end":{"line":30,"column":9}}],"line":12},"1":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":68}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":20}},{"start":{"line":12,"column":24},"end":{"line":12,"column":33}},{"start":{"line":12,"column":37},"end":{"line":12,"column":50}},{"start":{"line":12,"column":54},"end":{"line":12,"column":68}}],"line":12},"2":{"loc":{"start":{"line":21,"column":20},"end":{"line":27,"column":21}},"type":"if","locations":[{"start":{"line":21,"column":20},"end":{"line":27,"column":21}},{"start":{"line":21,"column":20},"end":{"line":27,"column":21}}],"line":21},"3":{"loc":{"start":{"line":41,"column":8},"end":{"line":52,"column":9}},"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":52,"column":9}},{"start":{"line":41,"column":8},"end":{"line":52,"column":9}}],"line":41},"4":{"loc":{"start":{"line":41,"column":12},"end":{"line":41,"column":64}},"type":"binary-expr","locations":[{"start":{"line":41,"column":12},"end":{"line":41,"column":19}},{"start":{"line":41,"column":23},"end":{"line":41,"column":31}},{"start":{"line":41,"column":35},"end":{"line":41,"column":47}},{"start":{"line":41,"column":51},"end":{"line":41,"column":64}}],"line":41},"5":{"loc":{"start":{"line":55,"column":8},"end":{"line":67,"column":9}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":67,"column":9}},{"start":{"line":55,"column":8},"end":{"line":67,"column":9}}],"line":55},"6":{"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":27}},"type":"binary-expr","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":15}},{"start":{"line":55,"column":19},"end":{"line":55,"column":27}}],"line":55},"7":{"loc":{"start":{"line":59,"column":16},"end":{"line":61,"column":17}},"type":"if","locations":[{"start":{"line":59,"column":16},"end":{"line":61,"column":17}},{"start":{"line":59,"column":16},"end":{"line":61,"column":17}}],"line":59},"8":{"loc":{"start":{"line":71,"column":8},"end":{"line":93,"column":9}},"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":93,"column":9}},{"start":{"line":71,"column":8},"end":{"line":93,"column":9}}],"line":71},"9":{"loc":{"start":{"line":71,"column":12},"end":{"line":71,"column":164}},"type":"binary-expr","locations":[{"start":{"line":71,"column":12},"end":{"line":71,"column":46}},{"start":{"line":71,"column":50},"end":{"line":71,"column":76}},{"start":{"line":71,"column":80},"end":{"line":71,"column":107}},{"start":{"line":71,"column":111},"end":{"line":71,"column":135}},{"start":{"line":71,"column":139},"end":{"line":71,"column":164}}],"line":71},"10":{"loc":{"start":{"line":75,"column":16},"end":{"line":91,"column":17}},"type":"if","locations":[{"start":{"line":75,"column":16},"end":{"line":91,"column":17}},{"start":{"line":75,"column":16},"end":{"line":91,"column":17}}],"line":75},"11":{"loc":{"start":{"line":84,"column":28},"end":{"line":88,"column":29}},"type":"if","locations":[{"start":{"line":84,"column":28},"end":{"line":88,"column":29}},{"start":{"line":84,"column":28},"end":{"line":88,"column":29}}],"line":84},"12":{"loc":{"start":{"line":85,"column":32},"end":{"line":87,"column":33}},"type":"if","locations":[{"start":{"line":85,"column":32},"end":{"line":87,"column":33}},{"start":{"line":85,"column":32},"end":{"line":87,"column":33}}],"line":85},"13":{"loc":{"start":{"line":85,"column":36},"end":{"line":85,"column":248}},"type":"binary-expr","locations":[{"start":{"line":85,"column":36},"end":{"line":85,"column":90}},{"start":{"line":85,"column":94},"end":{"line":85,"column":130}},{"start":{"line":85,"column":134},"end":{"line":85,"column":171}},{"start":{"line":85,"column":175},"end":{"line":85,"column":209}},{"start":{"line":85,"column":213},"end":{"line":85,"column":248}}],"line":85},"14":{"loc":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},{"start":{"line":98,"column":12},"end":{"line":100,"column":13}}],"line":98},"15":{"loc":{"start":{"line":109,"column":12},"end":{"line":111,"column":13}},"type":"if","locations":[{"start":{"line":109,"column":12},"end":{"line":111,"column":13}},{"start":{"line":109,"column":12},"end":{"line":111,"column":13}}],"line":109},"16":{"loc":{"start":{"line":116,"column":16},"end":{"line":118,"column":17}},"type":"if","locations":[{"start":{"line":116,"column":16},"end":{"line":118,"column":17}},{"start":{"line":116,"column":16},"end":{"line":118,"column":17}}],"line":116},"17":{"loc":{"start":{"line":126,"column":12},"end":{"line":131,"column":13}},"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":131,"column":13}},{"start":{"line":126,"column":12},"end":{"line":131,"column":13}}],"line":126},"18":{"loc":{"start":{"line":127,"column":33},"end":{"line":127,"column":60}},"type":"cond-expr","locations":[{"start":{"line":127,"column":46},"end":{"line":127,"column":56}},{"start":{"line":127,"column":59},"end":{"line":127,"column":60}}],"line":127}},"s":{"0":8,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":12,"8":12,"9":12,"10":3,"11":3,"12":3,"13":3,"14":3,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":2,"23":1,"24":1,"25":1,"26":1,"27":5,"28":2,"29":4,"30":1,"31":0,"32":4,"33":4,"34":9,"35":9,"36":1,"37":1,"38":8,"39":18,"40":40,"41":22,"42":2,"43":9,"44":9,"45":20,"46":8,"47":9,"48":1,"49":1,"50":3,"51":3,"52":1,"53":1,"54":3,"55":3,"56":1,"57":10,"58":10,"59":29,"60":29,"61":29,"62":29,"63":29,"64":10},"f":{"0":34,"1":8,"2":3,"3":1,"4":5,"5":4,"6":4,"7":9,"8":18,"9":40,"10":9,"11":20,"12":1,"13":1,"14":10},"b":{"0":[1,7],"1":[8,1,1,1],"2":[3,9],"3":[1,2],"4":[3,2,2,1],"5":[1,0],"6":[1,1],"7":[2,3],"8":[4,0],"9":[4,4,4,4,4],"10":[1,8],"11":[22,18],"12":[2,20],"13":[22,8,2,2,2],"14":[8,12],"15":[3,0],"16":[3,0],"17":[29,0],"18":[24,5]},"inputSourceMap":{"version":3,"file":"data.deltaCalculator.service.js","sourceRoot":"","sources":["data.deltaCalculator.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,KAAK,EAAE,MAAM,IAAI,CAAC;AAGzB,OAAO,KAAK,QAAQ,MAAM,UAAU,CAAC;AAMrC;;GAEG;AACH,MAAM;IAEF,eAAe;IACf;IAEA,CAAC;IAEM,sBAAsB,CAAC,QAAiB,EAAE,SAAkB;QAE/D,EAAE,CAAC,CAAC,QAAQ,IAAI,SAAS,IAAI,QAAQ,CAAC,IAAI,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;YAC3D,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAc,QAAQ,CAAC,IAAI,CAAC,CAAC;YACzD,IAAI,WAAW,GAAiC,SAAS,CAAC,MAAM,EAAE,CAAC;YACnE,IAAI,UAAU,GAAG,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAI,YAAY,GAAiC,UAAU,CAAC,MAAM,EAAE,CAAC;YAErE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAE3C,IAAI,EAAE,GAA+B,WAAW,CAAC,CAAC,CAAC,CAAC;oBACpD,IAAI,EAAE,GAA+B,YAAY,CAAC,CAAC,CAAC,CAAC;oBAErD,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;wBAChC,4EAA4E;wBAC5E,IAAI,WAAW,GAAG,IAAI,CAAC,2BAA2B,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBAC3F,IAAI,YAAY,GAAG,IAAI,CAAC,2BAA2B,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wBAE5F,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;wBACzC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC;oBAE/C,CAAC;gBACL,CAAC;YACL,CAAC;QAEL,CAAC;IAEL,CAAC;IAED;;;;;;;OAOG;IACI,wCAAwC,CAAC,OAAgB,EAAE,QAAiB;QAC/E,EAAE,CAAC,CAAC,OAAO,IAAI,QAAQ,IAAI,OAAO,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;YAEvD,IAAI,WAAW,GAAY,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACrD,IAAI,YAAY,GAAY,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAEvD,IAAI,QAAQ,GAAG,EAAE,CAAC,SAAS,CAAc,WAAW,CAAC,IAAI,CAAC,CAAC;YAC3D,IAAI,SAAS,GAAG,EAAE,CAAC,SAAS,CAAc,YAAY,CAAC,IAAI,CAAC,CAAC;YAE7D,IAAI,CAAC,kCAAkC,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;YAC7D,IAAI,CAAC,kCAAkC,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;YAE7D,MAAM,CAAC,EAAC,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAC,CAAC;QAE1D,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,EAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAC,CAAC;QAClD,CAAC;IACL,CAAC;IAEM,sBAAsB,CAAC,GAAY;QACtC,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;YAElB,IAAI,OAAO,GAAY,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAE7C,IAAI,OAAO,GAAG,EAAE,CAAC,SAAS,CAAc,OAAO,CAAC,IAAI,CAAC,CAAC;YACtD,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAAC,EAAE;gBACjB,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzF,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,OAAO,CAAC;QAEnB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,GAAG,CAAC;QACf,CAAC;IACL,CAAC;IAEO,kCAAkC,CAAC,IAAgC,EAAE,KAAiC;QAE1G,0DAA0D;QAC1D,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,SAAS,IAAI,KAAK,CAAC,QAAQ,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAE3J,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,EAAE;gBAEhC,IAAI,sBAAsB,GAAG,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;gBAE3E,mHAAmH;gBACnH,EAAE,CAAC,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC;oBAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;oBACpC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,6FAA6F;oBAC7F,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,EAAE;wBACvC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,EAAE;4BACrC,4BAA4B;4BAC5B,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gCACnD,EAAE,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,KAAK,eAAe,CAAC,IAAI,CAAC,IAAI,IAAI,cAAc,CAAC,QAAQ,IAAI,SAAS,IAAI,eAAe,CAAC,QAAQ,IAAI,SAAS,IAAI,cAAc,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,eAAe,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oCACvN,IAAI,CAAC,kCAAkC,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC;gCAC7E,CAAC;4BACL,CAAC;wBACL,CAAC,CAAC,CAAC;oBACP,CAAC,CAAC,CAAC;gBACP,CAAC;YAEL,CAAC,CAAC,CAAC;QAEP,CAAC;IACL,CAAC;IAEO,sBAAsB,CAAC,SAAqC,EAAE,KAAiC;QACnG,IAAI,GAAG,GAAG,KAAK,CAAC;QAChB,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;YACtC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC3C,GAAG,GAAG,IAAI,CAAC;YACf,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAEO,QAAQ,CAAC,KAAiC;QAE9C,UAAU;QACV,IAAI,IAAI,GAA+B,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,mFAAmF;QAE1J,uBAAuB;QACvB,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACxC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACvC,CAAC;QACL,CAAC;QAED,mCAAmC;QACnC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACf,GAAG,CAAC,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACxC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAChD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACvC,CAAC;YACL,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC;IAEhB,CAAC;IAED,2BAA2B,CAAC,KAAe,EAAE,MAAgB;QACzD,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC;YACrB,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,IAAI,UAAU,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,kCAAkC;gBAChF,IAAI,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9B,IAAI,KAAK,GAAG,WAAW,GAAG,UAAU,CAAC;gBACrC,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACxB,CAAC;QACL,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;CAEJ","sourcesContent":["\"use strict\";\n\nimport * as d3 from \"d3\";\nimport {CodeMap, CodeMapNode} from \"./model/CodeMap\";\nimport {HierarchyNode} from \"d3-hierarchy\";\nimport * as deepcopy from \"deepcopy\";\n\ninterface KVObject {\n    [key: string]: number\n}\n\n/**\n * Calculates the deltas between given maps and modifies the data structure\n */\nexport class DeltaCalculatorService {\n\n    /* @ngInject */\n    constructor() {\n\n    }\n\n    public decorateMapsWithDeltas(firstMap: CodeMap, secondMap: CodeMap) {\n\n        if (firstMap && secondMap && firstMap.root && secondMap.root) {\n            let firstRoot = d3.hierarchy<CodeMapNode>(firstMap.root);\n            let firstLeaves: HierarchyNode<CodeMapNode>[] = firstRoot.leaves();\n            let secondRoot = d3.hierarchy(secondMap.root);\n            let secondLeaves: HierarchyNode<CodeMapNode>[] = secondRoot.leaves();\n\n            for (var j = 0; j < firstLeaves.length; j++) {\n                for (var k = 0; k < secondLeaves.length; k++) {\n\n                    let fl: HierarchyNode<CodeMapNode> = firstLeaves[j];\n                    let sl: HierarchyNode<CodeMapNode> = secondLeaves[k];\n\n                    if (fl.data.name === sl.data.name) {\n                        //calculate delta for those nodes attributes and push it to the second leave\n                        let firstDeltas = this.calculateAttributeListDelta(sl.data.attributes, fl.data.attributes);\n                        let secondDeltas = this.calculateAttributeListDelta(fl.data.attributes, sl.data.attributes);\n\n                        firstLeaves[j].data.deltas = firstDeltas;\n                        secondLeaves[k].data.deltas = secondDeltas;\n\n                    }\n                }\n            }\n\n        }\n\n    }\n\n    /**\n     * Unifies both maps and inserts unique nodes into the other map. The inserted nodes have all metrics set to zero.\n     * This will calculate deltas correctly between versions and add \"empty\" buildings to ensure all revisions have an\n     * equal building pool. These empty buildings should be viewed with the unary metric as area\n     * @param {CodeMap} leftMap\n     * @param {CodeMap} rightMap\n     * @returns {{leftMap: CodeMap; rightMap: CodeMap}}\n     */\n    public fillMapsWithNonExistingNodesFromOtherMap(leftMap: CodeMap, rightMap: CodeMap): { leftMap: CodeMap; rightMap: CodeMap; } {\n        if (leftMap && rightMap && leftMap.root && rightMap.root) {\n\n            let leftMapCopy: CodeMap = deepcopy.default(leftMap);\n            let rightMapCopy: CodeMap = deepcopy.default(rightMap);\n\n            let leftRoot = d3.hierarchy<CodeMapNode>(leftMapCopy.root);\n            let rightRoot = d3.hierarchy<CodeMapNode>(rightMapCopy.root);\n\n            this.insertLeftIntoRightWithZeroMetrics(leftRoot, rightRoot);\n            this.insertLeftIntoRightWithZeroMetrics(rightRoot, leftRoot);\n\n            return {leftMap: leftMapCopy, rightMap: rightMapCopy};\n\n        } else {\n            return {leftMap: leftMap, rightMap: rightMap};\n        }\n    }\n\n    public removeCrossOriginNodes(map: CodeMap): CodeMap {\n        if (map && map.root) {\n\n            let mapCopy: CodeMap = deepcopy.default(map);\n\n            let mapRoot = d3.hierarchy<CodeMapNode>(mapCopy.root);\n            mapRoot.each((node)=>{\n                if(node.data.children) {\n                    node.data.children = node.data.children.filter(x => (x.origin === mapCopy.fileName));\n                }\n            });\n\n            return mapCopy;\n\n        } else {\n            return map;\n        }\n    }\n\n    private insertLeftIntoRightWithZeroMetrics(left: HierarchyNode<CodeMapNode>, right: HierarchyNode<CodeMapNode>) {\n\n        // are these nodes mergable (same name and have children)?\n        if (left.data.name === right.data.name && left.children != undefined && right.children != undefined && left.children.length > 0 && right.children.length > 0) {\n\n            left.children.forEach((leftChild) => {\n\n                let leftChildExistsInRight = this.childExistsInHierarchy(right, leftChild);\n\n                //if left child does not exist in the right node's children, insert it as a new valueless node into rights children\n                if (!leftChildExistsInRight) {\n                    let copy = this.deepcopy(leftChild);\n                    right.data.children.push(copy.data);\n                } else {\n                    // if left child exists in right nodes children, skip, since we only look for direct children\n                    right.children.forEach((rightChildInner) => {\n                        left.children.forEach((leftChildInner) => {\n                            //step in with pre-filtering\n                            if (leftChildInner.data.name !== leftChild.data.name) {\n                                if (leftChildInner.data.name === rightChildInner.data.name && leftChildInner.children != undefined && rightChildInner.children != undefined && leftChildInner.children.length > 0 && rightChildInner.children.length > 0) {\n                                    this.insertLeftIntoRightWithZeroMetrics(leftChildInner, rightChildInner);\n                                }\n                            }\n                        });\n                    });\n                }\n\n            });\n\n        }\n    }\n\n    private childExistsInHierarchy(hierarchy: HierarchyNode<CodeMapNode>, child: HierarchyNode<CodeMapNode>): boolean {\n        let tmp = false;\n        hierarchy.children.forEach((rightChild) => {\n            if (child.data.name === rightChild.data.name) {\n                tmp = true;\n            }\n        });\n        return tmp;\n    }\n\n    private deepcopy(nodes: HierarchyNode<CodeMapNode>): HierarchyNode<CodeMapNode> {\n\n        //deepcopy\n        let copy: HierarchyNode<CodeMapNode> = deepcopy.default(nodes.copy()); //Hm this seems to be doing the right thing. First shallow copy then a deep copy ?!\n\n        //make own attributes 0\n        for (let property in copy.data.attributes) {\n            if (copy.data.attributes.hasOwnProperty(property)) {\n                copy.data.attributes[property] = 0;\n            }\n        }\n\n        ////make all ancestors attributes 0\n        copy.each((node) => {\n            for (var property in node.data.attributes) {\n                if (node.data.attributes.hasOwnProperty(property)) {\n                    node.data.attributes[property] = 0;\n                }\n            }\n        });\n\n        return copy;\n\n    }\n\n    calculateAttributeListDelta(first: KVObject, second: KVObject) {\n        let deltas = {};\n        for (var key in second) {\n            if (key) {\n                let firstValue = first[key] ? first[key] : 0; //assume zero if no value in first\n                let secondValue = second[key];\n                let delta = secondValue - firstValue;\n                deltas[key] = delta;\n            }\n        }\n        return deltas;\n    }\n\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c08dfb37476a779984044a122368dd4af5687757"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.loading.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.loading.service.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":8,"column":57}},"1":{"start":{"line":9,"column":8},"end":{"line":9,"column":39}},"2":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"3":{"start":{"line":20,"column":12},"end":{"line":20,"column":25}},"4":{"start":{"line":22,"column":8},"end":{"line":30,"column":11}},"5":{"start":{"line":23,"column":12},"end":{"line":29,"column":15}},"6":{"start":{"line":24,"column":28},"end":{"line":24,"column":116}},"7":{"start":{"line":25,"column":16},"end":{"line":25,"column":55}},"8":{"start":{"line":26,"column":16},"end":{"line":26,"column":29}},"9":{"start":{"line":28,"column":16},"end":{"line":28,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":51},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":60},"end":{"line":31,"column":5}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":27},"end":{"line":22,"column":28}},"loc":{"start":{"line":22,"column":48},"end":{"line":30,"column":9}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":65},"end":{"line":23,"column":66}},"loc":{"start":{"line":23,"column":71},"end":{"line":27,"column":13}},"line":23},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":15},"end":{"line":27,"column":16}},"loc":{"start":{"line":27,"column":27},"end":{"line":29,"column":13}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19}},"s":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":1},"f":{"0":2,"1":2,"2":2,"3":1,"4":1},"b":{"0":[2,0]},"inputSourceMap":{"version":3,"file":"data.loading.service.js","sourceRoot":"","sources":["data.loading.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAKb;;GAEG;AACH,MAAM;IAEF,eAAe;IACf,YAAoB,oBAA0C,EAAU,WAAwB;QAA5E,yBAAoB,GAApB,oBAAoB,CAAsB;QAAU,gBAAW,GAAX,WAAW,CAAa;IAEhG,CAAC;IAED;;;;;;OAMG;IACH,sBAAsB,CAAC,QAAgB,EAAE,WAAgB,EAAE,QAAgB;QAEvE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACZ,QAAQ,GAAG,CAAC,CAAC;QACjB,CAAC;QAED,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAEnC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,IAAI,CAEhD,GAAE,EAAE;gBACA,MAAM,GAAG,GAAY,EAAC,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,CAAC,WAAW,EAAE,IAAI,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAC,CAAC;gBAC5G,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAEvC,OAAO,CAAC,GAAG,CAAC,CAAC;YAEjB,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE;gBACV,MAAM,CAAC,MAAM,CAAC,CAAC;YACnB,CAAC,CAEJ,CAAC;QAEN,CAAC,CAAC,CAAC;IAEP,CAAC;CAIJ","sourcesContent":["\"use strict\";\nimport {CodeMap} from \"./model/CodeMap\";\nimport {DataValidatorService} from \"./data.validator.service\";\nimport {DataService} from \"./data.service\";\n\n/**\n * This service loads maps into the DataService\n */\nexport class DataLoadingService {\n\n    /* @ngInject */\n    constructor(private dataValidatorService: DataValidatorService, private dataService: DataService){\n\n    }\n\n    /**\n     * Validates and loads a map from the given file content into the dataService\n     * @param {Object} fileContent well formed (schema.json) fileContent\n     * @param {Number} revision the revision id\n     * @returns {Promise} which resolves when the filecontent is valid and stored in dataService.\n     * The Promise rejects when errors happen. The errors are provided as parameters of the rejection function\n     */\n    loadMapFromFileContent(fileName: string, fileContent: any, revision: number): Promise<CodeMap> {\n\n        if (!revision) {\n            revision = 0;\n        }\n\n        return new Promise((resolve, reject) => {\n\n            this.dataValidatorService.validate(fileContent).then(\n\n                ()=>{\n                    const map: CodeMap = {fileName: fileName, projectName: fileContent.projectName, root: fileContent.nodes[0]};\n                    this.dataService.setMap(map, revision);\n\n                    resolve(map);\n\n                }, (errors) => {\n                    reject(errors);\n                }\n\n            );\n\n        });\n\n    }\n\n\n    \n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c99da29b024f8966233ec569d63e1df4d40419e1"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.mocks.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.mocks.ts","statementMap":{"0":{"start":{"line":1,"column":26},"end":{"line":25,"column":1}},"1":{"start":{"line":26,"column":33},"end":{"line":29,"column":1}},"2":{"start":{"line":30,"column":30},"end":{"line":34,"column":1}},"3":{"start":{"line":35,"column":32},"end":{"line":63,"column":1}},"4":{"start":{"line":64,"column":32},"end":{"line":97,"column":1}}},"fnMap":{},"branchMap":{},"s":{"0":4,"1":4,"2":4,"3":4,"4":4},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"data.mocks.js","sourceRoot":"","sources":["data.mocks.ts"],"names":[],"mappings":"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","sourcesContent":["import {CodeMap, CodeMapNode} from \"./model/CodeMap\";\n\nexport const VALID_NODE: CodeMapNode = {\n    \"name\": \"root\",\n    \"attributes\": {},\n    \"children\": [\n        {\n            \"name\": \"big leaf\",\n            \"attributes\": {\"RLOC\": 100, \"Functions\": 10, \"MCC\": 1},\n            \"link\": \"http://www.google.de\"\n        },\n        {\n            \"name\": \"Parent Leaf\",\n            \"attributes\": {},\n            \"children\": [\n                {\n                    \"name\": \"small leaf\",\n                    \"attributes\": {\"RLOC\": 30, \"Functions\": 100, \"MCC\": 100}\n                },\n                {\n                    \"name\": \"other small leaf\",\n                    \"attributes\": {\"RLOC\": 70, \"Functions\": 1000, \"MCC\": 10}\n                }\n            ]\n        }\n    ]\n};\n\nexport const TEST_FILE_CONTENT = {\n    projectName: \"Sample Map\",\n    nodes: [VALID_NODE]\n};\n\nexport const TEST_FILE_DATA: CodeMap = {\n\n    fileName: \"file\",\n    projectName: \"Sample Map\",\n    root: VALID_NODE\n};\n\nexport const TEST_DELTA_MAP_A: CodeMap = {\n    fileName: \"fileA\",\n    projectName: \"Sample Project\",\n    root: {\n        \"name\": \"root\",\n        \"attributes\": {},\n        \"children\": [\n            {\n                \"name\": \"big leaf\",\n                \"attributes\": {\"rloc\": 100, \"functions\": 10, \"mcc\": 1},\n                \"link\": \"http://www.google.de\"\n            },\n            {\n                \"name\": \"Parent Leaf\",\n                \"attributes\": {},\n                \"children\": [\n                    {\n                        \"name\": \"small leaf\",\n                        \"attributes\": {\"rloc\": 30, \"functions\": 100, \"mcc\": 100}\n                    },\n                    {\n                        \"name\": \"other small leaf\",\n                        \"attributes\": {\"rloc\": 70, \"functions\": 1000, \"mcc\": 10}\n                    }\n                ]\n            }\n        ]\n    }\n};\n\nexport const TEST_DELTA_MAP_B: CodeMap = {\n    fileName: \"fileB\",\n    projectName: \"Sample Project\",\n    root: {\n        \"name\": \"root\",\n        \"attributes\": {},\n        \"children\": [\n            {\n                \"name\": \"big leaf\",\n                \"attributes\": {\"rloc\": 20, \"functions\": 10, \"mcc\": 1},\n                \"link\": \"http://www.google.de\"\n            },\n            {\n                \"name\": \"additional leaf\",\n                \"attributes\": {\"rloc\": 10, \"functions\": 11, \"mcc\": 5},\n                \"link\": \"http://www.google.de\"\n            },\n            {\n                \"name\": \"Parent Leaf\",\n                \"attributes\": {},\n                \"children\": [\n                    {\n                        \"name\": \"small leaf\",\n                        \"attributes\": {\"rloc\": 30, \"functions\": 100, \"mcc\": 100, \"more\": 20}\n                    },\n                    {\n                        \"name\": \"other small leaf\",\n                        \"attributes\": {\"rloc\": 70, \"functions\": 1000}\n                    }\n                ]\n            }\n        ]\n    }\n};"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"54f79c59d3f67b4f6165b8bb0b23ff2319f6bc27"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.module.ts","statementMap":{"0":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}},"1":{"start":{"line":9,"column":0},"end":{"line":9,"column":97}},"2":{"start":{"line":10,"column":0},"end":{"line":10,"column":93}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":79}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":97}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":101}}},"fnMap":{},"branchMap":{},"s":{"0":12,"1":12,"2":12,"3":12,"4":12,"5":12},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"data.module.js","sourceRoot":"","sources":["data.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,EAAC,WAAW,EAAC,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAC,oBAAoB,EAAC,MAAM,0BAA0B,CAAC;AAC9D,OAAO,EAAC,kBAAkB,EAAC,MAAM,wBAAwB,CAAC;AAC1D,OAAO,EAAC,sBAAsB,EAAC,MAAM,gCAAgC,CAAC;AACtE,OAAO,EAAC,oBAAoB,EAAC,MAAM,0BAA0B,CAAC;AAE9D,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,CAAC,MAAM,CAAC,0BAA0B,EAAC,EAAE,CAAC,CAAC;AAE9C,OAAO,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAC9C,sBAAsB,EAAE,oBAAoB,CAC/C,CAAC;AAEF,OAAO,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAC9C,oBAAoB,EAAE,kBAAkB,CAC3C,CAAC;AAGF,OAAO,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAC9C,aAAa,EAAE,WAAW,CAC7B,CAAC;AAEF,OAAO,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAC9C,sBAAsB,EAAE,oBAAoB,CAC/C,CAAC;AAEF,OAAO,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC,OAAO,CAC9C,wBAAwB,EAAE,sBAAsB,CACnD,CAAC","sourcesContent":["\"use strict\";\n\nimport {DataService} from \"./data.service\";\nimport {DataValidatorService} from \"./data.validator.service\";\nimport {DataLoadingService} from \"./data.loading.service\";\nimport {DeltaCalculatorService} from \"./data.deltaCalculator.service\";\nimport {DataDecoratorService} from \"./data.decorator.service\";\n\nimport angular from \"angular\";\n\nangular.module(\"app.codeCharta.core.data\",[]);\n\nangular.module(\"app.codeCharta.core.data\").service(\n    \"dataDecoratorService\", DataDecoratorService\n);\n\nangular.module(\"app.codeCharta.core.data\").service(\n    \"dataLoadingService\", DataLoadingService\n);\n\n\nangular.module(\"app.codeCharta.core.data\").service(\n    \"dataService\", DataService\n);\n\nangular.module(\"app.codeCharta.core.data\").service(\n    \"dataValidatorService\", DataValidatorService\n);\n\nangular.module(\"app.codeCharta.core.data\").service(\n    \"deltaCalculatorService\", DeltaCalculatorService\n);\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"422260ab3f091f89b4bc0329784613b056aa66f1"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.service.ts","statementMap":{"0":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"1":{"start":{"line":10,"column":8},"end":{"line":10,"column":61}},"2":{"start":{"line":11,"column":8},"end":{"line":11,"column":57}},"3":{"start":{"line":12,"column":8},"end":{"line":12,"column":37}},"4":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":36}},"6":{"start":{"line":15,"column":8},"end":{"line":19,"column":10}},"7":{"start":{"line":22,"column":8},"end":{"line":22,"column":26}},"8":{"start":{"line":25,"column":8},"end":{"line":27,"column":11}},"9":{"start":{"line":26,"column":12},"end":{"line":26,"column":50}},"10":{"start":{"line":30,"column":8},"end":{"line":30,"column":63}},"11":{"start":{"line":38,"column":8},"end":{"line":38,"column":45}},"12":{"start":{"line":39,"column":8},"end":{"line":39,"column":97}},"13":{"start":{"line":40,"column":8},"end":{"line":40,"column":39}},"14":{"start":{"line":43,"column":8},"end":{"line":43,"column":45}},"15":{"start":{"line":46,"column":8},"end":{"line":46,"column":48}},"16":{"start":{"line":53,"column":8},"end":{"line":65,"column":9}},"17":{"start":{"line":54,"column":23},"end":{"line":54,"column":69}},"18":{"start":{"line":55,"column":25},"end":{"line":55,"column":38}},"19":{"start":{"line":56,"column":32},"end":{"line":58,"column":14}},"20":{"start":{"line":57,"column":16},"end":{"line":57,"column":79}},"21":{"start":{"line":59,"column":29},"end":{"line":63,"column":14}},"22":{"start":{"line":60,"column":16},"end":{"line":62,"column":20}},"23":{"start":{"line":61,"column":20},"end":{"line":61,"column":51}},"24":{"start":{"line":64,"column":12},"end":{"line":64,"column":44}},"25":{"start":{"line":71,"column":8},"end":{"line":71,"column":34}},"26":{"start":{"line":72,"column":8},"end":{"line":72,"column":32}},"27":{"start":{"line":73,"column":8},"end":{"line":73,"column":39}},"28":{"start":{"line":74,"column":8},"end":{"line":74,"column":36}},"29":{"start":{"line":75,"column":8},"end":{"line":75,"column":22}},"30":{"start":{"line":82,"column":8},"end":{"line":93,"column":9}},"31":{"start":{"line":83,"column":12},"end":{"line":83,"column":66}},"32":{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},"33":{"start":{"line":85,"column":16},"end":{"line":85,"column":40}},"34":{"start":{"line":87,"column":12},"end":{"line":87,"column":90}},"35":{"start":{"line":88,"column":12},"end":{"line":88,"column":87}},"36":{"start":{"line":89,"column":12},"end":{"line":89,"column":110}},"37":{"start":{"line":90,"column":12},"end":{"line":90,"column":35}},"38":{"start":{"line":91,"column":12},"end":{"line":91,"column":59}},"39":{"start":{"line":92,"column":12},"end":{"line":92,"column":26}},"40":{"start":{"line":100,"column":8},"end":{"line":111,"column":9}},"41":{"start":{"line":101,"column":12},"end":{"line":101,"column":45}},"42":{"start":{"line":102,"column":12},"end":{"line":102,"column":63}},"43":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"44":{"start":{"line":104,"column":16},"end":{"line":104,"column":40}},"45":{"start":{"line":106,"column":12},"end":{"line":106,"column":90}},"46":{"start":{"line":107,"column":12},"end":{"line":107,"column":87}},"47":{"start":{"line":108,"column":12},"end":{"line":108,"column":110}},"48":{"start":{"line":109,"column":12},"end":{"line":109,"column":35}},"49":{"start":{"line":110,"column":12},"end":{"line":110,"column":26}},"50":{"start":{"line":115,"column":8},"end":{"line":119,"column":9}},"51":{"start":{"line":116,"column":12},"end":{"line":116,"column":39}},"52":{"start":{"line":117,"column":12},"end":{"line":117,"column":60}},"53":{"start":{"line":118,"column":12},"end":{"line":118,"column":59}},"54":{"start":{"line":122,"column":8},"end":{"line":126,"column":9}},"55":{"start":{"line":123,"column":12},"end":{"line":123,"column":40}},"56":{"start":{"line":124,"column":12},"end":{"line":124,"column":60}},"57":{"start":{"line":125,"column":12},"end":{"line":125,"column":59}},"58":{"start":{"line":129,"column":21},"end":{"line":129,"column":240}},"59":{"start":{"line":130,"column":8},"end":{"line":130,"column":77}},"60":{"start":{"line":131,"column":8},"end":{"line":131,"column":78}},"61":{"start":{"line":133,"column":8},"end":{"line":133,"column":100}},"62":{"start":{"line":135,"column":8},"end":{"line":135,"column":46}},"63":{"start":{"line":136,"column":8},"end":{"line":136,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":74},"end":{"line":20,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":15},"end":{"line":23,"column":5}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":26},"end":{"line":28,"column":5}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":44},"end":{"line":25,"column":45}},"loc":{"start":{"line":25,"column":61},"end":{"line":27,"column":9}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":13},"end":{"line":31,"column":5}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":26},"end":{"line":41,"column":5}},"line":37},"6":{"name":"(anonymous_6)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":26},"end":{"line":44,"column":5}},"line":42},"7":{"name":"(anonymous_7)","decl":{"start":{"line":45,"column":4},"end":{"line":45,"column":5}},"loc":{"start":{"line":45,"column":27},"end":{"line":47,"column":5}},"line":45},"8":{"name":"(anonymous_8)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":22},"end":{"line":66,"column":5}},"line":52},"9":{"name":"(anonymous_9)","decl":{"start":{"line":56,"column":43},"end":{"line":56,"column":44}},"loc":{"start":{"line":56,"column":56},"end":{"line":58,"column":13}},"line":56},"10":{"name":"(anonymous_10)","decl":{"start":{"line":59,"column":50},"end":{"line":59,"column":51}},"loc":{"start":{"line":59,"column":73},"end":{"line":63,"column":13}},"line":59},"11":{"name":"(anonymous_11)","decl":{"start":{"line":60,"column":48},"end":{"line":60,"column":49}},"loc":{"start":{"line":60,"column":62},"end":{"line":62,"column":17}},"line":60},"12":{"name":"(anonymous_12)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":16},"end":{"line":76,"column":5}},"line":70},"13":{"name":"(anonymous_13)","decl":{"start":{"line":81,"column":4},"end":{"line":81,"column":5}},"loc":{"start":{"line":81,"column":28},"end":{"line":94,"column":5}},"line":81},"14":{"name":"(anonymous_14)","decl":{"start":{"line":99,"column":4},"end":{"line":99,"column":5}},"loc":{"start":{"line":99,"column":27},"end":{"line":112,"column":5}},"line":99},"15":{"name":"(anonymous_15)","decl":{"start":{"line":114,"column":4},"end":{"line":114,"column":5}},"loc":{"start":{"line":114,"column":23},"end":{"line":120,"column":5}},"line":114},"16":{"name":"(anonymous_16)","decl":{"start":{"line":121,"column":4},"end":{"line":121,"column":5}},"loc":{"start":{"line":121,"column":25},"end":{"line":127,"column":5}},"line":121},"17":{"name":"(anonymous_17)","decl":{"start":{"line":128,"column":4},"end":{"line":128,"column":5}},"loc":{"start":{"line":128,"column":23},"end":{"line":137,"column":5}},"line":128}},"branchMap":{"0":{"loc":{"start":{"line":53,"column":8},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":65,"column":9}},{"start":{"line":53,"column":8},"end":{"line":65,"column":9}}],"line":53},"1":{"loc":{"start":{"line":57,"column":23},"end":{"line":57,"column":78}},"type":"cond-expr","locations":[{"start":{"line":57,"column":43},"end":{"line":57,"column":73}},{"start":{"line":57,"column":76},"end":{"line":57,"column":78}}],"line":57},"2":{"loc":{"start":{"line":82,"column":8},"end":{"line":93,"column":9}},"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":93,"column":9}},{"start":{"line":82,"column":8},"end":{"line":93,"column":9}}],"line":82},"3":{"loc":{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":86,"column":13}},{"start":{"line":84,"column":12},"end":{"line":86,"column":13}}],"line":84},"4":{"loc":{"start":{"line":100,"column":8},"end":{"line":111,"column":9}},"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":111,"column":9}},{"start":{"line":100,"column":8},"end":{"line":111,"column":9}}],"line":100},"5":{"loc":{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},"type":"if","locations":[{"start":{"line":103,"column":12},"end":{"line":105,"column":13}},{"start":{"line":103,"column":12},"end":{"line":105,"column":13}}],"line":103},"6":{"loc":{"start":{"line":115,"column":8},"end":{"line":119,"column":9}},"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":119,"column":9}},{"start":{"line":115,"column":8},"end":{"line":119,"column":9}}],"line":115},"7":{"loc":{"start":{"line":122,"column":8},"end":{"line":126,"column":9}},"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":126,"column":9}},{"start":{"line":122,"column":8},"end":{"line":126,"column":9}}],"line":122}},"s":{"0":28,"1":28,"2":28,"3":28,"4":28,"5":28,"6":28,"7":23,"8":7,"9":0,"10":8,"11":7,"12":7,"13":7,"14":0,"15":0,"16":7,"17":7,"18":7,"19":7,"20":21,"21":7,"22":14,"23":56,"24":7,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":8,"41":7,"42":7,"43":7,"44":0,"45":7,"46":7,"47":7,"48":7,"49":7,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0},"f":{"0":28,"1":23,"2":7,"3":0,"4":8,"5":7,"6":0,"7":0,"8":7,"9":21,"10":14,"11":56,"12":1,"13":1,"14":8,"15":0,"16":0,"17":0},"b":{"0":[7,0],"1":[21,0],"2":[0,1],"3":[0,0],"4":[7,1],"5":[0,7],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"file":"data.service.js","sourceRoot":"","sources":["data.service.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport * as d3 from \"d3\";\nimport {CodeMap, CodeMapNode} from \"./model/CodeMap\";\nimport {IRootScopeService, IAngularEvent} from \"angular\";\nimport {DeltaCalculatorService} from \"./data.deltaCalculator.service\";\nimport {DataDecoratorService} from \"./data.decorator.service\";\nimport {HierarchyNode} from \"d3-hierarchy\";\nimport {SettingsService} from \"../settings/settings.service\";\n\nexport interface DataModel {\n\n    revisions: CodeMap[],\n    metrics: string[],\n    renderMap: CodeMap\n\n}\n\nexport interface DataServiceSubscriber {\n    onDataChanged(data: DataModel, event: IAngularEvent)\n}\n\n/**\n * This service stores and sets the current revisions, map and metrics\n */\nexport class DataService {\n\n    private _data: DataModel;\n    private _lastReferenceIndex = 0;\n    private _lastComparisonMap = null;\n    private _deltasEnabled = false;\n\n    /* @ngInject */\n    constructor(private $rootScope: IRootScopeService,\n                private deltaCalculatorService: DeltaCalculatorService,\n                private dataDecoratorService: DataDecoratorService) {\n\n        this._data = {\n            revisions: [],\n            metrics: [],\n            renderMap: null\n        };\n\n    }\n\n    get data(): DataModel {\n        return this._data;\n    }\n\n    public subscribe(subscriber: DataServiceSubscriber) {\n        this.$rootScope.$on(\"data-changed\", (event, data) => {\n            subscriber.onDataChanged(data, event);\n        });\n    }\n\n    public notify() {\n        this.$rootScope.$broadcast(\"data-changed\", this._data);\n    }\n\n    /**\n     * Puts a CodeMap into a given revision slot\n     * @param {CodeMap} map A well formed code map\n     * @param {number} revision the maps position in the revisions array\n     */\n    public setMap(map: CodeMap, revision: number) {\n        this._data.revisions[revision] = map;\n        this.dataDecoratorService.decorateMapWithOriginAttribute(this._data.revisions[revision]);\n        this.setReferenceMap(revision);\n    }\n\n    public getReferenceMapName(): string {\n        return this._data.renderMap.fileName;\n    }\n\n    public getComparisonMapName(): string {\n        return this._lastComparisonMap.fileName;\n    }\n\n    /**\n     * Sets metrics from a revision by id.\n     * @param {number} index id\n     */\n    public setMetrics(index: number) {\n        if (this._data.revisions[index] !== null) {\n            let root = d3.hierarchy<CodeMapNode>(this._data.revisions[index].root);\n            let leaves: HierarchyNode<CodeMapNode>[] = root.leaves();\n            let attributeList = leaves.map(function (d: HierarchyNode<CodeMapNode>) {\n                return d.data.attributes ? Object.keys(d.data.attributes) : [];\n            });\n            let attributes: string[] = attributeList.reduce(function (left: string[], right: string[]) {\n                return left.concat(right.filter(function (el: string) {\n                    return left.indexOf(el) === -1;\n                }));\n            });\n            this._data.metrics = attributes;\n        }\n    }\n\n    /**\n     * resets all maps (deletes them)\n     */\n    public resetMaps() {\n        this._data.revisions = [];\n        this._data.metrics = [];\n        this._lastComparisonMap = null;\n        this._data.renderMap = null;\n        this.notify();\n    }\n\n    /**\n     * Selects and sets the first map to compare.  this is the map which is substracted from the main map\n     * @param {number} index the maps index in the revisions array\n     */\n    public setComparisonMap(index: number) { //this allows to reset delta values when switching back from delta view\n        if (this._data.revisions[index] != null) {\n            this._lastComparisonMap = this._data.revisions[index];\n            if (this._deltasEnabled) {\n                this.applyNodeMerging();\n            }\n            this.dataDecoratorService.decorateMapWithUnaryMetric(this._lastComparisonMap);\n            this.dataDecoratorService.decorateMapWithUnaryMetric(this._data.renderMap);\n            this.deltaCalculatorService.decorateMapsWithDeltas(this._lastComparisonMap, this._data.renderMap);\n            this.setMetrics(index);\n            this.setReferenceMap(this._lastReferenceIndex);\n\n            this.notify();\n        }\n    }\n\n    /**\n     * Selects and sets the second map to compare. this is the main visible map\n     * @param {number} index the maps index in the revisions array\n     */\n    public setReferenceMap(index: number) {\n        if (this._data.revisions[index] != null) {\n            this._lastReferenceIndex = index;\n            this._data.renderMap = this._data.revisions[index];\n            if (this._deltasEnabled) {\n                this.applyNodeMerging();\n            }\n            this.dataDecoratorService.decorateMapWithUnaryMetric(this._lastComparisonMap);\n            this.dataDecoratorService.decorateMapWithUnaryMetric(this._data.renderMap);\n            this.deltaCalculatorService.decorateMapsWithDeltas(this._lastComparisonMap, this._data.renderMap);\n            this.setMetrics(index);\n            this.notify();\n        }\n    }\n\n    //TODO \"subscribe with interface\" not possible because angular would produce a circular dependency\n    public onActivateDeltas() {\n        if (!this._deltasEnabled) {\n            this._deltasEnabled = true;\n            this.setComparisonMap(this._lastReferenceIndex);\n            this.setReferenceMap(this._lastReferenceIndex);\n        }\n\n\n    }\n\n    public onDeactivateDeltas() {\n        if (this._deltasEnabled) {\n            this._deltasEnabled = false;\n            this.setComparisonMap(this._lastReferenceIndex);\n            this.setReferenceMap(this._lastReferenceIndex);\n        }\n    }\n\n    public applyNodeMerging() {\n        let result = this.deltaCalculatorService.fillMapsWithNonExistingNodesFromOtherMap(\n            this.deltaCalculatorService.removeCrossOriginNodes(this._data.renderMap),\n            this.deltaCalculatorService.removeCrossOriginNodes(this._lastComparisonMap));\n\n        this.dataDecoratorService.decorateMapWithUnaryMetric(result.leftMap);\n        this.dataDecoratorService.decorateMapWithUnaryMetric(result.rightMap);\n\n        //recalculate deltas on maps\n        this.deltaCalculatorService.decorateMapsWithDeltas(result.leftMap, this._lastComparisonMap);\n\n\n        //we should write back map changes to dataService, no need to call notify and make an infinite loop\n        this._data.renderMap = result.leftMap;\n        this._lastComparisonMap = result.rightMap;\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"8c964a3dd349ca41b671132357478073d132f1d1"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.validator.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/data/data.validator.service.ts","statementMap":{"0":{"start":{"line":18,"column":8},"end":{"line":36,"column":9}},"1":{"start":{"line":19,"column":24},"end":{"line":19,"column":26}},"2":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"3":{"start":{"line":21,"column":16},"end":{"line":21,"column":52}},"4":{"start":{"line":23,"column":12},"end":{"line":32,"column":13}},"5":{"start":{"line":24,"column":16},"end":{"line":24,"column":29}},"6":{"start":{"line":27,"column":28},"end":{"line":27,"column":32}},"7":{"start":{"line":28,"column":16},"end":{"line":30,"column":17}},"8":{"start":{"line":29,"column":20},"end":{"line":29,"column":78}},"9":{"start":{"line":31,"column":16},"end":{"line":31,"column":29}},"10":{"start":{"line":35,"column":12},"end":{"line":35,"column":24}},"11":{"start":{"line":44,"column":8},"end":{"line":61,"column":11}},"12":{"start":{"line":45,"column":22},"end":{"line":45,"column":38}},"13":{"start":{"line":46,"column":26},"end":{"line":46,"column":63}},"14":{"start":{"line":47,"column":24},"end":{"line":47,"column":37}},"15":{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},"16":{"start":{"line":50,"column":16},"end":{"line":53,"column":24}},"17":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"18":{"start":{"line":56,"column":16},"end":{"line":56,"column":26}},"19":{"start":{"line":59,"column":16},"end":{"line":59,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":18},"end":{"line":11,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":28},"end":{"line":37,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":19},"end":{"line":62,"column":5}},"line":43},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":27},"end":{"line":44,"column":28}},"loc":{"start":{"line":44,"column":48},"end":{"line":61,"column":9}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":36,"column":9}},{"start":{"line":18,"column":8},"end":{"line":36,"column":9}}],"line":18},"1":{"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":53}},"type":"binary-expr","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":25}},{"start":{"line":18,"column":29},"end":{"line":18,"column":53}}],"line":18},"2":{"loc":{"start":{"line":23,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":23,"column":12},"end":{"line":32,"column":13}},{"start":{"line":23,"column":12},"end":{"line":32,"column":13}}],"line":23},"3":{"loc":{"start":{"line":29,"column":28},"end":{"line":29,"column":77}},"type":"binary-expr","locations":[{"start":{"line":29,"column":28},"end":{"line":29,"column":33}},{"start":{"line":29,"column":37},"end":{"line":29,"column":77}}],"line":29},"4":{"loc":{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},"type":"if","locations":[{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},{"start":{"line":49,"column":12},"end":{"line":54,"column":13}}],"line":49},"5":{"loc":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},{"start":{"line":55,"column":12},"end":{"line":60,"column":13}}],"line":55}},"s":{"0":20,"1":7,"2":7,"3":14,"4":7,"5":1,"6":6,"7":6,"8":12,"9":6,"10":12,"11":8,"12":8,"13":8,"14":8,"15":8,"16":1,"17":7,"18":3,"19":4},"f":{"0":8,"1":20,"2":8,"3":8},"b":{"0":[7,12],"1":[20,7],"2":[1,6],"3":[12,12],"4":[1,6],"5":[3,4]},"inputSourceMap":{"version":3,"file":"data.validator.service.js","sourceRoot":"","sources":["data.validator.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAGb;;GAEG;AACH,MAAM;IAEF,eAAe;IAEf;;OAEG;IACH;IAEA,CAAC;IAED;;;;OAIG;IACH,iBAAiB,CAAC,IAAiB;QAE/B,EAAE,CAAA,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAE3C,IAAI,KAAK,GAAG,EAAE,CAAC;YAEf,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBACtC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YACxC,CAAC;YAED,EAAE,CAAA,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA,CAAC;gBACnD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,KAAK,GAAG,IAAI,CAAC;gBACjB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;oBACtC,KAAK,GAAG,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9D,CAAC;gBACD,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;QAGL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IAEL,CAAC;IAED;;;;OAIG;IACH,QAAQ,CAAC,IAAI;QAET,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAE/B,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC;YAC3B,IAAI,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;YACpD,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;YAE1B,sCAAsC;YACtC,EAAE,CAAA,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA,CAAC;gBACvC,MAAM,CAAC,CAAC;wBACJ,SAAS,EAAC,6BAA6B;wBACvC,UAAU,EAAE,YAAY;qBAC3B,CAAC,CAAC,CAAC;YACR,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACR,OAAO,EAAE,CAAC;YACd,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC3B,CAAC;QAGT,CAAC,CAAC,CAAC;IAEP,CAAC;CAEJ","sourcesContent":["\"use strict\";\nimport {CodeMapNode} from \"./model/CodeMap\";\n\n/**\n * This service validates the given data against the schema and other validation steps\n */\nexport class DataValidatorService {\n\n    /* @ngInject */\n\n    /**\n     * @constructor\n     */\n    constructor() {\n\n    }\n\n    /**\n     * Checks if a nodes children are unique in name\n     * @param {Object} node\n     * @returns {boolean} true if the node has unique children\n     */\n    hasUniqueChildren(node: CodeMapNode) {\n\n        if(node.children && node.children.length > 0) {\n\n            var names = {};\n\n            for(var i=0; i<node.children.length; i++){\n                names[node.children[i].name] = true;\n            }\n\n            if(Object.keys(names).length !== node.children.length){\n                return false;\n            } else {\n                var valid = true;\n                for(var j=0; j<node.children.length; j++){\n                    valid = valid && this.hasUniqueChildren(node.children[j]);\n                }\n                return valid;\n            }\n\n\n        } else {\n            return true;\n        }\n\n    }\n\n    /**\n     * validates the given file data against the schema file and checks for unique names in a parents direct children.\n     * @param {Object} well formed fileContent (schema.json)\n     * @returns {Promise} which resolves when the filecontent is valid, rejects with errors otherwise\n     */\n    validate(data): Promise<void> {\n\n        return new Promise((resolve, reject) => {\n\n                var ajv = require(\"ajv\")();\n                var compare = ajv.compile(require(\"./schema.json\"));\n                var valid = compare(data);\n\n                // TODO data.nodes[0] must be the root\n                if(!this.hasUniqueChildren(data.nodes[0])){\n                    reject([{\n                        \"message\":\"names or ids are not unique\",\n                        \"dataPath\": \"uniqueness\"\n                    }]);\n                }\n\n                if (valid) {\n                    resolve();\n                } else {\n                    reject(compare.errors);\n                }\n\n\n        });\n\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"055aa4bd71c037df46f5b7a81189b734a6abb982"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/scenario/scenario.data.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/scenario/scenario.data.ts","statementMap":{"0":{"start":{"line":3,"column":4},"end":{"line":27,"column":6}}},"fnMap":{"0":{"name":"createDefaultScenario","decl":{"start":{"line":2,"column":16},"end":{"line":2,"column":37}},"loc":{"start":{"line":2,"column":43},"end":{"line":28,"column":1}},"line":2}},"branchMap":{},"s":{"0":3},"f":{"0":3},"b":{},"inputSourceMap":{"version":3,"file":"scenario.data.js","sourceRoot":"","sources":["scenario.data.ts"],"names":[],"mappings":"AAEA,OAAO,EAAC,aAAa,EAAC,MAAM,gCAAgC,CAAC;AAE7D,MAAM,gCAAgC,GAAY;IAE9C,MAAM,CAAC;QACH,IAAI,EAAE,qBAAqB;QAC3B,QAAQ,EAAE;YACN,GAAG,EAAE,GAAG;YACR,iBAAiB,EAAE;gBACf,IAAI,EAAE,EAAE;gBACR,EAAE,EAAE,EAAE;gBACN,OAAO,EAAE,KAAK;aACjB;YACD,UAAU,EAAE,MAAM;YAClB,YAAY,EAAE,KAAK;YACnB,WAAW,EAAE,KAAK;YAClB,MAAM,EAAE,KAAK;YACb,iBAAiB,EAAE,CAAC;YACpB,OAAO,EAAE;gBACL,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;aACnB;YACD,MAAM,EAAE;gBACJ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI;aACxB;YACD,MAAM,EAAE,CAAC;YACT,SAAS,EAAE,aAAa,CAAC,OAAO;YAChC,iBAAiB,EAAE,KAAK;SAC3B;KACJ,CAAC;AAEN,CAAC;AAAA,CAAC","sourcesContent":["import {Scenario} from \"./scenario.service\";\nimport {CodeMap} from \"../data/model/CodeMap\";\nimport {STATISTIC_OPS} from \"../statistic/statistic.service\";\n\nexport function createDefaultScenario(map: CodeMap): Scenario {\n\n    return {\n        name: \"rloc/mcc/mcc(20,40)\",\n        settings: {\n            map: map,\n            neutralColorRange: {\n                from: 20,\n                to: 40,\n                flipped: false\n            },\n            areaMetric: \"rloc\",\n            heightMetric: \"mcc\",\n            colorMetric: \"mcc\",\n            deltas: false,\n            amountOfTopLabels: 1,\n            scaling: {\n                x: 1, y: 1, z: 1\n            },\n            camera: {\n                x: 0, y: 300, z: 1000\n            },\n            margin: 1,\n            operation: STATISTIC_OPS.NOTHING,\n            deltaColorFlipped: false\n        }\n    };\n\n};"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"bfa17a303c67ecb49ab4afa8be9003e55703d3ce"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/scenario/scenario.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/scenario/scenario.module.ts","statementMap":{"0":{"start":{"line":6,"column":0},"end":{"line":6,"column":109}},"1":{"start":{"line":7,"column":0},"end":{"line":7,"column":91}}},"fnMap":{},"branchMap":{},"s":{"0":2,"1":2},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"scenario.module.js","sourceRoot":"","sources":["scenario.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,6BAA6B,CAAC;AACrC,OAAO,qBAAqB,CAAC;AAE7B,OAAO,EAAC,eAAe,EAAC,MAAM,oBAAoB,CAAC;AAEnD,OAAO,CAAC,MAAM,CACV,8BAA8B,EAC9B,CAAC,8BAA8B,EAAE,0BAA0B,CAAC,CAC/D,CAAC;AAEF,OAAO,CAAC,MAAM,CAAC,8BAA8B,CAAC,CAAC,OAAO,CAClD,iBAAiB,EAAE,eAAe,CACrC,CAAC","sourcesContent":["\"use strict\";\n\nimport angular from \"angular\";\n\nimport \"../settings/settings.module\";\nimport \"../data/data.module\";\n\nimport {ScenarioService} from \"./scenario.service\";\n\nangular.module(\n    \"app.codeCharta.core.scenario\",\n    [\"app.codeCharta.core.settings\", \"app.codeCharta.core.data\"]\n);\n\nangular.module(\"app.codeCharta.core.scenario\").service(\n    \"scenarioService\", ScenarioService\n);\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"3a0fdf0e8d40b9b3f83964b199cc777d05f7f8aa"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/scenario/scenario.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/scenario/scenario.service.ts","statementMap":{"0":{"start":{"line":9,"column":8},"end":{"line":9,"column":47}},"1":{"start":{"line":16,"column":8},"end":{"line":16,"column":62}},"2":{"start":{"line":23,"column":8},"end":{"line":23,"column":43}},"3":{"start":{"line":30,"column":8},"end":{"line":30,"column":72}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":33},"end":{"line":10,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":28},"end":{"line":17,"column":5}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":19},"end":{"line":24,"column":5}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":25},"end":{"line":31,"column":5}},"line":29}},"branchMap":{},"s":{"0":2,"1":1,"2":0,"3":1},"f":{"0":2,"1":1,"2":0,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"scenario.service.js","sourceRoot":"","sources":["scenario.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,EAAC,qBAAqB,EAAC,MAAM,iBAAiB,CAAC;AAOtD;;GAEG;AACH,MAAM;IAEF,cAAc;IACd,YAAoB,eAAe;QAAf,oBAAe,GAAf,eAAe,CAAA;IAAG,CAAC;IAEvC;;;OAGG;IACI,aAAa,CAAC,QAAkB;QACnC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC1D,CAAC;IAED;;;OAGG;IACI,YAAY;QACf,MAAM,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;IACvC,CAAC;IAED;;;OAGG;IACI,kBAAkB;QACrB,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IACpE,CAAC;CAEJ","sourcesContent":["\"use strict\";\nimport {Settings} from \"../settings/settings.service\";\nimport {createDefaultScenario} from \"./scenario.data\";\n\nexport interface Scenario {\n    name: string,\n    settings: Settings\n}\n\n/**\n * Applies and manages scenarios.\n */\nexport class ScenarioService {\n\n    /* ngInject */\n    constructor(private settingsService) {}\n\n    /**\n     * Applies a given scenario to the current codecharta session.\n     * @param {Scenario} scenario\n     */\n    public applyScenario(scenario: Scenario) {\n        this.settingsService.applySettings(scenario.settings);\n    }\n\n    /**\n     * Returns an array of all scenarios.\n     * @returns {Scenario[]} all scenarios\n     */\n    public getScenarios(): Scenario[] {\n        return [this.getDefaultScenario()];\n    }\n\n    /**\n     * Returns the default scenario.\n     * @returns {Scenario} the scenario\n     */\n    public getDefaultScenario(): Scenario {\n        return createDefaultScenario(this.settingsService.settings.map);\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1b33428c86d783c5d9844a4c9629db7a14dab621"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/settings/settings.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/settings/settings.module.ts","statementMap":{"0":{"start":{"line":7,"column":0},"end":{"line":13,"column":56}}},"fnMap":{},"branchMap":{},"s":{"0":7},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"settings.module.js","sourceRoot":"","sources":["settings.module.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,mBAAmB,CAAC;AAC3B,OAAO,qBAAqB,CAAC;AAC7B,OAAO,+BAA+B,CAAC;AACvC,OAAO,uCAAuC,CAAC;AAE/C,OAAO,EAAC,eAAe,EAAC,MAAM,oBAAoB,CAAC;AAEnD,OAAO,CAAC,MAAM,CACV,8BAA8B,EAC9B;IACI,yBAAyB;IACzB,0BAA0B;IAC1B,oCAAoC;IACpC,+BAA+B;CAClC,CACJ;KACI,OAAO,CACJ,eAAe,CAAC,QAAQ,EAAE,eAAe,CAC5C,CAAC","sourcesContent":["import angular from \"angular\";\n\nimport \"../url/url.module\";\nimport \"../data/data.module\";\nimport \"../statistic/statistic.module\";\nimport \"../../codeMap/threeViewer/threeViewer\";\n\nimport {SettingsService} from \"./settings.service\";\n\nangular.module(\n    \"app.codeCharta.core.settings\",\n    [\n        \"app.codeCharta.core.url\",\n        \"app.codeCharta.core.data\",\n        \"app.codeCharta.codeMap.threeViewer\",\n        \"app.codeCharta.core.statistic\"\n    ]\n)\n    .service(\n        SettingsService.SELECTOR, SettingsService\n    );\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"a3e3ca06fb6ee0a8f19bf356b9d63e3d8fa8627a"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/settings/settings.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/settings/settings.service.ts","statementMap":{"0":{"start":{"line":5,"column":8},"end":{"line":5,"column":37}},"1":{"start":{"line":6,"column":8},"end":{"line":6,"column":39}},"2":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"3":{"start":{"line":8,"column":8},"end":{"line":8,"column":67}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":55}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":61}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":57}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":37}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":103}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":36}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":50}},"11":{"start":{"line":18,"column":8},"end":{"line":20,"column":11}},"12":{"start":{"line":19,"column":12},"end":{"line":19,"column":54}},"13":{"start":{"line":23,"column":16},"end":{"line":27,"column":9}},"14":{"start":{"line":28,"column":16},"end":{"line":30,"column":9}},"15":{"start":{"line":31,"column":16},"end":{"line":33,"column":9}},"16":{"start":{"line":34,"column":8},"end":{"line":34,"column":37}},"17":{"start":{"line":35,"column":8},"end":{"line":48,"column":10}},"18":{"start":{"line":51,"column":8},"end":{"line":51,"column":44}},"19":{"start":{"line":54,"column":8},"end":{"line":54,"column":46}},"20":{"start":{"line":63,"column":8},"end":{"line":63,"column":44}},"21":{"start":{"line":64,"column":8},"end":{"line":67,"column":9}},"22":{"start":{"line":66,"column":12},"end":{"line":66,"column":82}},"23":{"start":{"line":68,"column":8},"end":{"line":71,"column":9}},"24":{"start":{"line":70,"column":12},"end":{"line":70,"column":84}},"25":{"start":{"line":72,"column":8},"end":{"line":75,"column":9}},"26":{"start":{"line":74,"column":12},"end":{"line":74,"column":83}},"27":{"start":{"line":76,"column":8},"end":{"line":76,"column":33}},"28":{"start":{"line":79,"column":8},"end":{"line":88,"column":9}},"29":{"start":{"line":82,"column":12},"end":{"line":82,"column":56}},"30":{"start":{"line":83,"column":12},"end":{"line":83,"column":56}},"31":{"start":{"line":84,"column":12},"end":{"line":84,"column":56}},"32":{"start":{"line":95,"column":8},"end":{"line":102,"column":9}},"33":{"start":{"line":96,"column":12},"end":{"line":96,"column":41}},"34":{"start":{"line":97,"column":12},"end":{"line":97,"column":38}},"35":{"start":{"line":99,"column":13},"end":{"line":102,"column":9}},"36":{"start":{"line":100,"column":12},"end":{"line":100,"column":40}},"37":{"start":{"line":101,"column":12},"end":{"line":101,"column":36}},"38":{"start":{"line":103,"column":8},"end":{"line":103,"column":71}},"39":{"start":{"line":111,"column":18},"end":{"line":111,"column":22}},"40":{"start":{"line":112,"column":32},"end":{"line":143,"column":9}},"41":{"start":{"line":113,"column":12},"end":{"line":142,"column":13}},"42":{"start":{"line":114,"column":16},"end":{"line":141,"column":17}},"43":{"start":{"line":115,"column":20},"end":{"line":120,"column":21}},"44":{"start":{"line":119,"column":24},"end":{"line":119,"column":59}},"45":{"start":{"line":121,"column":32},"end":{"line":121,"column":67}},"46":{"start":{"line":122,"column":20},"end":{"line":140,"column":21}},"47":{"start":{"line":123,"column":24},"end":{"line":138,"column":25}},"48":{"start":{"line":124,"column":28},"end":{"line":124,"column":42}},"49":{"start":{"line":126,"column":29},"end":{"line":138,"column":25}},"50":{"start":{"line":127,"column":28},"end":{"line":127,"column":43}},"51":{"start":{"line":129,"column":29},"end":{"line":138,"column":25}},"52":{"start":{"line":130,"column":38},"end":{"line":130,"column":53}},"53":{"start":{"line":131,"column":28},"end":{"line":133,"column":29}},"54":{"start":{"line":132,"column":32},"end":{"line":132,"column":42}},"55":{"start":{"line":134,"column":28},"end":{"line":134,"column":41}},"56":{"start":{"line":137,"column":28},"end":{"line":137,"column":41}},"57":{"start":{"line":144,"column":8},"end":{"line":144,"column":46}},"58":{"start":{"line":145,"column":8},"end":{"line":145,"column":33}},"59":{"start":{"line":151,"column":21},"end":{"line":151,"column":23}},"60":{"start":{"line":152,"column":32},"end":{"line":169,"column":9}},"61":{"start":{"line":153,"column":12},"end":{"line":168,"column":13}},"62":{"start":{"line":154,"column":16},"end":{"line":167,"column":17}},"63":{"start":{"line":155,"column":20},"end":{"line":160,"column":21}},"64":{"start":{"line":159,"column":24},"end":{"line":159,"column":59}},"65":{"start":{"line":161,"column":20},"end":{"line":166,"column":21}},"66":{"start":{"line":165,"column":24},"end":{"line":165,"column":66}},"67":{"start":{"line":170,"column":8},"end":{"line":170,"column":46}},"68":{"start":{"line":171,"column":8},"end":{"line":171,"column":41}},"69":{"start":{"line":178,"column":8},"end":{"line":178,"column":76}},"70":{"start":{"line":179,"column":8},"end":{"line":179,"column":80}},"71":{"start":{"line":180,"column":8},"end":{"line":180,"column":86}},"72":{"start":{"line":181,"column":8},"end":{"line":181,"column":52}},"73":{"start":{"line":182,"column":8},"end":{"line":182,"column":52}},"74":{"start":{"line":183,"column":8},"end":{"line":183,"column":52}},"75":{"start":{"line":184,"column":8},"end":{"line":184,"column":54}},"76":{"start":{"line":185,"column":8},"end":{"line":185,"column":54}},"77":{"start":{"line":186,"column":8},"end":{"line":186,"column":54}},"78":{"start":{"line":187,"column":8},"end":{"line":187,"column":61}},"79":{"start":{"line":188,"column":8},"end":{"line":188,"column":63}},"80":{"start":{"line":189,"column":8},"end":{"line":189,"column":65}},"81":{"start":{"line":190,"column":8},"end":{"line":190,"column":70}},"82":{"start":{"line":191,"column":8},"end":{"line":191,"column":48}},"83":{"start":{"line":192,"column":8},"end":{"line":192,"column":48}},"84":{"start":{"line":193,"column":8},"end":{"line":193,"column":54}},"85":{"start":{"line":194,"column":8},"end":{"line":194,"column":75}},"86":{"start":{"line":196,"column":8},"end":{"line":196,"column":47}},"87":{"start":{"line":197,"column":8},"end":{"line":197,"column":33}},"88":{"start":{"line":201,"column":8},"end":{"line":201,"column":30}},"89":{"start":{"line":210,"column":8},"end":{"line":210,"column":57}},"90":{"start":{"line":217,"column":23},"end":{"line":217,"column":31}},"91":{"start":{"line":218,"column":8},"end":{"line":218,"column":40}},"92":{"start":{"line":219,"column":8},"end":{"line":219,"column":164}},"93":{"start":{"line":220,"column":8},"end":{"line":220,"column":168}},"94":{"start":{"line":221,"column":8},"end":{"line":221,"column":166}},"95":{"start":{"line":222,"column":8},"end":{"line":222,"column":22}},"96":{"start":{"line":231,"column":21},"end":{"line":231,"column":33}},"97":{"start":{"line":232,"column":8},"end":{"line":236,"column":11}},"98":{"start":{"line":233,"column":12},"end":{"line":235,"column":13}},"99":{"start":{"line":234,"column":16},"end":{"line":234,"column":32}},"100":{"start":{"line":237,"column":8},"end":{"line":237,"column":22}},"101":{"start":{"line":240,"column":0},"end":{"line":240,"column":45}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":147},"end":{"line":16,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":26},"end":{"line":21,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":48},"end":{"line":18,"column":49}},"loc":{"start":{"line":18,"column":65},"end":{"line":20,"column":9}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":43},"end":{"line":49,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":23},"end":{"line":52,"column":5}},"line":50},"5":{"name":"(anonymous_5)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":25},"end":{"line":55,"column":5}},"line":53},"6":{"name":"(anonymous_6)","decl":{"start":{"line":62,"column":4},"end":{"line":62,"column":5}},"loc":{"start":{"line":62,"column":24},"end":{"line":77,"column":5}},"line":62},"7":{"name":"(anonymous_7)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":28},"end":{"line":89,"column":5}},"line":78},"8":{"name":"(anonymous_8)","decl":{"start":{"line":94,"column":4},"end":{"line":94,"column":5}},"loc":{"start":{"line":94,"column":24},"end":{"line":104,"column":5}},"line":94},"9":{"name":"(anonymous_9)","decl":{"start":{"line":110,"column":4},"end":{"line":110,"column":5}},"loc":{"start":{"line":110,"column":28},"end":{"line":146,"column":5}},"line":110},"10":{"name":"(anonymous_10)","decl":{"start":{"line":112,"column":32},"end":{"line":112,"column":33}},"loc":{"start":{"line":112,"column":55},"end":{"line":143,"column":9}},"line":112},"11":{"name":"(anonymous_11)","decl":{"start":{"line":150,"column":4},"end":{"line":150,"column":5}},"loc":{"start":{"line":150,"column":26},"end":{"line":172,"column":5}},"line":150},"12":{"name":"(anonymous_12)","decl":{"start":{"line":152,"column":32},"end":{"line":152,"column":33}},"loc":{"start":{"line":152,"column":55},"end":{"line":169,"column":9}},"line":152},"13":{"name":"(anonymous_13)","decl":{"start":{"line":177,"column":4},"end":{"line":177,"column":5}},"loc":{"start":{"line":177,"column":45},"end":{"line":198,"column":5}},"line":177},"14":{"name":"(anonymous_14)","decl":{"start":{"line":200,"column":4},"end":{"line":200,"column":5}},"loc":{"start":{"line":200,"column":19},"end":{"line":202,"column":5}},"line":200},"15":{"name":"(anonymous_15)","decl":{"start":{"line":209,"column":4},"end":{"line":209,"column":5}},"loc":{"start":{"line":209,"column":37},"end":{"line":211,"column":5}},"line":209},"16":{"name":"(anonymous_16)","decl":{"start":{"line":216,"column":4},"end":{"line":216,"column":5}},"loc":{"start":{"line":216,"column":30},"end":{"line":223,"column":5}},"line":216},"17":{"name":"(anonymous_17)","decl":{"start":{"line":230,"column":4},"end":{"line":230,"column":5}},"loc":{"start":{"line":230,"column":63},"end":{"line":238,"column":5}},"line":230},"18":{"name":"(anonymous_18)","decl":{"start":{"line":232,"column":29},"end":{"line":232,"column":30}},"loc":{"start":{"line":232,"column":41},"end":{"line":236,"column":9}},"line":232}},"branchMap":{"0":{"loc":{"start":{"line":64,"column":8},"end":{"line":67,"column":9}},"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":67,"column":9}},{"start":{"line":64,"column":8},"end":{"line":67,"column":9}}],"line":64},"1":{"loc":{"start":{"line":68,"column":8},"end":{"line":71,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":71,"column":9}},{"start":{"line":68,"column":8},"end":{"line":71,"column":9}}],"line":68},"2":{"loc":{"start":{"line":72,"column":8},"end":{"line":75,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":75,"column":9}},{"start":{"line":72,"column":8},"end":{"line":75,"column":9}}],"line":72},"3":{"loc":{"start":{"line":79,"column":8},"end":{"line":88,"column":9}},"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":88,"column":9}},{"start":{"line":79,"column":8},"end":{"line":88,"column":9}}],"line":79},"4":{"loc":{"start":{"line":79,"column":12},"end":{"line":81,"column":57}},"type":"binary-expr","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":57}},{"start":{"line":80,"column":12},"end":{"line":80,"column":57}},{"start":{"line":81,"column":12},"end":{"line":81,"column":57}}],"line":79},"5":{"loc":{"start":{"line":95,"column":8},"end":{"line":102,"column":9}},"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":102,"column":9}},{"start":{"line":95,"column":8},"end":{"line":102,"column":9}}],"line":95},"6":{"loc":{"start":{"line":95,"column":12},"end":{"line":95,"column":58}},"type":"binary-expr","locations":[{"start":{"line":95,"column":12},"end":{"line":95,"column":32}},{"start":{"line":95,"column":36},"end":{"line":95,"column":58}}],"line":95},"7":{"loc":{"start":{"line":99,"column":13},"end":{"line":102,"column":9}},"type":"if","locations":[{"start":{"line":99,"column":13},"end":{"line":102,"column":9}},{"start":{"line":99,"column":13},"end":{"line":102,"column":9}}],"line":99},"8":{"loc":{"start":{"line":99,"column":17},"end":{"line":99,"column":63}},"type":"binary-expr","locations":[{"start":{"line":99,"column":17},"end":{"line":99,"column":38}},{"start":{"line":99,"column":42},"end":{"line":99,"column":63}}],"line":99},"9":{"loc":{"start":{"line":114,"column":16},"end":{"line":141,"column":17}},"type":"if","locations":[{"start":{"line":114,"column":16},"end":{"line":141,"column":17}},{"start":{"line":114,"column":16},"end":{"line":141,"column":17}}],"line":114},"10":{"loc":{"start":{"line":114,"column":20},"end":{"line":114,"column":61}},"type":"binary-expr","locations":[{"start":{"line":114,"column":20},"end":{"line":114,"column":41}},{"start":{"line":114,"column":45},"end":{"line":114,"column":56}},{"start":{"line":114,"column":60},"end":{"line":114,"column":61}}],"line":114},"11":{"loc":{"start":{"line":115,"column":20},"end":{"line":120,"column":21}},"type":"if","locations":[{"start":{"line":115,"column":20},"end":{"line":120,"column":21}},{"start":{"line":115,"column":20},"end":{"line":120,"column":21}}],"line":115},"12":{"loc":{"start":{"line":115,"column":24},"end":{"line":115,"column":78}},"type":"binary-expr","locations":[{"start":{"line":115,"column":24},"end":{"line":115,"column":50}},{"start":{"line":115,"column":54},"end":{"line":115,"column":78}}],"line":115},"13":{"loc":{"start":{"line":122,"column":20},"end":{"line":140,"column":21}},"type":"if","locations":[{"start":{"line":122,"column":20},"end":{"line":140,"column":21}},{"start":{"line":122,"column":20},"end":{"line":140,"column":21}}],"line":122},"14":{"loc":{"start":{"line":123,"column":24},"end":{"line":138,"column":25}},"type":"if","locations":[{"start":{"line":123,"column":24},"end":{"line":138,"column":25}},{"start":{"line":123,"column":24},"end":{"line":138,"column":25}}],"line":123},"15":{"loc":{"start":{"line":126,"column":29},"end":{"line":138,"column":25}},"type":"if","locations":[{"start":{"line":126,"column":29},"end":{"line":138,"column":25}},{"start":{"line":126,"column":29},"end":{"line":138,"column":25}}],"line":126},"16":{"loc":{"start":{"line":129,"column":29},"end":{"line":138,"column":25}},"type":"if","locations":[{"start":{"line":129,"column":29},"end":{"line":138,"column":25}},{"start":{"line":129,"column":29},"end":{"line":138,"column":25}}],"line":129},"17":{"loc":{"start":{"line":129,"column":33},"end":{"line":129,"column":49}},"type":"binary-expr","locations":[{"start":{"line":129,"column":33},"end":{"line":129,"column":42}},{"start":{"line":129,"column":46},"end":{"line":129,"column":49}}],"line":129},"18":{"loc":{"start":{"line":131,"column":28},"end":{"line":133,"column":29}},"type":"if","locations":[{"start":{"line":131,"column":28},"end":{"line":133,"column":29}},{"start":{"line":131,"column":28},"end":{"line":133,"column":29}}],"line":131},"19":{"loc":{"start":{"line":154,"column":16},"end":{"line":167,"column":17}},"type":"if","locations":[{"start":{"line":154,"column":16},"end":{"line":167,"column":17}},{"start":{"line":154,"column":16},"end":{"line":167,"column":17}}],"line":154},"20":{"loc":{"start":{"line":154,"column":20},"end":{"line":154,"column":61}},"type":"binary-expr","locations":[{"start":{"line":154,"column":20},"end":{"line":154,"column":41}},{"start":{"line":154,"column":45},"end":{"line":154,"column":56}},{"start":{"line":154,"column":60},"end":{"line":154,"column":61}}],"line":154},"21":{"loc":{"start":{"line":155,"column":20},"end":{"line":160,"column":21}},"type":"if","locations":[{"start":{"line":155,"column":20},"end":{"line":160,"column":21}},{"start":{"line":155,"column":20},"end":{"line":160,"column":21}}],"line":155},"22":{"loc":{"start":{"line":155,"column":24},"end":{"line":155,"column":78}},"type":"binary-expr","locations":[{"start":{"line":155,"column":24},"end":{"line":155,"column":50}},{"start":{"line":155,"column":54},"end":{"line":155,"column":78}}],"line":155},"23":{"loc":{"start":{"line":161,"column":20},"end":{"line":166,"column":21}},"type":"if","locations":[{"start":{"line":161,"column":20},"end":{"line":166,"column":21}},{"start":{"line":161,"column":20},"end":{"line":166,"column":21}}],"line":161},"24":{"loc":{"start":{"line":161,"column":24},"end":{"line":161,"column":78}},"type":"binary-expr","locations":[{"start":{"line":161,"column":24},"end":{"line":161,"column":50}},{"start":{"line":161,"column":54},"end":{"line":161,"column":78}}],"line":161},"25":{"loc":{"start":{"line":177,"column":18},"end":{"line":177,"column":43}},"type":"default-arg","locations":[{"start":{"line":177,"column":29},"end":{"line":177,"column":43}}],"line":177},"26":{"loc":{"start":{"line":233,"column":12},"end":{"line":235,"column":13}},"type":"if","locations":[{"start":{"line":233,"column":12},"end":{"line":235,"column":13}},{"start":{"line":233,"column":12},"end":{"line":235,"column":13}}],"line":233}},"s":{"0":7,"1":7,"2":7,"3":7,"4":7,"5":7,"6":7,"7":7,"8":7,"9":7,"10":7,"11":5,"12":0,"13":7,"14":7,"15":7,"16":7,"17":7,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":1,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":8,"89":21,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":7},"f":{"0":7,"1":5,"2":0,"3":7,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":8,"15":21,"16":0,"17":0,"18":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,1],"6":[1,0],"7":[0,1],"8":[1,1],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0],"26":[0,0]},"inputSourceMap":{"version":3,"file":"settings.service.js","sourceRoot":"","sources":["settings.service.ts"],"names":[],"mappings":"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","sourcesContent":["import {Range} from \"../../model/Range\";\nimport {Scale} from \"../../model/Scale\";\nimport {DataService, DataServiceSubscriber, DataModel} from \"../data/data.service\";\nimport {\n    CameraChangeSubscriber,\n    ThreeOrbitControlsService\n} from \"../../codeMap/threeViewer/threeOrbitControlsService\";\nimport {PerspectiveCamera} from \"three\";\nimport {STATISTIC_OPS} from \"../statistic/statistic.service\";\nimport {DeltaCalculatorService} from \"../data/data.deltaCalculator.service\";\nimport * as d3 from \"d3\";\nimport {DataDecoratorService} from \"../data/data.decorator.service\";\n\nexport interface Settings {\n\n    map: any,\n    neutralColorRange: Range,\n    areaMetric: string,\n    heightMetric: string,\n    colorMetric: string,\n    deltas: boolean,\n    amountOfTopLabels: number,\n    scaling: Scale,\n    camera: Scale,\n    margin: number,\n    operation: STATISTIC_OPS,\n    deltaColorFlipped: boolean\n\n}\n\nexport interface SettingsServiceSubscriber {\n    onSettingsChanged(settings: Settings, event: Event)\n}\n\nexport class SettingsService implements DataServiceSubscriber, CameraChangeSubscriber {\n\n    public static SELECTOR = \"settingsService\";\n\n    private _settings: Settings;\n\n    private _lastDeltaState = false;\n\n    /* ngInject */\n    constructor(private urlService, private dataService: DataService, private $rootScope,\n                private threeOrbitControlsService: ThreeOrbitControlsService, private statisticMapService, private deltaCalculatorService: DeltaCalculatorService,\n                private dataDecoratorService: DataDecoratorService) {\n\n        this._settings = this.getInitialSettings(dataService.data.renderMap, dataService.data.metrics);\n\n        dataService.subscribe(this);\n        threeOrbitControlsService.subscribe(this);\n\n    }\n\n    public subscribe(subscriber: SettingsServiceSubscriber) {\n        this.$rootScope.$on(\"settings-changed\", (event, data) => {\n            subscriber.onSettingsChanged(data, event);\n        });\n    }\n\n    private getInitialSettings(renderMap: any, metrics: string[]): Settings {\n\n        let r: Range = {\n            from: 10,\n            to: 20,\n            flipped: false\n        };\n\n        let s: Scale = {\n            x: 1, y: 1, z: 1\n        };\n\n        let c: Scale = {\n            x: 0, y: 300, z: 1000\n        };\n\n        this._lastDeltaState = false;\n\n        return {\n            map: renderMap,\n            neutralColorRange: r,\n            areaMetric: this.getMetricByIdOrLast(0, metrics),\n            heightMetric: this.getMetricByIdOrLast(1, metrics),\n            colorMetric: this.getMetricByIdOrLast(2, metrics),\n            deltas: false,\n            amountOfTopLabels: 1,\n            scaling: s,\n            camera: c,\n            margin: 1,\n            operation: STATISTIC_OPS.NOTHING,\n            deltaColorFlipped: false\n        };\n\n    }\n\n    private onActivateDeltas() {\n        this.dataService.onActivateDeltas();\n    }\n\n    private onDeactivateDeltas() {\n        this.dataService.onDeactivateDeltas();\n    }\n\n    /**\n     * change the map and metric settings according to the parameter.\n     * @listens {data-changed} called on data-changed\n     * @emits {settings-changed} transitively on call\n     * @param {DataModel} data\n     */\n    public onDataChanged(data: DataModel) {\n\n        this._settings.map = data.renderMap; // reference map is always the map which should be drawn\n\n        if (data.metrics.indexOf(this._settings.areaMetric) === -1) {\n            //area metric is not set or not in the new metrics and needs to be chosen\n            this._settings.areaMetric = this.getMetricByIdOrLast(0, data.metrics);\n        }\n\n        if (data.metrics.indexOf(this._settings.heightMetric) === -1) {\n            //height metric is not set or not in the new metrics and needs to be chosen\n            this._settings.heightMetric = this.getMetricByIdOrLast(1, data.metrics);\n        }\n\n        if (data.metrics.indexOf(this._settings.colorMetric) === -1) {\n            //color metric is not set or not in the new metrics and needs to be chosen\n            this._settings.colorMetric = this.getMetricByIdOrLast(2, data.metrics);\n        }\n\n        this.onSettingsChanged();\n\n    }\n\n    onCameraChanged(camera: PerspectiveCamera) {\n        if (\n            this._settings.camera.x !== camera.position.x ||\n            this._settings.camera.y !== camera.position.y ||\n            this._settings.camera.z !== camera.position.z\n        ) {\n            this._settings.camera.x = camera.position.x;\n            this._settings.camera.y = camera.position.y;\n            this._settings.camera.z = camera.position.z;\n            // There is no component in CC which needs live updates when camera changes. Broadcasting an\n            // onSettingsChanged Event would cause big performance issues\n            // this.onSettingsChanged();\n        }\n    }\n\n    /**\n     * Broadcasts a settings-changed event with the new {Settings} object as a payload\n     * @emits {settings-changed} on call\n     */\n    private onSettingsChanged() {\n\n        if (this._lastDeltaState && !this._settings.deltas) {\n            this._lastDeltaState = false;\n            this.onDeactivateDeltas();\n        } else\n\n        if (!this._lastDeltaState && this._settings.deltas) {\n            this._lastDeltaState = true;\n            this.onActivateDeltas();\n        }\n\n        this.$rootScope.$broadcast(\"settings-changed\", this._settings);\n    }\n\n    /**\n     * TODO this method can be propably implemented much better\n     * updates the settings object according to url parameters. url parameters are named like the accessors of the Settings object. E.g. scale.x or areaMetric\n     * @emits {settings-changed} transitively on call\n     */\n    public updateSettingsFromUrl() {\n\n        let ctx = this;\n\n        var iterateProperties = function (obj, prefix) {\n            for (var i in obj) {\n                if (obj.hasOwnProperty(i) && i !== \"map\" && i) {\n\n                    if (typeof obj[i] === \"string\" || obj[i] instanceof String) {\n                        //do not iterate over strings\n                    } else {\n                        iterateProperties(obj[i], i + \".\");\n                    }\n\n                    const res = ctx.urlService.getParam(prefix + i);\n\n                    if (res) {\n\n                        if (res == \"true\") {\n                            obj[i] = true;\n                        } else if (res == \"false\") {\n                            obj[i] = false;\n                        } else if (res === 0 || res) {\n\n                            let val = parseFloat(res);\n\n                            if (isNaN(val)) {\n                                val = res;\n                            }\n\n                            obj[i] = val;\n                        } else {\n                            obj[i] = res;\n                        }\n\n                        // if we work with strings here it can cause errors in other parts of the app, check with console.log(typeof obj[i], obj[i]);\n                    }\n\n                }\n            }\n        };\n\n        iterateProperties(this._settings, \"\");\n\n\n        this.onSettingsChanged();\n\n    }\n\n    /**\n     * Updates query params to current settings\n     */\n    public getQueryParamString() {\n\n        let result = \"\";\n\n        var iterateProperties = function (obj, prefix) {\n            for (var i in obj) {\n                if (obj.hasOwnProperty(i) && i !== \"map\" && i) {\n\n                    if (typeof obj[i] === \"string\" || obj[i] instanceof String) {\n                        //do not iterate over strings\n                    } else {\n                        iterateProperties(obj[i], i + \".\");\n                    }\n\n                    if (typeof obj[i] === \"object\" || obj[i] instanceof Object) {\n                        //do not print objects in string\n                    } else {\n                        result += \"&\" + prefix + i + \"=\" + obj[i];\n                    }\n\n                }\n\n            }\n\n        };\n\n        iterateProperties(this._settings, \"\");\n\n        return \"?\" + result.substring(1);\n\n    }\n\n    /**\n     * Applies given settings. ignores map. this ensures to copy settings object and prevent side effects\n     * @param {Settings} settings\n     */\n    public applySettings(settings: Settings = this._settings) {\n\n        this._settings.neutralColorRange.to = settings.neutralColorRange.to;\n        this._settings.neutralColorRange.from = settings.neutralColorRange.from;\n        this._settings.neutralColorRange.flipped = settings.neutralColorRange.flipped;\n\n        this._settings.camera.x = settings.camera.x;\n        this._settings.camera.y = settings.camera.y;\n        this._settings.camera.z = settings.camera.z;\n\n        this._settings.scaling.x = settings.scaling.x;\n        this._settings.scaling.y = settings.scaling.y;\n        this._settings.scaling.z = settings.scaling.z;\n\n        this._settings.areaMetric = settings.areaMetric + \"\";\n        this._settings.colorMetric = settings.colorMetric + \"\";\n        this._settings.heightMetric = settings.heightMetric + \"\";\n\n        this._settings.amountOfTopLabels = settings.amountOfTopLabels;\n        this._settings.margin = settings.margin;\n        this._settings.deltas = settings.deltas;\n        this._settings.operation = settings.operation;\n        this._settings.deltaColorFlipped = this.settings.deltaColorFlipped;\n\n        //TODO what to do with map ? should it even be a part of settings ? deep copy of map ?\n        this._settings.map = this.settings.map;\n\n        this.onSettingsChanged();\n\n    }\n\n    //TODO return new copy ? this would need a change listener for angular...\n    get settings(): Settings {\n        return this._settings;\n    }\n\n    /**\n     * Returns a metric from the metrics object. If it is not found the last possible metric will be returned.\n     * @param id id\n     * @param {object} metrics metrics object\n     * @returns {string} metric\n     */\n    private getMetricByIdOrLast(id: number, metrics: string[]): string {\n        return metrics[Math.min(id, metrics.length - 1)];\n    }\n\n    /**\n     * corrects settings, if the chosen metric is not available in the current map, the first three metrics are chosen as a default.\n     * @param {Settings} settings\n     */\n    private correctSettings(settings) {\n        const result = settings;\n        result.map = this._settings.map; //do not change the map\n        result.areaMetric = this.getMetricOrDefault(this.dataService.data.metrics, settings.areaMetric, this.getMetricByIdOrLast(0, this.dataService.data.metrics));\n        result.heightMetric = this.getMetricOrDefault(this.dataService.data.metrics, settings.heightMetric, this.getMetricByIdOrLast(1, this.dataService.data.metrics));\n        result.colorMetric = this.getMetricOrDefault(this.dataService.data.metrics, settings.colorMetric, this.getMetricByIdOrLast(2, this.dataService.data.metrics));\n        return result;\n    }\n\n    /**\n     * Checks if the given metricName is in the metricsArray. If it is in there, we return it, else we return the defaultValue.\n     * @param {String[]} metricsArray an array of metric names\n     * @param {String} metricName a metric name to look for\n     * @param {String} defaultValue a default name in case metricName was not found\n     */\n    private getMetricOrDefault(metricsArray, metricName, defaultValue) {\n        let result = defaultValue;\n        metricsArray.forEach((metric) => {\n            if (metric + \"\" === metricName + \"\") {\n                result = metric;\n            }\n        });\n\n        return result;\n    }\n\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9a0e649943d3502fa2d3d82a33ab1f0adf0ac02c"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/statistic/statistic.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/statistic/statistic.module.ts","statementMap":{"0":{"start":{"line":4,"column":0},"end":{"line":4,"column":111}}},"fnMap":{},"branchMap":{},"s":{"0":8},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"statistic.module.js","sourceRoot":"","sources":["statistic.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,OAAO,MAAM,SAAS,CAAC;AAC9B,OAAO,EAAC,mBAAmB,EAAC,MAAM,qBAAqB,CAAC;AAExD,OAAO,CAAC,MAAM,CACV,+BAA+B,EAAE,EAAE,CACtC,CAAC,OAAO,CACL,mBAAmB,CAAC,QAAQ,EAAE,mBAAmB,CACpD,CAAC","sourcesContent":["\"use strict\";\n\nimport angular from \"angular\";\nimport {StatisticMapService} from \"./statistic.service\";\n\nangular.module(\n    \"app.codeCharta.core.statistic\", []\n).service(\n    StatisticMapService.SELECTOR, StatisticMapService\n);\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"0130a0dcc2c7bb9230a527eb8f7741866cda81a7"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/statistic/statistic.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/statistic/statistic.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":9,"column":42}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":41}},"2":{"start":{"line":4,"column":4},"end":{"line":4,"column":35}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":39}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":33}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":41}},"7":{"start":{"line":21,"column":24},"end":{"line":21,"column":67}},"8":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"9":{"start":{"line":23,"column":12},"end":{"line":23,"column":34}},"10":{"start":{"line":25,"column":19},"end":{"line":25,"column":33}},"11":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"12":{"start":{"line":27,"column":12},"end":{"line":27,"column":27}},"13":{"start":{"line":29,"column":26},"end":{"line":29,"column":28}},"14":{"start":{"line":30,"column":8},"end":{"line":30,"column":30}},"15":{"start":{"line":32,"column":8},"end":{"line":32,"column":46}},"16":{"start":{"line":33,"column":8},"end":{"line":43,"column":9}},"17":{"start":{"line":36,"column":12},"end":{"line":36,"column":81}},"18":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"19":{"start":{"line":39,"column":16},"end":{"line":39,"column":62}},"20":{"start":{"line":42,"column":12},"end":{"line":42,"column":96}},"21":{"start":{"line":44,"column":8},"end":{"line":47,"column":9}},"22":{"start":{"line":46,"column":12},"end":{"line":46,"column":82}},"23":{"start":{"line":48,"column":8},"end":{"line":48,"column":58}},"24":{"start":{"line":49,"column":8},"end":{"line":49,"column":41}},"25":{"start":{"line":50,"column":8},"end":{"line":50,"column":72}},"26":{"start":{"line":51,"column":8},"end":{"line":51,"column":23}},"27":{"start":{"line":58,"column":25},"end":{"line":58,"column":30}},"28":{"start":{"line":59,"column":8},"end":{"line":66,"column":9}},"29":{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},"30":{"start":{"line":61,"column":16},"end":{"line":61,"column":45}},"31":{"start":{"line":63,"column":17},"end":{"line":65,"column":13}},"32":{"start":{"line":64,"column":16},"end":{"line":64,"column":35}},"33":{"start":{"line":67,"column":8},"end":{"line":71,"column":9}},"34":{"start":{"line":68,"column":12},"end":{"line":70,"column":13}},"35":{"start":{"line":69,"column":16},"end":{"line":69,"column":77}},"36":{"start":{"line":72,"column":8},"end":{"line":96,"column":9}},"37":{"start":{"line":73,"column":12},"end":{"line":75,"column":13}},"38":{"start":{"line":74,"column":16},"end":{"line":74,"column":82}},"39":{"start":{"line":76,"column":12},"end":{"line":95,"column":13}},"40":{"start":{"line":78,"column":16},"end":{"line":87,"column":17}},"41":{"start":{"line":79,"column":20},"end":{"line":79,"column":39}},"42":{"start":{"line":81,"column":20},"end":{"line":86,"column":21}},"43":{"start":{"line":83,"column":24},"end":{"line":83,"column":112}},"44":{"start":{"line":84,"column":24},"end":{"line":84,"column":42}},"45":{"start":{"line":85,"column":24},"end":{"line":85,"column":30}},"46":{"start":{"line":89,"column":16},"end":{"line":94,"column":17}},"47":{"start":{"line":90,"column":20},"end":{"line":90,"column":88}},"48":{"start":{"line":92,"column":20},"end":{"line":93,"column":116}},"49":{"start":{"line":97,"column":8},"end":{"line":97,"column":22}},"50":{"start":{"line":106,"column":8},"end":{"line":121,"column":9}},"51":{"start":{"line":108,"column":12},"end":{"line":110,"column":13}},"52":{"start":{"line":109,"column":16},"end":{"line":109,"column":79}},"53":{"start":{"line":114,"column":12},"end":{"line":120,"column":13}},"54":{"start":{"line":115,"column":16},"end":{"line":119,"column":17}},"55":{"start":{"line":116,"column":20},"end":{"line":118,"column":21}},"56":{"start":{"line":117,"column":24},"end":{"line":117,"column":110}},"57":{"start":{"line":122,"column":8},"end":{"line":122,"column":22}},"58":{"start":{"line":128,"column":8},"end":{"line":138,"column":9}},"59":{"start":{"line":129,"column":12},"end":{"line":129,"column":53}},"60":{"start":{"line":131,"column":13},"end":{"line":138,"column":9}},"61":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"62":{"start":{"line":133,"column":16},"end":{"line":133,"column":71}},"63":{"start":{"line":136,"column":13},"end":{"line":138,"column":9}},"64":{"start":{"line":137,"column":12},"end":{"line":137,"column":35}},"65":{"start":{"line":139,"column":8},"end":{"line":139,"column":22}},"66":{"start":{"line":148,"column":8},"end":{"line":161,"column":9}},"67":{"start":{"line":149,"column":12},"end":{"line":151,"column":13}},"68":{"start":{"line":150,"column":16},"end":{"line":150,"column":96}},"69":{"start":{"line":153,"column":13},"end":{"line":161,"column":9}},"70":{"start":{"line":155,"column":12},"end":{"line":157,"column":13}},"71":{"start":{"line":156,"column":16},"end":{"line":156,"column":108}},"72":{"start":{"line":159,"column":13},"end":{"line":161,"column":9}},"73":{"start":{"line":160,"column":12},"end":{"line":160,"column":83}},"74":{"start":{"line":162,"column":8},"end":{"line":162,"column":22}},"75":{"start":{"line":170,"column":8},"end":{"line":183,"column":9}},"76":{"start":{"line":172,"column":16},"end":{"line":172,"column":40}},"77":{"start":{"line":174,"column":16},"end":{"line":174,"column":39}},"78":{"start":{"line":176,"column":16},"end":{"line":176,"column":39}},"79":{"start":{"line":178,"column":16},"end":{"line":178,"column":43}},"80":{"start":{"line":180,"column":16},"end":{"line":180,"column":42}},"81":{"start":{"line":182,"column":16},"end":{"line":182,"column":109}},"82":{"start":{"line":184,"column":8},"end":{"line":184,"column":18}},"83":{"start":{"line":190,"column":21},"end":{"line":190,"column":24}},"84":{"start":{"line":191,"column":8},"end":{"line":195,"column":9}},"85":{"start":{"line":192,"column":12},"end":{"line":194,"column":13}},"86":{"start":{"line":193,"column":16},"end":{"line":193,"column":35}},"87":{"start":{"line":196,"column":8},"end":{"line":196,"column":39}},"88":{"start":{"line":197,"column":8},"end":{"line":197,"column":22}},"89":{"start":{"line":204,"column":8},"end":{"line":210,"column":9}},"90":{"start":{"line":205,"column":12},"end":{"line":209,"column":13}},"91":{"start":{"line":206,"column":16},"end":{"line":208,"column":17}},"92":{"start":{"line":207,"column":20},"end":{"line":207,"column":38}},"93":{"start":{"line":211,"column":8},"end":{"line":211,"column":22}},"94":{"start":{"line":218,"column":8},"end":{"line":224,"column":9}},"95":{"start":{"line":219,"column":12},"end":{"line":223,"column":13}},"96":{"start":{"line":220,"column":16},"end":{"line":222,"column":17}},"97":{"start":{"line":221,"column":20},"end":{"line":221,"column":38}},"98":{"start":{"line":225,"column":8},"end":{"line":225,"column":22}},"99":{"start":{"line":231,"column":24},"end":{"line":231,"column":26}},"100":{"start":{"line":232,"column":32},"end":{"line":232,"column":33}},"101":{"start":{"line":234,"column":8},"end":{"line":243,"column":9}},"102":{"start":{"line":235,"column":12},"end":{"line":242,"column":13}},"103":{"start":{"line":236,"column":16},"end":{"line":241,"column":17}},"104":{"start":{"line":237,"column":20},"end":{"line":237,"column":44}},"105":{"start":{"line":240,"column":20},"end":{"line":240,"column":42}},"106":{"start":{"line":244,"column":8},"end":{"line":249,"column":9}},"107":{"start":{"line":245,"column":12},"end":{"line":248,"column":13}},"108":{"start":{"line":246,"column":16},"end":{"line":246,"column":53}},"109":{"start":{"line":247,"column":16},"end":{"line":247,"column":48}},"110":{"start":{"line":250,"column":8},"end":{"line":250,"column":29}},"111":{"start":{"line":256,"column":21},"end":{"line":256,"column":90}},"112":{"start":{"line":256,"column":53},"end":{"line":256,"column":80}},"113":{"start":{"line":258,"column":18},"end":{"line":258,"column":31}},"114":{"start":{"line":259,"column":8},"end":{"line":267,"column":9}},"115":{"start":{"line":260,"column":12},"end":{"line":260,"column":37}},"116":{"start":{"line":262,"column":13},"end":{"line":267,"column":9}},"117":{"start":{"line":263,"column":12},"end":{"line":263,"column":73}},"118":{"start":{"line":266,"column":12},"end":{"line":266,"column":31}},"119":{"start":{"line":268,"column":8},"end":{"line":268,"column":22}},"120":{"start":{"line":271,"column":0},"end":{"line":271,"column":53}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":1},"end":{"line":2,"column":2}},"loc":{"start":{"line":2,"column":26},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":30},"end":{"line":52,"column":5}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":42},"end":{"line":98,"column":5}},"line":57},"3":{"name":"(anonymous_3)","decl":{"start":{"line":105,"column":4},"end":{"line":105,"column":5}},"loc":{"start":{"line":105,"column":40},"end":{"line":123,"column":5}},"line":105},"4":{"name":"(anonymous_4)","decl":{"start":{"line":127,"column":4},"end":{"line":127,"column":5}},"loc":{"start":{"line":127,"column":21},"end":{"line":140,"column":5}},"line":127},"5":{"name":"(anonymous_5)","decl":{"start":{"line":146,"column":4},"end":{"line":146,"column":5}},"loc":{"start":{"line":146,"column":46},"end":{"line":163,"column":5}},"line":146},"6":{"name":"(anonymous_6)","decl":{"start":{"line":169,"column":4},"end":{"line":169,"column":5}},"loc":{"start":{"line":169,"column":32},"end":{"line":185,"column":5}},"line":169},"7":{"name":"(anonymous_7)","decl":{"start":{"line":189,"column":4},"end":{"line":189,"column":5}},"loc":{"start":{"line":189,"column":16},"end":{"line":198,"column":5}},"line":189},"8":{"name":"(anonymous_8)","decl":{"start":{"line":202,"column":4},"end":{"line":202,"column":5}},"loc":{"start":{"line":202,"column":15},"end":{"line":212,"column":5}},"line":202},"9":{"name":"(anonymous_9)","decl":{"start":{"line":216,"column":4},"end":{"line":216,"column":5}},"loc":{"start":{"line":216,"column":15},"end":{"line":226,"column":5}},"line":216},"10":{"name":"(anonymous_10)","decl":{"start":{"line":230,"column":4},"end":{"line":230,"column":5}},"loc":{"start":{"line":230,"column":19},"end":{"line":251,"column":5}},"line":230},"11":{"name":"(anonymous_11)","decl":{"start":{"line":255,"column":4},"end":{"line":255,"column":5}},"loc":{"start":{"line":255,"column":18},"end":{"line":269,"column":5}},"line":255},"12":{"name":"(anonymous_12)","decl":{"start":{"line":256,"column":34},"end":{"line":256,"column":35}},"loc":{"start":{"line":256,"column":51},"end":{"line":256,"column":82}},"line":256}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":40}},"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":16}},{"start":{"line":9,"column":21},"end":{"line":9,"column":39}}],"line":9},"1":{"loc":{"start":{"line":21,"column":24},"end":{"line":21,"column":67}},"type":"binary-expr","locations":[{"start":{"line":21,"column":24},"end":{"line":21,"column":42}},{"start":{"line":21,"column":46},"end":{"line":21,"column":67}}],"line":21},"2":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"3":{"loc":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},{"start":{"line":26,"column":8},"end":{"line":28,"column":9}}],"line":26},"4":{"loc":{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":40,"column":13}},{"start":{"line":38,"column":12},"end":{"line":40,"column":13}}],"line":38},"5":{"loc":{"start":{"line":38,"column":16},"end":{"line":38,"column":80}},"type":"binary-expr","locations":[{"start":{"line":38,"column":16},"end":{"line":38,"column":40}},{"start":{"line":38,"column":44},"end":{"line":38,"column":80}}],"line":38},"6":{"loc":{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":65,"column":13}},{"start":{"line":60,"column":12},"end":{"line":65,"column":13}}],"line":60},"7":{"loc":{"start":{"line":60,"column":16},"end":{"line":60,"column":107}},"type":"binary-expr","locations":[{"start":{"line":60,"column":16},"end":{"line":60,"column":36}},{"start":{"line":60,"column":40},"end":{"line":60,"column":62}},{"start":{"line":60,"column":66},"end":{"line":60,"column":82}},{"start":{"line":60,"column":86},"end":{"line":60,"column":107}}],"line":60},"8":{"loc":{"start":{"line":63,"column":17},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":63,"column":17},"end":{"line":65,"column":13}},{"start":{"line":63,"column":17},"end":{"line":65,"column":13}}],"line":63},"9":{"loc":{"start":{"line":63,"column":21},"end":{"line":63,"column":60}},"type":"binary-expr","locations":[{"start":{"line":63,"column":21},"end":{"line":63,"column":42}},{"start":{"line":63,"column":46},"end":{"line":63,"column":60}}],"line":63},"10":{"loc":{"start":{"line":67,"column":8},"end":{"line":71,"column":9}},"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":71,"column":9}},{"start":{"line":67,"column":8},"end":{"line":71,"column":9}}],"line":67},"11":{"loc":{"start":{"line":67,"column":12},"end":{"line":67,"column":57}},"type":"binary-expr","locations":[{"start":{"line":67,"column":12},"end":{"line":67,"column":29}},{"start":{"line":67,"column":33},"end":{"line":67,"column":57}}],"line":67},"12":{"loc":{"start":{"line":72,"column":8},"end":{"line":96,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":96,"column":9}},{"start":{"line":72,"column":8},"end":{"line":96,"column":9}}],"line":72},"13":{"loc":{"start":{"line":72,"column":12},"end":{"line":72,"column":50}},"type":"binary-expr","locations":[{"start":{"line":72,"column":12},"end":{"line":72,"column":26}},{"start":{"line":72,"column":30},"end":{"line":72,"column":50}}],"line":72},"14":{"loc":{"start":{"line":73,"column":12},"end":{"line":75,"column":13}},"type":"if","locations":[{"start":{"line":73,"column":12},"end":{"line":75,"column":13}},{"start":{"line":73,"column":12},"end":{"line":75,"column":13}}],"line":73},"15":{"loc":{"start":{"line":81,"column":20},"end":{"line":86,"column":21}},"type":"if","locations":[{"start":{"line":81,"column":20},"end":{"line":86,"column":21}},{"start":{"line":81,"column":20},"end":{"line":86,"column":21}}],"line":81},"16":{"loc":{"start":{"line":89,"column":16},"end":{"line":94,"column":17}},"type":"if","locations":[{"start":{"line":89,"column":16},"end":{"line":94,"column":17}},{"start":{"line":89,"column":16},"end":{"line":94,"column":17}}],"line":89},"17":{"loc":{"start":{"line":106,"column":8},"end":{"line":121,"column":9}},"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":121,"column":9}},{"start":{"line":106,"column":8},"end":{"line":121,"column":9}}],"line":106},"18":{"loc":{"start":{"line":106,"column":12},"end":{"line":107,"column":51}},"type":"binary-expr","locations":[{"start":{"line":106,"column":12},"end":{"line":106,"column":27}},{"start":{"line":106,"column":31},"end":{"line":106,"column":47}},{"start":{"line":106,"column":51},"end":{"line":106,"column":91}},{"start":{"line":107,"column":12},"end":{"line":107,"column":51}}],"line":106},"19":{"loc":{"start":{"line":116,"column":20},"end":{"line":118,"column":21}},"type":"if","locations":[{"start":{"line":116,"column":20},"end":{"line":118,"column":21}},{"start":{"line":116,"column":20},"end":{"line":118,"column":21}}],"line":116},"20":{"loc":{"start":{"line":128,"column":8},"end":{"line":138,"column":9}},"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":138,"column":9}},{"start":{"line":128,"column":8},"end":{"line":138,"column":9}}],"line":128},"21":{"loc":{"start":{"line":131,"column":13},"end":{"line":138,"column":9}},"type":"if","locations":[{"start":{"line":131,"column":13},"end":{"line":138,"column":9}},{"start":{"line":131,"column":13},"end":{"line":138,"column":9}}],"line":131},"22":{"loc":{"start":{"line":131,"column":17},"end":{"line":131,"column":63}},"type":"binary-expr","locations":[{"start":{"line":131,"column":17},"end":{"line":131,"column":32}},{"start":{"line":131,"column":36},"end":{"line":131,"column":63}}],"line":131},"23":{"loc":{"start":{"line":136,"column":13},"end":{"line":138,"column":9}},"type":"if","locations":[{"start":{"line":136,"column":13},"end":{"line":138,"column":9}},{"start":{"line":136,"column":13},"end":{"line":138,"column":9}}],"line":136},"24":{"loc":{"start":{"line":136,"column":17},"end":{"line":136,"column":67}},"type":"binary-expr","locations":[{"start":{"line":136,"column":17},"end":{"line":136,"column":34}},{"start":{"line":136,"column":38},"end":{"line":136,"column":67}}],"line":136},"25":{"loc":{"start":{"line":148,"column":8},"end":{"line":161,"column":9}},"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":161,"column":9}},{"start":{"line":148,"column":8},"end":{"line":161,"column":9}}],"line":148},"26":{"loc":{"start":{"line":148,"column":12},"end":{"line":148,"column":73}},"type":"binary-expr","locations":[{"start":{"line":148,"column":12},"end":{"line":148,"column":28}},{"start":{"line":148,"column":32},"end":{"line":148,"column":73}}],"line":148},"27":{"loc":{"start":{"line":153,"column":13},"end":{"line":161,"column":9}},"type":"if","locations":[{"start":{"line":153,"column":13},"end":{"line":161,"column":9}},{"start":{"line":153,"column":13},"end":{"line":161,"column":9}}],"line":153},"28":{"loc":{"start":{"line":153,"column":17},"end":{"line":153,"column":61}},"type":"binary-expr","locations":[{"start":{"line":153,"column":17},"end":{"line":153,"column":31}},{"start":{"line":153,"column":35},"end":{"line":153,"column":61}}],"line":153},"29":{"loc":{"start":{"line":159,"column":13},"end":{"line":161,"column":9}},"type":"if","locations":[{"start":{"line":159,"column":13},"end":{"line":161,"column":9}},{"start":{"line":159,"column":13},"end":{"line":161,"column":9}}],"line":159},"30":{"loc":{"start":{"line":170,"column":8},"end":{"line":183,"column":9}},"type":"switch","locations":[{"start":{"line":171,"column":12},"end":{"line":172,"column":40}},{"start":{"line":173,"column":12},"end":{"line":174,"column":39}},{"start":{"line":175,"column":12},"end":{"line":176,"column":39}},{"start":{"line":177,"column":12},"end":{"line":178,"column":43}},{"start":{"line":179,"column":12},"end":{"line":180,"column":42}},{"start":{"line":181,"column":12},"end":{"line":182,"column":109}}],"line":170},"31":{"loc":{"start":{"line":192,"column":12},"end":{"line":194,"column":13}},"type":"if","locations":[{"start":{"line":192,"column":12},"end":{"line":194,"column":13}},{"start":{"line":192,"column":12},"end":{"line":194,"column":13}}],"line":192},"32":{"loc":{"start":{"line":205,"column":12},"end":{"line":209,"column":13}},"type":"if","locations":[{"start":{"line":205,"column":12},"end":{"line":209,"column":13}},{"start":{"line":205,"column":12},"end":{"line":209,"column":13}}],"line":205},"33":{"loc":{"start":{"line":206,"column":16},"end":{"line":208,"column":17}},"type":"if","locations":[{"start":{"line":206,"column":16},"end":{"line":208,"column":17}},{"start":{"line":206,"column":16},"end":{"line":208,"column":17}}],"line":206},"34":{"loc":{"start":{"line":206,"column":20},"end":{"line":206,"column":60}},"type":"binary-expr","locations":[{"start":{"line":206,"column":20},"end":{"line":206,"column":39}},{"start":{"line":206,"column":43},"end":{"line":206,"column":60}}],"line":206},"35":{"loc":{"start":{"line":219,"column":12},"end":{"line":223,"column":13}},"type":"if","locations":[{"start":{"line":219,"column":12},"end":{"line":223,"column":13}},{"start":{"line":219,"column":12},"end":{"line":223,"column":13}}],"line":219},"36":{"loc":{"start":{"line":220,"column":16},"end":{"line":222,"column":17}},"type":"if","locations":[{"start":{"line":220,"column":16},"end":{"line":222,"column":17}},{"start":{"line":220,"column":16},"end":{"line":222,"column":17}}],"line":220},"37":{"loc":{"start":{"line":220,"column":20},"end":{"line":220,"column":60}},"type":"binary-expr","locations":[{"start":{"line":220,"column":20},"end":{"line":220,"column":39}},{"start":{"line":220,"column":43},"end":{"line":220,"column":60}}],"line":220},"38":{"loc":{"start":{"line":235,"column":12},"end":{"line":242,"column":13}},"type":"if","locations":[{"start":{"line":235,"column":12},"end":{"line":242,"column":13}},{"start":{"line":235,"column":12},"end":{"line":242,"column":13}}],"line":235},"39":{"loc":{"start":{"line":236,"column":16},"end":{"line":241,"column":17}},"type":"if","locations":[{"start":{"line":236,"column":16},"end":{"line":241,"column":17}},{"start":{"line":236,"column":16},"end":{"line":241,"column":17}}],"line":236},"40":{"loc":{"start":{"line":245,"column":12},"end":{"line":248,"column":13}},"type":"if","locations":[{"start":{"line":245,"column":12},"end":{"line":248,"column":13}},{"start":{"line":245,"column":12},"end":{"line":248,"column":13}}],"line":245},"41":{"loc":{"start":{"line":259,"column":8},"end":{"line":267,"column":9}},"type":"if","locations":[{"start":{"line":259,"column":8},"end":{"line":267,"column":9}},{"start":{"line":259,"column":8},"end":{"line":267,"column":9}}],"line":259},"42":{"loc":{"start":{"line":262,"column":13},"end":{"line":267,"column":9}},"type":"if","locations":[{"start":{"line":262,"column":13},"end":{"line":267,"column":9}},{"start":{"line":262,"column":13},"end":{"line":267,"column":9}}],"line":262}},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":8,"6":8,"7":15,"8":15,"9":0,"10":15,"11":15,"12":5,"13":10,"14":10,"15":10,"16":10,"17":30,"18":30,"19":10,"20":30,"21":10,"22":30,"23":10,"24":10,"25":10,"26":10,"27":120,"28":120,"29":330,"30":150,"31":180,"32":10,"33":120,"34":120,"35":180,"36":120,"37":60,"38":10,"39":60,"40":90,"41":110,"42":110,"43":75,"44":75,"45":75,"46":90,"47":15,"48":15,"49":120,"50":120,"51":60,"52":180,"53":60,"54":90,"55":160,"56":90,"57":120,"58":55,"59":10,"60":45,"61":20,"62":35,"63":25,"64":25,"65":55,"66":55,"67":25,"68":75,"69":30,"70":20,"71":35,"72":10,"73":10,"74":55,"75":75,"76":15,"77":15,"78":15,"79":15,"80":15,"81":0,"82":0,"83":15,"84":15,"85":42,"86":36,"87":15,"88":15,"89":15,"90":42,"91":36,"92":18,"93":15,"94":15,"95":42,"96":36,"97":15,"98":15,"99":15,"100":15,"101":15,"102":42,"103":36,"104":18,"105":18,"106":15,"107":18,"108":15,"109":15,"110":15,"111":15,"112":42,"113":15,"114":15,"115":9,"116":6,"117":0,"118":6,"119":15,"120":8},"f":{"0":8,"1":15,"2":120,"3":120,"4":55,"5":55,"6":75,"7":15,"8":15,"9":15,"10":15,"11":15,"12":42},"b":{"0":[8,8],"1":[15,0],"2":[0,15],"3":[5,10],"4":[10,20],"5":[30,20],"6":[150,180],"7":[330,270,150,150],"8":[10,170],"9":[180,120],"10":[120,0],"11":[120,120],"12":[60,60],"13":[120,60],"14":[10,50],"15":[75,35],"16":[15,75],"17":[60,60],"18":[120,60,60,60],"19":[90,70],"20":[10,45],"21":[20,25],"22":[45,20],"23":[25,0],"24":[25,25],"25":[25,30],"26":[55,45],"27":[20,10],"28":[30,20],"29":[10,0],"30":[15,15,15,15,15,0],"31":[36,6],"32":[36,6],"33":[18,18],"34":[36,21],"35":[36,6],"36":[15,21],"37":[36,21],"38":[36,6],"39":[18,18],"40":[15,3],"41":[9,6],"42":[0,6]},"inputSourceMap":{"version":3,"file":"statistic.service.js","sourceRoot":"","sources":["statistic.service.ts"],"names":[],"mappings":"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","sourcesContent":["import {CodeMap, CodeMapNode} from \"../data/model/CodeMap\";\nimport {Settings} from \"../../core/settings/settings.service\";\nimport {DataModel} from \"../data/data.service\";\nimport {node} from \"../../codeMap/rendering/node\";\n\n\nexport enum STATISTIC_OPS  {\n    NOTHING =  \"NOTHING\",\n    MEAN = \"MEAN\",\n    MEDIAN = \"MEDIAN\",\n    MAX = \"MAX\",\n    MIN = \"MIN\",\n    FASHION = \"FASHION\"\n};\n\nexport class StatisticMapService {\n\n\n    public static SELECTOR = \"statisticMapService\";\n\n    /*\n     * Function that receives an array of maps and returns a map with a structure that contains every leaf contained in\n     * any of the maps of the input array.\n     * The attributes of the output map contain as values the result of an statistical operation applied to the values\n     * of the input maps. That operation can be selected among the implemented ones by the operation value.\n     * Every new statistical operation should  have a new value in STATISTIC_OPS and a new function, which should be\n     * added to the statistic function switch.\n     */\n    unifyMaps(data: DataModel, settings: Settings): CodeMap {\n        let operation = settings.operation || STATISTIC_OPS.NOTHING;\n        if(operation == STATISTIC_OPS.NOTHING){\n            return data.renderMap;\n        }\n        var maps: CodeMap[] = data.revisions;\n        if(maps.length === 1){\n            return maps[0];\n        }\n\n        var accumulated = {} as CodeMap;//Map that contains an array of every value of every map given in maps array\n        accumulated.root = {} as CodeMapNode;\n        var unified: CodeMap;\n        accumulated.fileName = operation+\"\";\n        for(let i: number=0; i<maps.length; i++){//Loop through every CodeMap of the input array and get all of them in accumulated\n            //Only leaf have attributes and no child.\n            //A CodeMap contains fileName, projectName and root. Here filename is added to accumulated\n            accumulated.fileName= accumulated.fileName+\"_\"+maps[i].fileName;\n            //Here projectName is added\n            if(!accumulated.projectName || accumulated.projectName.length === 0){\n                accumulated.projectName= maps[i].projectName;\n            }\n            //Create an empty map which contains every different leaf and node of every map in the input\n            accumulated.root = this.createArrayMap(maps[i].root, accumulated.root, maps.length);\n        }\n        for(let i: number=0; i<maps.length; i++){\n            //The empty accumulated map gets fulfilled with the values of every map in the maps array\n            accumulated.root=this.fulfillMap(maps[i].root,accumulated.root, i);\n        }\n        unified = JSON.parse(JSON.stringify(accumulated));\n        unified = this.emptyMap(unified);//The map is copied, before emptying it in order not to modify accumulated\n        unified= this.applyStatistics(accumulated,unified, operation);\n        return unified;\n    }\n\n\n    /*\n     *  Returns a map which contains every different leaf and node of every map in the input map with an array for\n     *  every attribute with \"length\" zeros\n     */\n    createArrayMap(input: CodeMapNode, output: CodeMapNode, length: number): CodeMapNode{\n        let childExist: boolean= false;\n        for(let value in input){\n            if(value!==\"children\"&&value!==\"attributes\"&&value!==\"root\"&&value!==\"$$hashKey\"){\n                output[value]=input[value];\n            }\n            else if (value==\"attributes\"&&!output[value]){\n                output[value]={};\n            }\n        }\n        if(output.attributes&&output.attributes!=={}){\n            for(let metric in output.attributes){\n                output.attributes[metric]= Array.apply(null, Array(length));\n            }\n        }\n        if(input.children&&input.children!={}){\n            if (!output.children ) {//if the output have no children we add it\n                output.children = [JSON.parse(JSON.stringify(input.children[0]))];\n            }\n            for(let i: number=0; i<input.children.length; i++) {//Go through every child of the input\n                //We look for the output children with the same name as the input children we are working with\n                for (let j: number = 0; j < output.children.length; j++) {\n                    childExist = false;\n                        //if the children of the input is already in the output we go through it\n                    if (input.children[i].name === output.children[j].name) {\n                        //We go recursiv to the children\n                        output.children[j] = this.createArrayMap(input.children[i], output.children[j], length);\n                        childExist = true;\n                        break;\n                    }\n                }\n                //if the children does not exist in the output its copied from the input\n                if (!childExist) {\n                    output.children.push(JSON.parse(JSON.stringify(input.children[i])));\n                    //Once the children is copied we loop through it\n                    output.children[output.children.length -1] =\n                        this.createArrayMap(input.children[i], output.children[output.children.length -1], length);\n                }\n            }\n        }\n        return output;\n    }\n\n\n    /*\n     * Receives a map with an array with n values for every attribute as output and a map with a single value in every\n     * attribute as input and a position. The values of the input are added to the correspondent value in the output\n     * attribute array in the position given in position value.\n     * The output map should contain every children and node in output.\n     */\n    fulfillMap(input: CodeMapNode, output: CodeMapNode, position: number){\n        if(!input.children||!output.children||Object.keys(output.children).length==0||\n            Object.keys(input.children).length==0){\n            for(let metric in input.attributes){\n                output.attributes[metric][position] = input.attributes[metric];\n            }\n        }\n        else{\n            //Go through every position in the maps\n            for(let i: number=0; i<input.children.length; i++) {\n                for(let j: number=0;j<output.children.length; j++){\n                    if(input.children[i].name==output.children[j].name){\n                        output.children[j]= this.fulfillMap(input.children[i],output.children[j],position);\n                    }\n                }\n            }\n        }\n        return output;\n    }\n\n\n    /*\n    *  Returns a map which contains the same structure as the input map but contains no metric\n    */\n    emptyMap(output: any){\n        if(output.root){\n            output.root=this.emptyMap(output.root);\n        }\n        else if(output.children&&output.children.length!=0){\n            for(var i=0;i<output.children.length;i++){\n                output.children[i]=this.emptyMap(output.children[i]);\n            }\n        }\n        else if(output.attributes&&output.attributes.length!=0){\n            output.attributes = {};\n        }\n        return output;\n    }\n\n    /*\n     * Receives a map which contains an array in every attribute and returns an array with the same structure as the\n     * input but with a function applied to the values of the same attribute array for every attribute.\n     * This function is determinated by the string in operation\n     */\n    applyStatistics(input: any,output: any, operation: STATISTIC_OPS): any{\n        //If the input has attributes, a function is applied to every metric and the returned value is given in output\n        if(input.attributes&&Object.keys(input.attributes).length!=0){\n            for(let metric in input.attributes){\n                output.attributes[metric]=this.statistic(input.attributes[metric], operation);\n            }\n        }\n        else if(input.children&&input.children.length!=0){\n            //Go through every position in the maps\n            for(let i=0; i<input.children.length; i++) {\n                output.children[i]= this.applyStatistics(input.children[i],output.children[i],operation);\n            }\n        }\n        else if (input.root){\n            output.root= this.applyStatistics(input.root,output.root,operation);\n        }\n        return output;\n    }\n\n\n    /*\n     * Function that returns the value of an statistical function over the values of the inputed array. This function\n     * is defined by operation.\n     * @param {STATISTICS_OPS} operation\n     */\n    statistic(input: number[], operation: STATISTIC_OPS): number{\n        switch(operation) {\n            case STATISTIC_OPS.MEAN:\n                return this.mean(input);\n            case STATISTIC_OPS.MAX:\n                return this.max(input);\n            case STATISTIC_OPS.MIN:\n                return this.min(input);\n            case STATISTIC_OPS.FASHION:\n                return this.fashion(input);\n            case STATISTIC_OPS.MEDIAN:\n                return this.median(input);\n            default:\n                console.log(\"The described statistical function, which is \"+operation+\" does not exist\");\n        }\n        return -1;\n    }\n\n\n    /*\n     * Function that returns the mean of the values in the input array.\n     */\n    mean(input: number[]): number{\n        var output: number = 0.0;\n        for(var i: number=0;i<input.length; i++){\n            if(input[i] !== undefined){\n                output+=input[i];\n            }\n        }\n        output= output/input.length;\n        return output;\n    }\n\n    /*\n     * Function that returns the highest value of the input array\n     */\n    max(input: number[]): number{\n        var output: number;\n        for(var i: number=0;i<input.length; i++){\n            if(input[i] !== undefined){\n                if(output == undefined || output<input[i]){\n                    output=input[i];\n                }\n            }\n        }\n        return output;\n    }\n\n    /*\n     * Function that returns the lowest value of the input array\n     */\n    min(input: number[]): number{\n        var output;\n        for(var i: number=0;i<input.length; i++){\n            if(input[i] !== undefined){\n                if(output == undefined || output>input[i]){\n                    output=input[i];\n                }\n            }\n        }\n        return output;\n    }\n\n    /*\n     * Function that returns the most common value in the input array\n     */\n    fashion(input: number[]): number{\n        var frequency: any = {};//Object that contains every different value in input linked to its absolute frequency\n        var fashion_frequency: number = 0;//Absolute frequency of the fashion value\n        var fashion_value: number;\n        for(var i: number=0;i<input.length; i++){\n            if(input[i] !== undefined){\n                if(!frequency[input[i]]){\n                    frequency[input[i]] = 1;\n                }\n                else{\n                    frequency[input[i]]++;\n                }\n            }\n        }\n        for(let value in frequency){\n            if(fashion_frequency< frequency[value]){\n                fashion_frequency=frequency[value];\n                fashion_value= parseInt(value);\n            }\n        }\n        return fashion_value;\n    }\n\n    /*\n     * Function that returns the median value in the input array\n     */\n    median(input: number[]): number{\n        var sorted: number[] = input.filter(function(value) { return value !== undefined }).sort();\n        var median: number;\n        var num: number = sorted.length;\n        if((num % 2) == 0){\n            median = sorted[num/2];\n        }\n        else if (num > 1){\n            median = (sorted[(num+1)/2]+sorted[(num-1)/2])/2;\n        }\n        else{\n            median = sorted[0];\n        }\n        return median;\n    }\n\n    /*\n     * Function that returns true when two objects contain the same even when it is not in the same order\n     * ({a,b}=={b,a} would return true)\n     * Only used in testing TODO such methods should not be implemented. Testing should not rely on test specific methods\n     */\n\n    /*unorderedCompare(a: Object,b: Object): boolean{\n        var same : boolean = false;\n        //We check if we reached a leave. Falls that happened the\n        if(Object.keys(a).length==0&&JSON.stringify(a) != JSON.stringify(b)){\n            return false;\n        }\n        //If a key contained in a is not contained in b, has different type or different number of keys they are diff\n        for(let key in a){\n            if(!b[key]||typeof(b[key])!=typeof(a[key])||Object.keys(a[key]).length!=Object.keys(b[key]).length){\n                return false;\n            }\n        }\n        //Here is only reached if both a and b have the same keys and those values have the same type and number of keys\n        for(let key in a){\n            if(typeof(a[key])==\"object\"){//check if this works\n                //if key is a number we look for a branch in b that has the same as this branch in a\n                if(typeof (key)==\"number\"){\n                    for(let keyb in b){\n                        if(this.unorderedCompare(a[key],b[keyb])){\n                            same= true;\n                        }\n                    }\n                    if(!same){\n                        return false;\n                    }\n                }\n                //If the key is not a number we compare that branch in a with the branch with the same key in b\n                else if(!this.unorderedCompare(a[key],b[key])){\n                    return false;\n                }\n            }//if the value is not an object\n            else if(a[key]!=b[key]){\n                return false;\n            }\n        }\n        return true;\n    }*/\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"b7d0bb9d30e46b65c854849a3a94c0bb166027ec"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/tooltip/tooltip.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/tooltip/tooltip.module.ts","statementMap":{"0":{"start":{"line":4,"column":0},"end":{"line":5,"column":54}}},"fnMap":{},"branchMap":{},"s":{"0":3},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"tooltip.module.js","sourceRoot":"","sources":["tooltip.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,EAAC,cAAc,EAAC,MAAM,mBAAmB,CAAC;AAEjD,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,EAAE,CAAC;KAC5C,OAAO,CACJ,cAAc,CAAC,QAAQ,EAAE,cAAc,CAC1C,CAAC","sourcesContent":["\"use strict\";\n\nimport {TooltipService} from \"./tooltip.service\";\n\nimport angular from \"angular\";\n\nangular.module(\"app.codeCharta.core.tooltip\", [])\n    .service(\n        TooltipService.SELECTOR, TooltipService\n    );\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1862e278334072ebafb8609e6e9f2082edab5b2e"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/tooltip/tooltip.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/tooltip/tooltip.service.ts","statementMap":{"0":{"start":{"line":2,"column":41},"end":{"line":2,"column":59}},"1":{"start":{"line":3,"column":30},"end":{"line":3,"column":46}},"2":{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},"3":{"start":{"line":11,"column":8},"end":{"line":11,"column":51}},"4":{"start":{"line":14,"column":8},"end":{"line":16,"column":11}},"5":{"start":{"line":15,"column":12},"end":{"line":15,"column":54}},"6":{"start":{"line":19,"column":8},"end":{"line":19,"column":30}},"7":{"start":{"line":22,"column":8},"end":{"line":22,"column":31}},"8":{"start":{"line":23,"column":8},"end":{"line":23,"column":78}},"9":{"start":{"line":37,"column":21},"end":{"line":37,"column":40}},"10":{"start":{"line":38,"column":8},"end":{"line":50,"column":9}},"11":{"start":{"line":39,"column":22},"end":{"line":39,"column":41}},"12":{"start":{"line":43,"column":12},"end":{"line":45,"column":13}},"13":{"start":{"line":44,"column":16},"end":{"line":44,"column":76}},"14":{"start":{"line":46,"column":12},"end":{"line":46,"column":23}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":34}},"16":{"start":{"line":59,"column":8},"end":{"line":59,"column":44}},"17":{"start":{"line":62,"column":0},"end":{"line":62,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":26},"end":{"line":17,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":55},"end":{"line":14,"column":56}},"loc":{"start":{"line":14,"column":72},"end":{"line":16,"column":9}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":19},"end":{"line":20,"column":5}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":24},"end":{"line":24,"column":5}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":29},"end":{"line":51,"column":5}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":29},"end":{"line":60,"column":5}},"line":58}},"branchMap":{"0":{"loc":{"start":{"line":38,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":38,"column":8},"end":{"line":50,"column":9}},{"start":{"line":38,"column":8},"end":{"line":50,"column":9}}],"line":38}},"s":{"0":3,"1":3,"2":9,"3":9,"4":2,"5":1,"6":1,"7":15,"8":15,"9":11,"10":11,"11":7,"12":7,"13":4,"14":7,"15":4,"16":4,"17":3},"f":{"0":9,"1":2,"2":1,"3":1,"4":15,"5":11,"6":4},"b":{"0":[7,4]},"inputSourceMap":{"version":3,"file":"tooltip.service.js","sourceRoot":"","sources":["tooltip.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,MAAM,CAAC,MAAM,yBAAyB,GAAG,kBAAkB,CAAC;AAC5D,MAAM,CAAC,MAAM,cAAc,GAAG,gBAAgB,CAAC;AAU/C;;GAEG;AACH;IAMI,eAAe;IACf,YAAoB,UAAU;QAAV,eAAU,GAAV,UAAU,CAAA;QAC1B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;IAC/C,CAAC;IAEM,SAAS,CAAC,UAAoC;QACjD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,yBAAyB,EAAE,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;YAC3D,UAAU,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;IAED,IAAI,QAAQ;QACR,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IAED,IAAI,QAAQ,CAAC,KAAe;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,yBAAyB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAC1E,CAAC;IAED;;;;OAIG;IACI,mBAAmB,CAAC,GAAW;QAElC,2CAA2C;QAC3C;;;;WAIG;QACH,MAAM,IAAI,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;QAEjC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAEtB,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAG9B;;eAEG;YACH,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;gBACpB,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAChE,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QAEf,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,cAAc,CAAC;QAC1B,CAAC;IAEL,CAAC;IAED;;;;;OAKG;IACH,aAAa,CAAC,KAAK,EAAE,EAAE;QACnB,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;IACxC,CAAC;;AAlEa,uBAAQ,GAAG,gBAAgB,CAAC;AAsE9C,OAAO,EAAC,cAAc,EAAC,CAAC","sourcesContent":["\"use strict\";\n\nexport const TOOLTIPS_CHANGED_EVENT_ID = \"tooltips-changed\";\nexport const NO_DESCRIPTION = \"no description\";\n\nexport interface Tooltips {\n    [key: string]: string;\n}\n\nexport interface TooltipServiceSubscriber {\n    onTooltipsChanged(tooltips: Tooltips, event: Event)\n}\n\n/**\n * Return tooltips containing descriptions\n */\nclass TooltipService {\n\n    public static SELECTOR = \"tooltipService\";\n\n    private _tooltips: Tooltips;\n\n    /* @ngInject */\n    constructor(private $rootScope) {\n        this.tooltips = require(\"./tooltips.json\");\n    }\n\n    public subscribe(subscriber: TooltipServiceSubscriber) {\n        this.$rootScope.$on(TOOLTIPS_CHANGED_EVENT_ID, (event, data) => {\n            subscriber.onTooltipsChanged(data, event);\n        });\n    }\n\n    get tooltips(): Tooltips {\n        return this._tooltips;\n    }\n\n    set tooltips(value: Tooltips) {\n        this._tooltips = value;\n        this.$rootScope.$broadcast(TOOLTIPS_CHANGED_EVENT_ID, this._tooltips);\n    }\n\n    /**\n     * returns the tooltip description related to the given key\n     * @param {String} key\n     * @returns {String} the description related to the given key\n     */\n    public getTooltipTextByKey(key: string) {\n\n        //noinspection TypeScriptUnresolvedFunction\n        /**\n         * This RegExp describes any set of zero or more\n         * non-whitespace symbols between \"_\"\n         * @type {RegExp}\n         */\n        const patt = new RegExp(/_\\S*_/);\n\n        if (this._tooltips[key]) {\n\n            var res = this._tooltips[key];\n\n\n            /**\n             * Any value between \"_\" Symbols is substituted by its description\n             */\n            while (patt.test(res)) {\n                res = res.replace(/_(.*?)_/, this.replaceString.bind(this));\n            }\n            return res;\n\n        } else {\n            return NO_DESCRIPTION;\n        }\n\n    }\n\n    /**\n     * Function used for recursiveness with getTooltipTexByKey\n     * @param {String} match matched string\n     * @param {String} p1 first regex group\n     * @returns {String}\n     */\n    replaceString(match, p1) {\n        return this.getTooltipTextByKey(p1);\n    }\n\n}\n\nexport {TooltipService};\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f41dbd3a8cbee71cb303ab818e286b2b149e52e9"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/treemap/treemap.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/treemap/treemap.module.ts","statementMap":{"0":{"start":{"line":5,"column":0},"end":{"line":5,"column":76}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}}},"fnMap":{},"branchMap":{},"s":{"0":2,"1":2},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"treemap.module.js","sourceRoot":"","sources":["treemap.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,qBAAqB,CAAC;AAC7B,OAAO,EAAC,cAAc,EAAC,MAAM,mBAAmB,CAAC;AAEjD,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,CAAC,0BAA0B,CAAC,CAAC,CAAC;AAE5E,OAAO,CAAC,MAAM,CAAC,6BAA6B,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC","sourcesContent":["\"use strict\";\n\nimport angular from \"angular\";\n\nimport \"../data/data.module\";\nimport {TreeMapService} from \"./treemap.service\";\n\nangular.module(\"app.codeCharta.core.treemap\", [\"app.codeCharta.core.data\"]);\n\nangular.module(\"app.codeCharta.core.treemap\").service(TreeMapService.SELECTOR, TreeMapService);\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"e786524cf477197d82c80e1ba570ff26128f74f9"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/treemap/treemap.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/treemap/treemap.service.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":8,"column":39}},"1":{"start":{"line":21,"column":22},"end":{"line":23,"column":28}},"2":{"start":{"line":24,"column":19},"end":{"line":24,"column":37}},"3":{"start":{"line":25,"column":8},"end":{"line":27,"column":11}},"4":{"start":{"line":26,"column":12},"end":{"line":26,"column":29}},"5":{"start":{"line":28,"column":8},"end":{"line":30,"column":11}},"6":{"start":{"line":29,"column":12},"end":{"line":29,"column":28}},"7":{"start":{"line":31,"column":20},"end":{"line":31,"column":90}},"8":{"start":{"line":31,"column":47},"end":{"line":31,"column":74}},"9":{"start":{"line":32,"column":24},"end":{"line":32,"column":66}},"10":{"start":{"line":33,"column":26},"end":{"line":33,"column":39}},"11":{"start":{"line":34,"column":8},"end":{"line":36,"column":11}},"12":{"start":{"line":35,"column":12},"end":{"line":35,"column":64}},"13":{"start":{"line":37,"column":8},"end":{"line":37,"column":21}},"14":{"start":{"line":52,"column":8},"end":{"line":52,"column":52}},"15":{"start":{"line":53,"column":8},"end":{"line":53,"column":53}},"16":{"start":{"line":54,"column":8},"end":{"line":54,"column":97}},"17":{"start":{"line":55,"column":8},"end":{"line":55,"column":44}},"18":{"start":{"line":56,"column":8},"end":{"line":56,"column":58}},"19":{"start":{"line":57,"column":8},"end":{"line":57,"column":47}},"20":{"start":{"line":58,"column":8},"end":{"line":58,"column":35}},"21":{"start":{"line":59,"column":8},"end":{"line":64,"column":9}},"22":{"start":{"line":60,"column":12},"end":{"line":60,"column":43}},"23":{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},"24":{"start":{"line":62,"column":16},"end":{"line":62,"column":77}},"25":{"start":{"line":65,"column":8},"end":{"line":65,"column":35}},"26":{"start":{"line":66,"column":8},"end":{"line":66,"column":39}},"27":{"start":{"line":67,"column":8},"end":{"line":67,"column":23}},"28":{"start":{"line":68,"column":8},"end":{"line":68,"column":25}},"29":{"start":{"line":76,"column":23},"end":{"line":76,"column":24}},"30":{"start":{"line":77,"column":8},"end":{"line":84,"column":11}},"31":{"start":{"line":78,"column":24},"end":{"line":78,"column":55}},"32":{"start":{"line":79,"column":12},"end":{"line":83,"column":15}},"33":{"start":{"line":80,"column":16},"end":{"line":82,"column":17}},"34":{"start":{"line":81,"column":20},"end":{"line":81,"column":60}},"35":{"start":{"line":85,"column":8},"end":{"line":85,"column":24}},"36":{"start":{"line":95,"column":21},"end":{"line":95,"column":22}},"37":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"38":{"start":{"line":97,"column":12},"end":{"line":97,"column":51}},"39":{"start":{"line":99,"column":8},"end":{"line":99,"column":22}},"40":{"start":{"line":102,"column":0},"end":{"line":102,"column":43}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":29},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":58},"end":{"line":38,"column":5}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":35},"end":{"line":25,"column":36}},"loc":{"start":{"line":25,"column":42},"end":{"line":27,"column":9}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":30},"end":{"line":28,"column":31}},"loc":{"start":{"line":28,"column":37},"end":{"line":30,"column":9}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":37},"end":{"line":31,"column":38}},"loc":{"start":{"line":31,"column":47},"end":{"line":31,"column":74}},"line":31},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":22},"end":{"line":34,"column":23}},"loc":{"start":{"line":34,"column":32},"end":{"line":36,"column":9}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":62},"end":{"line":69,"column":5}},"line":51},"7":{"name":"(anonymous_7)","decl":{"start":{"line":75,"column":4},"end":{"line":75,"column":5}},"loc":{"start":{"line":75,"column":39},"end":{"line":86,"column":5}},"line":75},"8":{"name":"(anonymous_8)","decl":{"start":{"line":77,"column":48},"end":{"line":77,"column":49}},"loc":{"start":{"line":77,"column":57},"end":{"line":84,"column":9}},"line":77},"9":{"name":"(anonymous_9)","decl":{"start":{"line":79,"column":26},"end":{"line":79,"column":27}},"loc":{"start":{"line":79,"column":36},"end":{"line":83,"column":13}},"line":79},"10":{"name":"(anonymous_10)","decl":{"start":{"line":94,"column":4},"end":{"line":94,"column":5}},"loc":{"start":{"line":94,"column":27},"end":{"line":100,"column":5}},"line":94}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":27}},"type":"binary-expr","locations":[{"start":{"line":23,"column":21},"end":{"line":23,"column":22}},{"start":{"line":23,"column":26},"end":{"line":23,"column":27}}],"line":23},"1":{"loc":{"start":{"line":54,"column":22},"end":{"line":54,"column":96}},"type":"cond-expr","locations":[{"start":{"line":54,"column":36},"end":{"line":54,"column":81}},{"start":{"line":54,"column":84},"end":{"line":54,"column":96}}],"line":54},"2":{"loc":{"start":{"line":59,"column":8},"end":{"line":64,"column":9}},"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":64,"column":9}},{"start":{"line":59,"column":8},"end":{"line":64,"column":9}}],"line":59},"3":{"loc":{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},{"start":{"line":61,"column":12},"end":{"line":63,"column":13}}],"line":61},"4":{"loc":{"start":{"line":80,"column":16},"end":{"line":82,"column":17}},"type":"if","locations":[{"start":{"line":80,"column":16},"end":{"line":82,"column":17}},{"start":{"line":80,"column":16},"end":{"line":82,"column":17}}],"line":80},"5":{"loc":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},{"start":{"line":96,"column":8},"end":{"line":98,"column":9}}],"line":96},"6":{"loc":{"start":{"line":96,"column":12},"end":{"line":96,"column":77}},"type":"binary-expr","locations":[{"start":{"line":96,"column":12},"end":{"line":96,"column":27}},{"start":{"line":96,"column":32},"end":{"line":96,"column":46}},{"start":{"line":96,"column":50},"end":{"line":96,"column":76}}],"line":96},"7":{"loc":{"start":{"line":97,"column":21},"end":{"line":97,"column":50}},"type":"binary-expr","locations":[{"start":{"line":97,"column":21},"end":{"line":97,"column":45}},{"start":{"line":97,"column":49},"end":{"line":97,"column":50}}],"line":97}},"s":{"0":16,"1":1,"2":1,"3":1,"4":5,"5":1,"6":3,"7":1,"8":5,"9":1,"10":1,"11":1,"12":5,"13":1,"14":9,"15":9,"16":9,"17":9,"18":9,"19":9,"20":9,"21":9,"22":4,"23":4,"24":0,"25":9,"26":9,"27":9,"28":9,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":1,"36":8,"37":8,"38":5,"39":8,"40":2},"f":{"0":16,"1":1,"2":5,"3":3,"4":5,"5":5,"6":9,"7":1,"8":0,"9":0,"10":8},"b":{"0":[1,0],"1":[6,3],"2":[4,5],"3":[0,4],"4":[0,0],"5":[5,3],"6":[8,5,4],"7":[5,2]},"inputSourceMap":{"version":3,"file":"treemap.service.js","sourceRoot":"","sources":["treemap.service.ts"],"names":[],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\nimport {DataService} from \"../data/data.service\";\nimport {CodeMap, CodeMapNode} from \"../data/model/CodeMap\";\nimport {HierarchyNode} from \"d3-hierarchy\";\nimport {node} from \"../../codeMap/rendering/node\";\n\n/**\n * This service transforms valid file data to a custom treemap. Our custom treemap has a 3rd axis added to the nodes.\n */\nclass TreeMapService {\n\n    public static SELECTOR = \"treeMapService\";\n\n    /* @ngInject */\n    constructor(private dataService: DataService) {\n    }\n\n    /**\n     * creates an array of fully transformed/customized and visible {d3#treemap} nodes.\n     * @external {d3#treemap} https://github.com/d3/d3-hierarchy/blob/master/README.md#treemap\n     * @param {Object} data valid data\n     * @param {number} w treemap width for calculation\n     * @param {number} l treemap length for calculation\n     * @param {number} p padding between treemap squares\n     * @param {string} areaKey area metric name\n     * @param {string} heightKey height metric name\n     */\n    createTreemapNodes(\n        data: CodeMapNode,\n        w: number,\n        l: number,\n        p: number,\n        areaKey: string,\n        heightKey: string\n    ) {\n\n        let treeMap = d3.treemap()\n            .size([w, l])\n            .padding(p || 1);\n\n        let root = d3.hierarchy(data);\n\n        root.descendants().forEach((l: any)=> {\n            l.isLeaf = false;\n        });\n\n        root.leaves().forEach((l: any)=> {\n            l.isLeaf = true;\n        });\n\n        let nodes = treeMap(root.sum((node)=>this.getArea(node, areaKey))).descendants();\n\n        let maxHeight = this.getMaxMetricInAllRevisions(heightKey);\n        let heightScale = w / maxHeight;\n\n        nodes.forEach((node)=> {\n            this.transformNode(node, heightKey, heightScale, 2);\n        });\n\n        return nodes;\n    }\n\n    /**\n     * Transforms a d3 node to our specific representation. Our specification requires a third axis z.\n     * -add z0 and z1 depending on treedepth and padding\n     * -add w,l,h depending on data.type and x, y\n     * -all we also write all important stuff into the node itself so we do not need node.data anymore (there could be obsolete data from old cc.jsons)\n     * -the height of the new z axis needs to be scaled to the w/l of the {d3#treemap}\n     *\n     * @param {Object} node d3 node\n     * @param {string} heightKey name of the height metric\n     * @param {number} heightScale scaling factor\n     * @param {number} folderHeight height of folder\n     */\n    private transformNode(node, heightKey, heightScale, folderHeight) {\n\n        node.width = Math.max(node.x1 - node.x0, 1);\n        node.length = Math.max(node.y1 - node.y0, 1);\n        node.height = node.isLeaf ? heightScale * node.data.attributes[heightKey] : folderHeight;\n        node.z0 = folderHeight * node.depth;\n        node.z1 = folderHeight * node.depth + node.height;\n        node.attributes = node.data.attributes;\n        node.name = node.data.name;\n        if (node.data.deltas) {\n            node.deltas = node.data.deltas;\n            if(node.deltas[heightKey]) {\n                node.heightDelta = heightScale * node.data.deltas[heightKey];\n            }\n        }\n        node.link = node.data.link;\n        node.origin = node.data.origin;\n\n        node.data = {};\n        delete node.data;\n\n    }\n\n    /**\n     * Gets the biggest value of a metric in the current set of revisions\n     * @param {string} metric name of the metric\n     * @returns {number} max value\n     */\n    getMaxMetricInAllRevisions(metric: string) {\n        var maxValue = 0;\n\n        this.dataService.data.revisions.forEach((rev)=> {\n            var nodes = d3.hierarchy(rev.root).leaves();\n            nodes.forEach((node: any)=> {\n                if (node.data.attributes[metric] > maxValue) {\n                    maxValue = node.data.attributes[metric];\n                }\n            });\n        });\n\n        return maxValue;\n    }\n\n    /**\n     * Extracts the area by areakey from the node.\n     *\n     * @param {Object} node d3 node\n     * @param {string} areaKey name of the area attribute key\n     * @returns {number} area value else 0\n     */\n    getArea(node, areaKey) {\n        let result = 0;\n        if (node.attributes && (!node.children || node.children.length === 0)) {\n            result = node.attributes[areaKey] || 0;\n        }\n        return result;\n    }\n\n}\n\nexport {TreeMapService};\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"6aebffb59c701e8b3968daacbc6a5fd5489d0ce1"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/url/url.mocks.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/url/url.mocks.ts","statementMap":{"0":{"start":{"line":1,"column":31},"end":{"line":31,"column":1}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"url.mocks.js","sourceRoot":"","sources":["url.mocks.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,MAAM,eAAe,GAAY;IACpC,QAAQ,EAAE,MAAM;IAChB,WAAW,EAAE,SAAS;IACtB,IAAI,EAAE;QACF,MAAM,EAAE,MAAM;QACd,YAAY,EAAE,EAAE;QAChB,UAAU,EAAE;YACR;gBACI,MAAM,EAAE,UAAU;gBAClB,YAAY,EAAE,EAAC,MAAM,EAAE,GAAG,EAAE,WAAW,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAC;gBACtD,MAAM,EAAE,sBAAsB;aACjC;YACD;gBACI,MAAM,EAAE,aAAa;gBACrB,YAAY,EAAE,EAAE;gBAChB,UAAU,EAAE;oBACR;wBACI,MAAM,EAAE,YAAY;wBACpB,YAAY,EAAE,EAAC,MAAM,EAAE,EAAE,EAAE,WAAW,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAC;wBACxD,UAAU,EAAE,EAAE;qBACjB;oBACD;wBACI,MAAM,EAAE,kBAAkB;wBAC1B,YAAY,EAAE,EAAC,MAAM,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAC;wBACxD,UAAU,EAAE,EAAE;qBACjB;iBACJ;aACJ;SACJ;KACJ;CACJ,CAAC","sourcesContent":["import {CodeMap} from \"../data/model/CodeMap\";\n\nexport const VALID_TEST_DATA: CodeMap = {\n    fileName: \"file\",\n    projectName: \"project\",\n    root: {\n        \"name\": \"root\",\n        \"attributes\": {},\n        \"children\": [\n            {\n                \"name\": \"big leaf\",\n                \"attributes\": {\"rloc\": 100, \"functions\": 10, \"mcc\": 1},\n                \"link\": \"http://www.google.de\"\n            },\n            {\n                \"name\": \"Parent Leaf\",\n                \"attributes\": {},\n                \"children\": [\n                    {\n                        \"name\": \"small leaf\",\n                        \"attributes\": {\"rloc\": 30, \"functions\": 100, \"mcc\": 100},\n                        \"children\": []\n                    },\n                    {\n                        \"name\": \"other small leaf\",\n                        \"attributes\": {\"rloc\": 70, \"functions\": 1000, \"mcc\": 10},\n                        \"children\": []\n                    }\n                ]\n            }\n        ]\n    }\n};\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1d8c8fee52e7618e8e0fd7887197f89139e80bbf"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/url/url.module.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/url/url.module.ts","statementMap":{"0":{"start":{"line":4,"column":0},"end":{"line":4,"column":87}}},"fnMap":{},"branchMap":{},"s":{"0":8},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"url.module.js","sourceRoot":"","sources":["url.module.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,EAAC,UAAU,EAAC,MAAM,eAAe,CAAC;AAEzC,OAAO,CAAC,MAAM,CACV,yBAAyB,EACzB,EAAE,CACL,CAAC,OAAO,CACL,UAAU,CAAC,QAAQ,EACnB,UAAU,CACb,CAAC","sourcesContent":["\"use strict\";\n\nimport angular from \"angular\";\n\nimport {UrlService} from \"./url.service\";\n\nangular.module(\n    \"app.codeCharta.core.url\",\n    []\n).service(\n    UrlService.SELECTOR,\n    UrlService\n);"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"75dd8c05fa268297270885e99ac22a9c69cb7cff"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/url/url.service.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/core/url/url.service.ts","statementMap":{"0":{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},"1":{"start":{"line":9,"column":8},"end":{"line":9,"column":27}},"2":{"start":{"line":17,"column":8},"end":{"line":17,"column":44}},"3":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"4":{"start":{"line":27,"column":12},"end":{"line":27,"column":32}},"5":{"start":{"line":29,"column":8},"end":{"line":29,"column":47}},"6":{"start":{"line":30,"column":20},"end":{"line":30,"column":67}},"7":{"start":{"line":30,"column":79},"end":{"line":30,"column":94}},"8":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"9":{"start":{"line":32,"column":12},"end":{"line":32,"column":24}},"10":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"11":{"start":{"line":35,"column":12},"end":{"line":35,"column":22}},"12":{"start":{"line":37,"column":8},"end":{"line":37,"column":66}},"13":{"start":{"line":44,"column":8},"end":{"line":44,"column":39}},"14":{"start":{"line":51,"column":8},"end":{"line":54,"column":11}},"15":{"start":{"line":52,"column":24},"end":{"line":52,"column":45}},"16":{"start":{"line":53,"column":12},"end":{"line":53,"column":66}},"17":{"start":{"line":61,"column":8},"end":{"line":78,"column":11}},"18":{"start":{"line":62,"column":12},"end":{"line":77,"column":13}},"19":{"start":{"line":63,"column":16},"end":{"line":73,"column":19}},"20":{"start":{"line":64,"column":20},"end":{"line":70,"column":21}},"21":{"start":{"line":65,"column":24},"end":{"line":65,"column":73}},"22":{"start":{"line":66,"column":24},"end":{"line":66,"column":47}},"23":{"start":{"line":69,"column":24},"end":{"line":69,"column":33}},"24":{"start":{"line":72,"column":20},"end":{"line":72,"column":29}},"25":{"start":{"line":76,"column":16},"end":{"line":76,"column":25}},"26":{"start":{"line":81,"column":0},"end":{"line":81,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":34},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":18},"end":{"line":18,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":34},"end":{"line":38,"column":5}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":4},"end":{"line":43,"column":5}},"loc":{"start":{"line":43,"column":13},"end":{"line":45,"column":5}},"line":43},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":32},"end":{"line":55,"column":5}},"line":50},"5":{"name":"(anonymous_5)","decl":{"start":{"line":51,"column":27},"end":{"line":51,"column":28}},"loc":{"start":{"line":51,"column":48},"end":{"line":54,"column":9}},"line":51},"6":{"name":"(anonymous_6)","decl":{"start":{"line":60,"column":4},"end":{"line":60,"column":5}},"loc":{"start":{"line":60,"column":30},"end":{"line":79,"column":5}},"line":60},"7":{"name":"(anonymous_7)","decl":{"start":{"line":61,"column":27},"end":{"line":61,"column":28}},"loc":{"start":{"line":61,"column":48},"end":{"line":78,"column":9}},"line":61},"8":{"name":"(anonymous_8)","decl":{"start":{"line":63,"column":42},"end":{"line":63,"column":43}},"loc":{"start":{"line":63,"column":62},"end":{"line":71,"column":17}},"line":63},"9":{"name":"(anonymous_9)","decl":{"start":{"line":71,"column":19},"end":{"line":71,"column":20}},"loc":{"start":{"line":71,"column":31},"end":{"line":73,"column":17}},"line":71}},"branchMap":{"0":{"loc":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},{"start":{"line":26,"column":8},"end":{"line":28,"column":9}}],"line":26},"1":{"loc":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},{"start":{"line":31,"column":8},"end":{"line":33,"column":9}}],"line":31},"2":{"loc":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},{"start":{"line":34,"column":8},"end":{"line":36,"column":9}}],"line":34},"3":{"loc":{"start":{"line":62,"column":12},"end":{"line":77,"column":13}},"type":"if","locations":[{"start":{"line":62,"column":12},"end":{"line":77,"column":13}},{"start":{"line":62,"column":12},"end":{"line":77,"column":13}}],"line":62},"4":{"loc":{"start":{"line":62,"column":16},"end":{"line":62,"column":39}},"type":"binary-expr","locations":[{"start":{"line":62,"column":16},"end":{"line":62,"column":20}},{"start":{"line":62,"column":24},"end":{"line":62,"column":39}}],"line":62},"5":{"loc":{"start":{"line":64,"column":20},"end":{"line":70,"column":21}},"type":"if","locations":[{"start":{"line":64,"column":20},"end":{"line":70,"column":21}},{"start":{"line":64,"column":20},"end":{"line":70,"column":21}}],"line":64}},"s":{"0":11,"1":11,"2":2,"3":12,"4":7,"5":12,"6":12,"7":12,"8":12,"9":4,"10":8,"11":0,"12":8,"13":8,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":0,"24":0,"25":0,"26":8},"f":{"0":11,"1":2,"2":12,"3":8,"4":2,"5":2,"6":2,"7":2,"8":2,"9":0},"b":{"0":[7,5],"1":[4,8],"2":[0,8],"3":[2,0],"4":[2,2],"5":[2,0]},"inputSourceMap":{"version":3,"file":"url.service.js","sourceRoot":"","sources":["url.service.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAGb;;GAEG;AACH,MAAM;IAIF,eAAe;IACf,YAAoB,SAA2B,EAAU,KAAmB;QAAxD,cAAS,GAAT,SAAS,CAAkB;QAAU,UAAK,GAAL,KAAK,CAAc;IAC5E,CAAC;IAED;;;;OAIG;IACI,QAAQ,CAAC,GAAW;QACvB,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;IACxC,CAAC;IAED;;;;;OAKG;IACI,kBAAkB,CAAC,IAAY,EAAE,GAAY;QAChD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACP,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC;QACD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QACvC,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,GAAG,mBAAmB,CAAC,EACvD,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC9B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACX,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,MAAM,CAAC,EAAE,CAAC;QACd,CAAC;QACD,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;IAC9D,CAAC;IAED;;;OAGG;IACI,MAAM;QACT,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;IACnC,CAAC;IAED;;;OAGG;IACI,yBAAyB;QAE5B,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACnC,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAClC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IAEP,CAAC;IAED;;;OAGG;IACI,mBAAmB,CAAC,IAAY;QAEnC,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAEnC,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CACrB,UAAU,QAA+B;oBACrC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;wBAC1B,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC;wBAC/C,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBAC3B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,MAAM,EAAE,CAAC;oBACb,CAAC;gBACL,CAAC,EAAE;oBACC,MAAM,EAAE,CAAC;gBACb,CAAC,CACJ,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,EAAE,CAAC;YACb,CAAC;QAEL,CAAC,CAAC,CAAC;IAEP,CAAC;;AArFa,mBAAQ,GAAG,YAAY,CAAC","sourcesContent":["\"use strict\";\nimport {ILocationService, IHttpService, IHttpResponse} from \"angular\";\n\n/**\n * This service offers an application specific url API.\n */\nexport class UrlService {\n\n    public static SELECTOR = \"urlService\";\n\n    /* @ngInject */\n    constructor(private $location: ILocationService, private $http: IHttpService) {\n    }\n\n    /**\n     * returns an url parameter value by its key.\n     * @param {string} key\n     * @returns {string} url parameter value\n     */\n    public getParam(key: string): string {\n        return this.getParameterByName(key);\n    }\n\n    /**\n     * returns an url parameter value by its name/key.\n     * @param {string} name\n     * @param {string} [url=current location]\n     * @returns {string} url parameter value\n     */\n    public getParameterByName(name: string, url?: string): string {\n        if (!url) {\n            url = this.getUrl();\n        }\n        name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n        let regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n            results = regex.exec(url);\n        if (!results) {\n            return null;\n        }\n        if (!results[2]) {\n            return \"\";\n        }\n        return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n    }\n\n    /**\n     * returns the current locations url\n     * @returns {string} url\n     */\n    public getUrl(): string {\n        return this.$location.absUrl();\n    }\n\n    /**\n     * returns the files content specified in the 'file' url parameter\n     * @returns {Promise} which returns the files content on resolution\n     */\n    public getFileDataFromQueryParam(): Promise<Object> {\n\n        return new Promise((resolve, reject) => {\n            var param = this.getParam(\"file\");\n            this.getFileDataFromFile(param).then(resolve, reject);\n        });\n\n    }\n\n    /**\n     * returns the files content specified in the 'file' parameter\n     * @returns {Promise} which returns the files content on resolution\n     */\n    public getFileDataFromFile(file: string): Promise<Object> {\n\n        return new Promise((resolve, reject) => {\n\n            if (file && file.length > 0) {\n                this.$http.get(file).then(\n                    function (response: IHttpResponse<Object>) {\n                        if (response.status === 200) {\n                            Object.assign(response.data, {fileName: file});\n                            resolve(response.data);\n                        } else {\n                            reject();\n                        }\n                    }, function () {\n                        reject();\n                    }\n                );\n            } else {\n                reject();\n            }\n\n        });\n\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9f9f82e0c8fd9e0cb41aa7cafe57a441d081ac55"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/checkbox.directive.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/checkbox.directive.ts","statementMap":{"0":{"start":{"line":6,"column":8},"end":{"line":6,"column":201}},"1":{"start":{"line":7,"column":8},"end":{"line":11,"column":10}},"2":{"start":{"line":12,"column":8},"end":{"line":12,"column":28}},"3":{"start":{"line":18,"column":8},"end":{"line":22,"column":11}},"4":{"start":{"line":19,"column":12},"end":{"line":19,"column":31}},"5":{"start":{"line":21,"column":12},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":13,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":16},"end":{"line":23,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":21},"end":{"line":18,"column":22}},"loc":{"start":{"line":18,"column":27},"end":{"line":20,"column":9}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":11},"end":{"line":20,"column":12}},"loc":{"start":{"line":20,"column":17},"end":{"line":22,"column":9}},"line":20}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1},"f":{"0":1,"1":1,"2":2,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"checkbox.directive.js","sourceRoot":"","sources":["checkbox.directive.ts"],"names":[],"mappings":"AAEA;;GAEG;AACH;IAUI;QARA,aAAQ,GAAW,gLAAgL,CAAC;QACpM,UAAK,GAAQ;YACT,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;SACd,CAAC;QACF,aAAQ,GAAW,GAAG,CAAC;IAER,CAAC;IAEhB;;OAEG;IACH,IAAI,CAAC,KAAK;QACN,KAAK,CAAC,MAAM,CACR,GAAE,EAAE;YACA,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;QACvB,CAAC,EACD,GAAE,EAAE;YACA,KAAK,CAAC,MAAM,EAAE,CAAC;QACnB,CAAC,CACJ,CAAC;IACN,CAAC;CAEJ;AAED,OAAO,EAAC,iBAAiB,EAAC,CAAC","sourcesContent":["import {IDirective} from \"angular\";\n\n/**\n * A simple checkbox customized for CodeCharta. Watches for model changes and calls the bound change-function\n */\nclass CheckboxDirective implements IDirective{\n\n    template: string = \"<div class='input-field col s12'><input type='checkbox' ng-model='model' id='checkbox-directive-{{::$id}}'><label for='checkbox-directive-{{::$id}}'>{{::label}}</label></div>\";\n    scope: any = {\n        model: \"=\",\n        label: \"@\",\n        change: \"&\"\n    };\n    restrict: string = \"E\";\n\n    constructor() {}\n\n    /**\n     * Watches model changes and links the change function to it.\n     */\n    link(scope) {\n        scope.$watch(\n            ()=> {\n                return scope.model;\n            },\n            ()=> {\n                scope.change();\n            }\n        );\n    }\n\n}\n\nexport {CheckboxDirective};\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"1a0a4d8b054dd7092f5ac69aadc8d318a5ebbeb1"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/collapsible.directive.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/collapsible.directive.ts","statementMap":{"0":{"start":{"line":6,"column":8},"end":{"line":6,"column":28}},"1":{"start":{"line":7,"column":8},"end":{"line":7,"column":24}},"2":{"start":{"line":8,"column":8},"end":{"line":8,"column":28}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":31}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":99}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":11,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"collapsible.directive.js","sourceRoot":"","sources":["collapsible.directive.ts"],"names":[],"mappings":"AAEA;;GAEG;AACH,MAAM;IAQF;QANA,aAAQ,GAAG,GAAG,CAAC;QACf,UAAK,GAAG,EAAE,CAAC;QACX,YAAO,GAAG,IAAI,CAAC;QACf,eAAU,GAAG,IAAI,CAAC;QAClB,aAAQ,GAAG,0EAA0E,CAAC;IAEvE,CAAC;CAEnB","sourcesContent":["import {IDirective} from \"angular\";\n\n/**\n * Container for {CollapsibleElementDirective}. Inner elements do not replace this. They are put inside the ng-transclude tag.\n */\nexport class CollapsibleDirective implements IDirective{\n\n    restrict = \"E\";\n    scope = {};\n    replace = true;\n    transclude = true;\n    template = \"<ul class='collapsible' data-collapsible='accordion' ng-transclude></ul>\";\n\n    constructor() {}\n\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"19a291be2404ad9f0bad5994de263b4a0d973ca1"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/collapsible.element.directive.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/collapsible.element.directive.ts","statementMap":{"0":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"1":{"start":{"line":7,"column":8},"end":{"line":7,"column":33}},"2":{"start":{"line":8,"column":8},"end":{"line":8,"column":28}},"3":{"start":{"line":9,"column":8},"end":{"line":12,"column":10}},"4":{"start":{"line":13,"column":8},"end":{"line":13,"column":28}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":31}},"6":{"start":{"line":15,"column":8},"end":{"line":22,"column":20}},"7":{"start":{"line":29,"column":20},"end":{"line":29,"column":24}},"8":{"start":{"line":30,"column":8},"end":{"line":38,"column":11}},"9":{"start":{"line":33,"column":16},"end":{"line":36,"column":19}},"10":{"start":{"line":35,"column":20},"end":{"line":35,"column":69}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":38},"end":{"line":23,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":11},"end":{"line":39,"column":5}},"line":27},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":20},"end":{"line":32,"column":21}},"loc":{"start":{"line":32,"column":32},"end":{"line":37,"column":13}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":33,"column":29},"end":{"line":33,"column":30}},"loc":{"start":{"line":33,"column":41},"end":{"line":36,"column":17}},"line":33}},"branchMap":{},"s":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"f":{"0":0,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"collapsible.element.directive.js","sourceRoot":"","sources":["collapsible.element.directive.ts"],"names":[],"mappings":"AAOA;;GAEG;AACH,MAAM;IAmBF,YAAoB,UAAU,EAAU,QAAQ;QAA5B,eAAU,GAAV,UAAU,CAAA;QAAU,aAAQ,GAAR,QAAQ,CAAA;QAjBhD,aAAQ,GAAG,GAAG,CAAC;QACd,UAAK,GAAG;YACL,SAAS,EAAE,YAAY;YACvB,KAAK,EAAC,GAAG;SACZ,CAAC;QAEF,YAAO,GAAG,IAAI,CAAC;QACf,eAAU,GAAG,IAAI,CAAC;QAClB,aAAQ,GAAG,QAAQ;YACf,+FAA+F;YAC/F,wCAAwC;YACxC,6CAA6C;YAC7C,wCAAwC;YACxC,kBAAkB;YAClB,cAAc;YACd,OAAO,CAAC;IAEuC,CAAC;IAEpD;;OAEG;IACH,IAAI;QACA,kBAAkB;QAClB,MAAM,GAAG,GAAG,IAAI,CAAC;QAChB,CAAC,CAAC,6BAA6B,CAAS,CAAC,WAAW,CAAC;YAClD,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE;gBAAa,GAAG,CAAC,QAAQ,CAAC;oBAC9B,4KAA4K;oBAC5K,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,qBAAqB,CAAC,CAAC;gBACrD,CAAC,CAAC,CAAC;YAAC,CAAC;SACR,CAAC,CAAC;IACP,CAAC;CAEJ","sourcesContent":["import {IDirective} from \"angular\";\n\n/*\n * TODO find a better approach with shims or globals. At this moment $ is loaded in app and after that decorated by materialize.\n */\ndeclare function $(arg: any): any;\n\n/**\n * Collapsible element. Should be put inside a {@link CollapsibleDirective}.\n */\nexport class CollapsibleElementDirective implements IDirective{\n\n    restrict = \"E\";\n     scope = {\n        iconClass: \"@iconClass\",\n        label:\"@\"\n    };\n\n    replace = true;\n    transclude = true;\n    template = \"<li>\\n\" +\n        \"    <div class=\\\"collapsible-header\\\"><i class=\\\"fa {{::iconClass}}\\\"></i>{{::label}}</div>\\n\" +\n        \"    <div class=\\\"collapsible-body\\\">\\n\" +\n        \"        <div class=\\\"row\\\" ng-transclude>\\n\" +\n        \"          <!--transcluded content-->\\n\" +\n        \"        </div>\\n\" +\n        \"    </div>\\n\" +\n        \"</li>\";\n\n    constructor(private $rootScope, private $timeout) {}\n\n    /**\n     * calls the materialize function collapsible(...) on the collapsible element. This is needed to initialize the functionality.\n     */\n    link() {\n        //needs to be done\n        const ctx = this;\n        ($(\"#settingsPanel .collapsible\") as any).collapsible({\n            accordion: false,\n            onOpen: function() { ctx.$timeout(function () {\n                //This forces to rerender all rzsliders in this collapsible element. rz sliders do not automatically recognize collapse events from materialize therefore this is nessecary.\n                ctx.$rootScope.$broadcast(\"rzSliderForceRender\");\n            }); }\n        });\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"4551f8d76a51f8c5cd1071ac12924caa5f7b20b7"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/common.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/common.ts","statementMap":{"0":{"start":{"line":11,"column":0},"end":{"line":19,"column":67}},"1":{"start":{"line":13,"column":42},"end":{"line":13,"column":65}},"2":{"start":{"line":14,"column":72},"end":{"line":14,"column":125}},"3":{"start":{"line":15,"column":45},"end":{"line":15,"column":71}},"4":{"start":{"line":16,"column":40},"end":{"line":16,"column":61}},"5":{"start":{"line":17,"column":45},"end":{"line":17,"column":71}},"6":{"start":{"line":19,"column":42},"end":{"line":19,"column":65}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":36},"end":{"line":13,"column":37}},"loc":{"start":{"line":13,"column":42},"end":{"line":13,"column":65}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":46},"end":{"line":14,"column":47}},"loc":{"start":{"line":14,"column":72},"end":{"line":14,"column":125}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":39},"end":{"line":15,"column":40}},"loc":{"start":{"line":15,"column":45},"end":{"line":15,"column":71}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":34},"end":{"line":16,"column":35}},"loc":{"start":{"line":16,"column":40},"end":{"line":16,"column":61}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":17,"column":39},"end":{"line":17,"column":40}},"loc":{"start":{"line":17,"column":45},"end":{"line":17,"column":71}},"line":17},"5":{"name":"(anonymous_5)","decl":{"start":{"line":19,"column":36},"end":{"line":19,"column":37}},"loc":{"start":{"line":19,"column":42},"end":{"line":19,"column":65}},"line":19}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":1},"f":{"0":1,"1":0,"2":1,"3":1,"4":1,"5":1},"b":{},"inputSourceMap":{"version":3,"file":"common.js","sourceRoot":"","sources":["common.ts"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,EAAC,YAAY,EAAC,MAAM,iBAAiB,CAAC;AAC7C,OAAO,EAAC,iBAAiB,EAAC,MAAM,sBAAsB,CAAC;AACvD,OAAO,EAAC,oBAAoB,EAAC,MAAM,yBAAyB,CAAC;AAC7D,OAAO,EAAC,eAAe,EAAC,MAAM,oBAAoB,CAAC;AACnD,OAAO,EAAC,oBAAoB,EAAC,MAAM,yBAAyB,CAAC;AAC7D,OAAO,EAAC,2BAA2B,EAAC,MAAM,iCAAiC,CAAC;AAC5E,OAAO,EAAC,kBAAkB,EAAC,MAAM,uBAAuB,CAAC;AACzD,OAAO,EAAC,iBAAiB,EAAC,MAAM,sBAAsB,CAAC;AAEvD,OAAO,mCAAmC,CAAC;AAE3C,OAAO,CAAC,MAAM,CAAC,0BAA0B,EAAE,CAAC,6BAA6B,CAAC,CAAC;KACtE,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,YAAY,CAAC;KAC9C,SAAS,CAAC,mBAAmB,EAAE,GAAG,EAAE,CAAC,IAAI,iBAAiB,EAAE,CAAC;KAC7D,SAAS,CAAC,6BAA6B,EAAE,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,2BAA2B,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;KACzH,SAAS,CAAC,sBAAsB,EAAE,GAAG,EAAE,CAAC,IAAI,oBAAoB,EAAE,CAAC;KACnE,SAAS,CAAC,iBAAiB,EAAE,GAAG,EAAE,CAAC,IAAI,eAAe,EAAE,CAAC;KACzD,SAAS,CAAC,sBAAsB,EAAE,GAAG,EAAE,CAAC,IAAI,oBAAoB,EAAE,CAAC;KACnE,UAAU,CAAC,oBAAoB,EAAE,kBAAkB,CAAC;KACpD,SAAS,CAAC,mBAAmB,EAAE,GAAG,EAAE,CAAC,IAAI,iBAAiB,EAAS,CAAC,CAAC","sourcesContent":["import angular from \"angular\";\n\nimport {fabComponent} from \"./fab.component\";\nimport {CheckboxDirective} from \"./checkbox.directive\";\nimport {CollapsibleDirective} from \"./collapsible.directive\";\nimport {SliderDirective} from \"./slider.directive\";\nimport {NumberFieldDirective} from \"./numberField.directive\";\nimport {CollapsibleElementDirective} from \"./collapsible.element.directive\";\nimport {DropdownController} from \"./dropdown.controller\";\nimport {DropdownDirective} from \"./dropdown.directive\";\n\nimport \"../../core/tooltip/tooltip.module\";\n\nangular.module(\"app.codeCharta.ui.common\", [\"app.codeCharta.core.tooltip\"])\n    .component(fabComponent.selector, fabComponent)\n    .directive(\"checkboxDirective\", () => new CheckboxDirective())\n    .directive(\"collapsibleElementDirective\", ($rootScope, $timeout) => new CollapsibleElementDirective($rootScope, $timeout))\n    .directive(\"collapsibleDirective\", () => new CollapsibleDirective())\n    .directive(\"sliderDirective\", () => new SliderDirective())\n    .directive(\"numberFieldDirective\", () => new NumberFieldDirective())\n    .controller(\"dropdownController\", DropdownController)\n    .directive(\"dropdownDirective\", () => new DropdownDirective() as any);\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"013ecd0846495c96427561c2f5fe155c616a7fbf"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/dropdown.controller.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/dropdown.controller.ts","statementMap":{"0":{"start":{"line":12,"column":8},"end":{"line":12,"column":45}},"1":{"start":{"line":13,"column":8},"end":{"line":13,"column":29}},"2":{"start":{"line":14,"column":8},"end":{"line":14,"column":39}},"3":{"start":{"line":17,"column":8},"end":{"line":17,"column":29}},"4":{"start":{"line":25,"column":8},"end":{"line":25,"column":60}},"5":{"start":{"line":28,"column":8},"end":{"line":28,"column":74}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":40},"end":{"line":15,"column":5}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":39},"end":{"line":18,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":29},"end":{"line":26,"column":5}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":30},"end":{"line":29,"column":5}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0},"f":{"0":1,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"dropdown.controller.js","sourceRoot":"","sources":["dropdown.controller.ts"],"names":[],"mappings":"AAEA;;GAEG;AACH;IAEI,eAAe;IACf;;;;OAIG;IACH,YACY,cAA8B,EAC9B,MAAc;QADd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QAEtB,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAEnC,CAAC;IAED,iBAAiB,CAAC,QAAkB,EAAE,KAAY;QAC9C,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED;;;;OAIG;IACH,mBAAmB,CAAC,GAAG;QACnB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IACxD,CAAC;IAED,mBAAmB,CAAC,IAAY;QAC5B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;IACtE,CAAC;CACJ;AAED,OAAO,EAAC,kBAAkB,EAAC,CAAC","sourcesContent":["import {TooltipService, TooltipServiceSubscriber, Tooltips} from \"../../core/tooltip/tooltip.service\";\nimport {IScope} from \"angular\";\n/**\n * Controller for the DropdownDirective\n */\nclass DropdownController implements TooltipServiceSubscriber{\n\n    /* @ngInject */\n    /**\n     *\n     * @param {TooltipService} tooltipService\n     * @param {Scope} $scope\n     */\n    constructor(\n        private tooltipService: TooltipService,\n        private $scope: IScope) {\n\n        tooltipService.subscribe(this);\n\n    }\n\n    onTooltipsChanged(tooltips: Tooltips, event: Event) {\n        this.$scope.$apply();\n    }\n\n    /**\n     * returns the tooltip description related to the given key\n     * @param {String} key\n     * @returns {String} description\n     */\n    getTooltipTextByKey(key) {\n        return this.tooltipService.getTooltipTextByKey(key);\n    }\n\n    toLowerCaseButFirst(word: string): string{\n        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n    }\n}\n\nexport {DropdownController};\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"0a786a08aba2aca449a23a55d60d199021218bf3"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/dropdown.directive.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/dropdown.directive.ts","statementMap":{"0":{"start":{"line":7,"column":8},"end":{"line":14,"column":21}},"1":{"start":{"line":15,"column":8},"end":{"line":15,"column":28}},"2":{"start":{"line":16,"column":8},"end":{"line":22,"column":10}},"3":{"start":{"line":23,"column":8},"end":{"line":23,"column":45}},"4":{"start":{"line":24,"column":8},"end":{"line":24,"column":35}},"5":{"start":{"line":25,"column":8},"end":{"line":25,"column":37}},"6":{"start":{"line":32,"column":8},"end":{"line":32,"column":89}},"7":{"start":{"line":32,"column":29},"end":{"line":32,"column":53}},"8":{"start":{"line":32,"column":65},"end":{"line":32,"column":85}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":26,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":16},"end":{"line":33,"column":5}},"line":31},"2":{"name":"(anonymous_2)","decl":{"start":{"line":32,"column":21},"end":{"line":32,"column":22}},"loc":{"start":{"line":32,"column":27},"end":{"line":32,"column":55}},"line":32},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":57},"end":{"line":32,"column":58}},"loc":{"start":{"line":32,"column":63},"end":{"line":32,"column":87}},"line":32}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":1},"f":{"0":1,"1":1,"2":2,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"dropdown.directive.js","sourceRoot":"","sources":["dropdown.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,kBAAkB,EAAC,MAAM,uBAAuB,CAAC;AAGzD;;GAEG;AACH,MAAM;IA2BF;QAzBA,aAAQ,GAAG,uCAAuC;YAC9C,4EAA4E;YAC5E,cAAc;YACd,sGAAsG;YACtG,mLAAmL;YACnL,0JAA0J;YAC1J,iBAAiB;YACjB,QAAQ,CAAC;QAEb,aAAQ,GAAG,GAAG,CAAC;QAEf,UAAK,GAAG;YACJ,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,GAAG;YACX,aAAa,EAAE,GAAG;SACrB,CAAC;QAGN,eAAU,GAAG,kBAAkB,CAAC;QAC5B,iBAAY,GAAG,MAAM,CAAC;QACtB,qBAAgB,GAAG,IAAI,CAAC;IAGT,CAAC;IAEhB;;;OAGG;IACH,IAAI,CAAC,KAAK;QACN,KAAK,CAAC,MAAM,CACR,GAAE,EAAE,GAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,CAAC,EAC9B,GAAE,EAAE,GAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAA,CAAC,CAC7B,CAAC;IACN,CAAC;CAEJ","sourcesContent":["import {DropdownController} from \"./dropdown.controller\";\nimport {IDirective} from \"angular\";\n\n/**\n * Renders a dropdown menu.\n */\nexport class DropdownDirective implements IDirective{\n\n    template = \"<div class=\\\"input-field col s12\\\">\\n\" +\n        \"    <label for=\\\"dropdown-directive-{{::$id}}\\\">{{::ctrl.label}}</label>\\n\" +\n        \"    <br />\\n\" +\n        \"    <select class=\\\"browser-default\\\" ng-model=\\\"ctrl.model\\\" id=\\\"dropdown-directive-{{::$id}}\\\">\\n\" +\n        \"        <option ng-if=\\\"ctrl.useEnumFilter\\\" title=\\\"{{ctrl.getTooltipTextByKey(x);}}\\\" ng-repeat=\\\"x in ctrl.values\\\" value=\\\"{{x}}\\\">{{ctrl.toLowerCaseButFirst(x)}}</option>\\n\" +\n        \"        <option ng-if=\\\"!ctrl.useEnumFilter\\\" title=\\\"{{ctrl.getTooltipTextByKey(x);}}\\\" ng-repeat=\\\"x in ctrl.values\\\" value=\\\"{{x}}\\\">{{x}}</option>\\n\" +\n        \"    </select>\\n\" +\n        \"</div>\";\n\n    restrict = \"E\";\n\n    scope = {\n        label: \"@\",\n        values: \"=\",\n        model: \"=\",\n        change: \"&\",\n        useEnumFilter: \"@\"\n    };\n\n\ncontroller = DropdownController;\n    controllerAs = \"ctrl\";\n    bindToController = true;\n\n\n    constructor() {}\n\n    /**\n     * Links the change function to model changes.\n     * @param {Scope} scope\n     */\n    link(scope){\n        scope.$watch(\n            ()=>{return scope.ctrl.model;},\n            ()=>{scope.ctrl.change();}\n        );\n    }\n\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"cbd392028a2e55912fc51babf6741a943243bf67"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/fab.component.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/fab.component.ts","statementMap":{"0":{"start":{"line":4,"column":28},"end":{"line":10,"column":1}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"fab.component.js","sourceRoot":"","sources":["fab.component.ts"],"names":[],"mappings":"AAEA;;GAEG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG;IACxB,QAAQ,EAAE,cAAc;IACxB,QAAQ,EAAE,8GAA8G;IACxH,QAAQ,EAAE;QACN,SAAS,EAAE,GAAG;KACjB;CACJ,CAAC","sourcesContent":["import $ from \"jquery\";\n\n/**\n * Renders a simple floating action button.\n */\nexport const fabComponent = {\n    selector: \"fabComponent\",\n    template: \"<a class='btn-floating btn-large waves-effect waves-light teal'><i class='fa {{::$ctrl.iconClass}}'></i></a>\",\n    bindings: {\n        iconClass: \"@\"\n    }\n};\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"3724dcc9039354516aa63b202fd665c2d1b4f808"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/numberField.directive.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/numberField.directive.ts","statementMap":{"0":{"start":{"line":7,"column":8},"end":{"line":11,"column":21}},"1":{"start":{"line":12,"column":8},"end":{"line":12,"column":28}},"2":{"start":{"line":16,"column":8},"end":{"line":21,"column":10}},"3":{"start":{"line":27,"column":8},"end":{"line":27,"column":79}},"4":{"start":{"line":27,"column":29},"end":{"line":27,"column":48}},"5":{"start":{"line":27,"column":60},"end":{"line":27,"column":75}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":22,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":16},"end":{"line":28,"column":5}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":21},"end":{"line":27,"column":22}},"loc":{"start":{"line":27,"column":27},"end":{"line":27,"column":50}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":52},"end":{"line":27,"column":53}},"loc":{"start":{"line":27,"column":58},"end":{"line":27,"column":77}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1},"f":{"0":1,"1":1,"2":2,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"numberField.directive.js","sourceRoot":"","sources":["numberField.directive.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAGb;;GAEG;AACH,MAAM;IAoBF;QAlBA,aAAQ,GAAG,uCAAuC;YAC9C,0EAA0E;YAC1E,cAAc;YACd,uGAAuG;YACvG,QAAQ,CAAC;QAEb,aAAQ,GAAG,GAAG,CAAC;QAEf;;YAEI;QACJ,UAAK,GAAG;YACJ,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,GAAG;YACV,GAAG,EAAE,GAAG;YACR,MAAM,EAAC,GAAG;SACb,CAAC;IAGF,CAAC;IAED;;OAEG;IACH,IAAI,CAAC,KAAK;QACN,KAAK,CAAC,MAAM,CACR,GAAE,EAAE,GAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA,CAAC,EACzB,GAAE,EAAE,GAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAA,CAAC,CACxB,CAAC;IACN,CAAC;CAEJ","sourcesContent":["\"use strict\";\nimport {IDirective} from \"angular\";\n\n/**\n * Renders a number field.\n */\nexport class NumberFieldDirective implements IDirective{\n\n    template = \"<div class=\\\"input-field col s12\\\">\\n\" +\n        \"    <label for=\\\"numberField-directive-{{::$id}}\\\">{{::label}}</label>\\n\" +\n        \"    <br />\\n\" +\n        \"    <input id=\\\"numberField-directive-{{::$id}}\\\" type=\\\"number\\\" ng-model=\\\"model\\\" min={{::min}}>\\n\" +\n        \"</div>\";\n\n    restrict = \"E\";\n\n    /**\n     * Binds 'model', 'label', a minimal value 'min' and a 'change' function.\n     **/\n    scope = {\n        model: \"=\",\n        label: \"@\",\n        min: \"@\",\n        change:\"&\"\n    };\n\n    constructor() {\n    }\n\n    /**\n     * Links the change function to model changes.\n     */\n    link(scope){\n        scope.$watch(\n            ()=>{return scope.model;},\n            ()=>{scope.change();}\n        );\n    }\n    \n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"567433f151f35885177202852af293938d35fc60"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/slider.directive.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/common/slider.directive.ts","statementMap":{"0":{"start":{"line":3,"column":8},"end":{"line":7,"column":21}},"1":{"start":{"line":8,"column":8},"end":{"line":8,"column":28}},"2":{"start":{"line":9,"column":8},"end":{"line":17,"column":10}},"3":{"start":{"line":24,"column":8},"end":{"line":24,"column":79}},"4":{"start":{"line":24,"column":29},"end":{"line":24,"column":48}},"5":{"start":{"line":24,"column":60},"end":{"line":24,"column":75}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":4},"end":{"line":2,"column":5}},"loc":{"start":{"line":2,"column":18},"end":{"line":18,"column":5}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":16},"end":{"line":25,"column":5}},"line":23},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":21},"end":{"line":24,"column":22}},"loc":{"start":{"line":24,"column":27},"end":{"line":24,"column":50}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":52},"end":{"line":24,"column":53}},"loc":{"start":{"line":24,"column":58},"end":{"line":24,"column":77}},"line":24}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1},"f":{"0":1,"1":1,"2":2,"3":1},"b":{},"inputSourceMap":{"version":3,"file":"slider.directive.js","sourceRoot":"","sources":["slider.directive.ts"],"names":[],"mappings":"AAKA,MAAM;IAoBF;QAlBA,aAAQ,GAAG,uCAAuC;YAC9C,qEAAqE;YACrE,cAAc;YACd,mIAAmI;YACnI,QAAQ,CAAC;QAEb,aAAQ,GAAG,GAAG,CAAC;QAEf,UAAK,GAAG;YACJ,KAAK,EAAE,GAAG;YACV,KAAK,EAAE,GAAG;YACV,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;YACR,IAAI,EAAE,GAAG;YACT,QAAQ,EAAE,GAAG;YACb,MAAM,EAAC,GAAG;SACb,CAAC;IAEa,CAAC;IAEhB;;;OAGG;IACH,IAAI,CAAC,KAAK;QAEN,KAAK,CAAC,MAAM,CACR,GAAE,EAAE,GAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA,CAAC,EACzB,GAAE,EAAE,GAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAA,CAAC,CACxB,CAAC;IAEN,CAAC;CAEJ","sourcesContent":["/**\n * Renders a slider.\n */\nimport {IDirective} from \"angular\";\n\nexport class SliderDirective implements IDirective{\n\n    template = \"<div class=\\\"range-field col s12\\\">\\n\" +\n        \"    <label for=\\\"slider-directive-{{::$id}}\\\">{{::label}}</label>\\n\" +\n        \"    <br />\\n\" +\n        \"    <input id=\\\"slider-directive-{{::$id}}\\\" type=\\\"range\\\" ng-model=\\\"model\\\" min={{::min}} max={{::max}} step=\\\"{{::step}}\\\">\\n\" +\n        \"</div>\";\n\n    restrict = \"E\";\n\n    scope = {\n        model: \"=\",\n        label: \"@\",\n        min: \"@\",\n        max: \"@\",\n        step: \"@\",\n        decimals: \"@\",\n        change:\"&\"\n    };\n\n    constructor() {}\n\n    /**\n     * Links the change function to model changes.\n     * @param {Scope} scope\n     */\n    link(scope){\n\n        scope.$watch(\n            ()=>{return scope.model;},\n            ()=>{scope.change();}\n        );\n\n    }\n    \n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9bae15f7096db955b200481a38b74bf1923aff02"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/revisionChooser/revisionChooserComponent.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/revisionChooser/revisionChooserComponent.ts","statementMap":{"0":{"start":{"line":13,"column":8},"end":{"line":13,"column":39}},"1":{"start":{"line":14,"column":8},"end":{"line":14,"column":47}},"2":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"3":{"start":{"line":16,"column":8},"end":{"line":16,"column":52}},"4":{"start":{"line":17,"column":8},"end":{"line":17,"column":36}},"5":{"start":{"line":25,"column":8},"end":{"line":25,"column":67}},"6":{"start":{"line":26,"column":8},"end":{"line":26,"column":62}},"7":{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},"8":{"start":{"line":34,"column":12},"end":{"line":34,"column":65}},"9":{"start":{"line":35,"column":12},"end":{"line":35,"column":33}},"10":{"start":{"line":39,"column":12},"end":{"line":39,"column":64}},"11":{"start":{"line":40,"column":12},"end":{"line":40,"column":32}},"12":{"start":{"line":48,"column":8},"end":{"line":48,"column":40}},"13":{"start":{"line":51,"column":8},"end":{"line":51,"column":47}},"14":{"start":{"line":54,"column":8},"end":{"line":54,"column":46}},"15":{"start":{"line":57,"column":40},"end":{"line":61,"column":1}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":46},"end":{"line":18,"column":5}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":16},"end":{"line":27,"column":5}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":13},"end":{"line":42,"column":5}},"line":31},"3":{"name":"(anonymous_3)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":24},"end":{"line":49,"column":5}},"line":47},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":27},"end":{"line":52,"column":5}},"line":50},"5":{"name":"(anonymous_5)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":26},"end":{"line":55,"column":5}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":41,"column":9}},{"start":{"line":32,"column":8},"end":{"line":41,"column":9}}],"line":32}},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":0,"6":0,"7":2,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"f":{"0":8,"1":0,"2":2,"3":1,"4":1,"5":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"revisionChooserComponent.js","sourceRoot":"","sources":["revisionChooserComponent.ts"],"names":[],"mappings":"AAIA,OAAO,CAAC,MAAM,QAAQ,CAAC;AAEvB;;GAEG;AACH,MAAM;IAKF,eAAe;IAEf;;;;OAIG;IACH,YACY,WAAwB,EACxB,eAAgC;QADhC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAXrC,YAAO,GAAY,KAAK,CAAC;QAa5B,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC;QAC5C,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED;;;;OAIG;IACH,SAAS;QACL,CAAC,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACH,MAAM;QACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,2CAA2C;YAC3C,CAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,CAAC,GAAG,GAAG,IAAI,EAAC,CAAC,CAAC;YACnD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,2CAA2C;YAC3C,CAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,GAAG,GAAC,IAAI,EAAC,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC;IACL,CAAC;IAED;;;OAGG;IACH,aAAa,CAAC,IAAe;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IACpC,CAAC;IAED,iBAAiB,CAAC,GAAW;QACzB,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;IAC3C,CAAC;IAGD,gBAAgB,CAAC,GAAW;QACxB,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IAC1C,CAAC;CAEJ;AAED,MAAM,CAAC,MAAM,wBAAwB,GAAG;IACpC,QAAQ,EAAE,0BAA0B;IACpC,QAAQ,EAAE,OAAO,CAAC,wBAAwB,CAAC;IAC3C,UAAU,EAAE,yBAAyB;CACxC,CAAC","sourcesContent":["import {DataServiceSubscriber, DataService, DataModel} from \"../../core/data/data.service\";\nimport {SettingsService} from \"../../core/settings/settings.service\";\nimport {CodeMap} from \"../../core/data/model/CodeMap\";\n\nimport $ from \"jquery\";\n\n/**\n * Controls the RevisionChooser\n */\nexport class RevisionChooserController implements DataServiceSubscriber{\n\n    public revisions: CodeMap[];\n    public visible: boolean = false;\n\n    /* @ngInject */\n\n    /**\n     * @listens {data-changed}\n     * @constructor\n     * @param {DataService} dataService\n     */\n    constructor(\n        private dataService: DataService,\n        private settingsService: SettingsService\n    ) {\n        this.revisions = dataService.data.revisions;\n        dataService.subscribe(this);\n    }\n\n    /**\n     * Links the click Handler\n     * @param {Scope} scope\n     * @param {object} element dom element\n     */\n    $postLink() {\n        $(\"#revisionButton\").bind(\"click\", this.toggle.bind(this));\n        $(\"#mapButton\").bind(\"click\", this.toggle.bind(this));\n    }\n\n    /**\n     * Toggles the visibility\n     */\n    toggle(){\n        if (this.visible) {\n            //noinspection TypeScriptUnresolvedFunction\n            $(\"#revisionChooser\").animate({left: -500 + \"px\"});\n            this.visible = false;\n        } else {\n            //noinspection TypeScriptUnresolvedFunction\n            $(\"#revisionChooser\").animate({left: 2.8+\"em\"});\n            this.visible = true;\n        }\n    }\n\n    /**\n     * called on data change\n     * @param {DataModel} data\n     */\n    onDataChanged(data: DataModel) {\n        this.revisions = data.revisions;\n    }\n\n    loadComparisonMap(key: number) {\n        this.dataService.setComparisonMap(key);\n    }\n\n\n    loadReferenceMap(key: number) {\n        this.dataService.setReferenceMap(key);\n    }\n\n}\n\nexport const revisionChooserComponent = {\n    selector: \"revisionChooserComponent\",\n    template: require(\"./revisionChooser.html\"),\n    controller: RevisionChooserController\n};\n\n\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"289194a58f8418866e2c3ae501e4338436877b82"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/scenarioButtons/scenarioButtonsComponent.ts": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/app/codeCharta/ui/scenarioButtons/scenarioButtonsComponent.ts","statementMap":{"0":{"start":{"line":13,"column":8},"end":{"line":13,"column":47}},"1":{"start":{"line":14,"column":8},"end":{"line":14,"column":45}},"2":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"3":{"start":{"line":16,"column":8},"end":{"line":16,"column":29}},"4":{"start":{"line":17,"column":8},"end":{"line":17,"column":56}},"5":{"start":{"line":18,"column":8},"end":{"line":18,"column":44}},"6":{"start":{"line":21,"column":8},"end":{"line":21,"column":56}},"7":{"start":{"line":22,"column":8},"end":{"line":22,"column":51}},"8":{"start":{"line":28,"column":8},"end":{"line":37,"column":9}},"9":{"start":{"line":30,"column":12},"end":{"line":30,"column":65}},"10":{"start":{"line":31,"column":12},"end":{"line":31,"column":33}},"11":{"start":{"line":35,"column":12},"end":{"line":35,"column":64}},"12":{"start":{"line":36,"column":12},"end":{"line":36,"column":32}},"13":{"start":{"line":40,"column":8},"end":{"line":40,"column":29}},"14":{"start":{"line":48,"column":8},"end":{"line":48,"column":60}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":50}},"16":{"start":{"line":59,"column":40},"end":{"line":63,"column":1}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":57},"end":{"line":19,"column":5}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":16},"end":{"line":23,"column":5}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":13},"end":{"line":38,"column":5}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":39},"end":{"line":41,"column":5}},"line":39},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":37},"end":{"line":49,"column":5}},"line":47},"5":{"name":"(anonymous_5)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":19},"end":{"line":56,"column":5}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":37,"column":9}},{"start":{"line":28,"column":8},"end":{"line":37,"column":9}}],"line":28}},"s":{"0":8,"1":8,"2":8,"3":8,"4":8,"5":8,"6":0,"7":0,"8":2,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":1,"16":1},"f":{"0":8,"1":0,"2":2,"3":1,"4":2,"5":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"scenarioButtonsComponent.js","sourceRoot":"","sources":["scenarioButtonsComponent.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAKb,OAAO,CAAC,MAAM,QAAQ,CAAC;AAEvB,MAAM;IAKF,eAAe;IACf;;;;;;OAMG;IACH,YACY,eAAgC,EAChC,cAA8B,EAC9B,MAAc;QAFd,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QAblB,YAAO,GAAY,KAAK,CAAC;QAe7B,IAAI,CAAC,SAAS,GAAG,eAAe,CAAC,YAAY,EAAE,CAAC;QAChD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,SAAS;QACL,CAAC,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAChD,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC;IAED;;OAEG;IACH,MAAM;QACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,2CAA2C;YAC3C,CAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,CAAC,GAAG,GAAG,IAAI,EAAC,CAAC,CAAC;YACnD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,2CAA2C;YAC3C,CAAC,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,GAAG,GAAC,IAAI,EAAC,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACxB,CAAC;IACL,CAAC;IAED,iBAAiB,CAAC,QAAkB,EAAE,KAAY;QAC9C,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;IACzB,CAAC;IAED;;;;OAIG;IACH,2BAA2B,CAAC,GAAW;QACnC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IACxD,CAAC;IAED;;;OAGG;IACH,OAAO,CAAC,KAAe;QACnB,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC9C,CAAC;CACJ;AAAA,CAAC;AAEF,MAAM,CAAC,MAAM,wBAAwB,GAAG;IACpC,QAAQ,EAAE,0BAA0B;IACpC,QAAQ,EAAE,OAAO,CAAC,wBAAwB,CAAC;IAC3C,UAAU,EAAE,yBAAyB;CACxC,CAAC","sourcesContent":["\"use strict\";\n\nimport {IScope} from \"angular\";\nimport {TooltipService, TooltipServiceSubscriber, Tooltips} from \"../../core/tooltip/tooltip.service\";\nimport {ScenarioService, Scenario} from \"../../core/scenario/scenario.service\";\nimport $ from \"jquery\";\n\nexport class ScenarioButtonsController implements TooltipServiceSubscriber{\n\n    private scenarios: Scenario[];\n    private visible: boolean = false;\n\n    /* @ngInject */\n    /**\n     *\n     * @param {Scenario} scenarioService\n     * @param {TooltipService} tooltipService\n     * @param {Scope} $rootScope\n     * @param {Scope} $scope\n     */\n    constructor(\n        private scenarioService: ScenarioService,\n        private tooltipService: TooltipService,\n        private $scope: IScope\n    ) {\n        this.scenarios = scenarioService.getScenarios();\n        this.tooltipService.subscribe(this);\n    }\n\n    $postLink(){\n        $(\"#revisionButton\").bind(\"click\", this.toggle);\n        $(\"#mapButton\").bind(\"click\", this.toggle);\n    }\n\n    /**\n     * Toggles the visibility\n     */\n    toggle(){\n        if (this.visible) {\n            //noinspection TypeScriptUnresolvedFunction\n            $(\"#revisionChooser\").animate({left: -500 + \"px\"});\n            this.visible = false;\n        } else {\n            //noinspection TypeScriptUnresolvedFunction\n            $(\"#revisionChooser\").animate({left: 2.8+\"em\"});\n            this.visible = true;\n        }\n    }\n\n    onTooltipsChanged(tooltips: Tooltips, event: Event) {\n        this.$scope.$apply();\n    }\n\n    /**\n     * returns the tooltip description related to the given key\n     * @param {String} key\n     * @returns {String} tooltip\n     */\n    getScenarioTooltipTextByKey(key: string){\n        return this.tooltipService.getTooltipTextByKey(key);\n    }\n\n    /**\n     * called when a scenario button is clicked, applies the linked scenario\n     * @param {Scenario} value\n     */\n    onclick(value: Scenario){\n        this.scenarioService.applyScenario(value);\n    }\n};\n\nexport const scenarioButtonsComponent = {\n    selector: \"scenarioButtonsComponent\",\n    template: require(\"./scenarioButtons.html\"),\n    controller: ScenarioButtonsController\n};\n\n\n\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"36ed99283a3e6e2475a8623348a1d7f6ea82c2bf"}
,"/home/travis/build/MaibornWolff/codecharta/visualization/mocks/htmlMock.js": {"path":"/home/travis/build/MaibornWolff/codecharta/visualization/mocks/htmlMock.js","statementMap":{"0":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}}},"fnMap":{},"branchMap":{},"s":{"0":2},"f":{},"b":{},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"6499169abb58b4ba52a6d6cd86b1b2a9abb4203d"}
}
